  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (22.8ms)
Completed 200 OK in 692ms (Views: 691.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 384ms (Views: 383.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (3.0ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 379ms (Views: 378.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (4.8ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 387ms (Views: 386.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 363ms (Views: 358.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (7.4ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (17.2ms)
Completed 200 OK in 378ms (Views: 377.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (5.4ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 421ms (Views: 421.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.5ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 361ms (Views: 360.3ms | ActiveRecord: 0.0ms)
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 427ms (Views: 426.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 347ms (Views: 346.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (7.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 357ms (Views: 356.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.7ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 417ms (Views: 416.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (6.8ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 370ms (Views: 369.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (29.5ms)[0m  [1mDROP DATABASE IF EXISTS `eshop6_test`[0m
  [1m[35m (0.6ms)[0m  CREATE DATABASE `eshop6_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (338.6ms)[0m  [1mCREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (309.5ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (499.8ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) [0m
  [1m[35m (0.5ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (32.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170321100602')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:49:23', '2017-03-21 10:49:23', 980190962)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:49:23', '2017-03-21 10:49:23', 980190962)[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:50:27', '2017-03-21 10:50:27', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:50:27', '2017-03-21 10:50:27', 980190962)[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:54:58', '2017-03-21 10:54:58', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:54:58', '2017-03-21 10:54:58', 980190962)[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.5ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-21 10:56:17', '2017-03-21 10:56:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (38.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (24.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:15:55', '2017-03-24 18:15:55')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:15:55', '2017-03-24 18:15:55')[0m
  [1m[35m (81.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (5.0ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (42.7ms)
Completed 200 OK in 1235ms (Views: 1230.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (16.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:15:56' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 193ms (ActiveRecord: 18.7ms)
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (37.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.7ms)
  [1m[35mManufacturer Exists (0.9ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (2.5ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (34.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (3.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2017-03-24 18:15:57', '2017-03-24 18:15:57')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (40.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:16:16', '2017-03-24 18:16:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:16:16', '2017-03-24 18:16:16')[0m
  [1m[35m (46.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 19ms (ActiveRecord: 1.1ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (2.5ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 200ms (Views: 199.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (49.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (1.7ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35mManufacturer Exists (0.6ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:16:16' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 6ms (ActiveRecord: 1.8ms)
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (46.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2017-03-24 18:16:16', '2017-03-24 18:16:16')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (42.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:17:16', '2017-03-24 18:17:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:17:16', '2017-03-24 18:17:16')[0m
  [1m[35m (121.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:17:16', '2017-03-24 18:17:16')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (130.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:18:11', '2017-03-24 18:18:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:18:11', '2017-03-24 18:18:11')[0m
  [1m[35m (77.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 230ms (Views: 229.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (1.6ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (4.8ms)
Completed 200 OK in 15ms (Views: 7.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.5ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 2ms (ActiveRecord: 1.1ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.6ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (45.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:18:12' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 25ms (ActiveRecord: 2.2ms)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (35.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.6ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2017-03-24 18:18:12', '2017-03-24 18:18:12')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (39.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:18:12', '2017-03-24 18:18:12')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (38.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:19:24', '2017-03-24 18:19:24')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:19:24', '2017-03-24 18:19:24')[0m
  [1m[35m (79.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2017-03-24 18:19:24', '2017-03-24 18:19:24')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (39.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (2.5ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (8.3ms)
Completed 200 OK in 217ms (Views: 211.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.2ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.4ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.2ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:19:24' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (30.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 3ms (ActiveRecord: 1.2ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.0ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (30.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:19:39', '2017-03-24 18:19:39')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:19:39', '2017-03-24 18:19:39')[0m
  [1m[35m (34.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:19:39', '2017-03-24 18:19:39')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (43.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:23:50', '2017-03-24 18:23:50')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:23:50', '2017-03-24 18:23:50')[0m
  [1m[35m (87.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:23:50', '2017-03-24 18:23:50')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (71.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:25:37', '2017-03-24 18:25:37')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:25:37', '2017-03-24 18:25:37')[0m
  [1m[35m (73.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:25:37', '2017-03-24 18:25:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (48.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:26:55', '2017-03-24 18:26:55')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:26:55', '2017-03-24 18:26:55')[0m
  [1m[35m (87.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (2.4ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (7.8ms)
Completed 200 OK in 203ms (Views: 199.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.2ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:26:55' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (47.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2017-03-24 18:26:55', '2017-03-24 18:26:55')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (37.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (2.2ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (33.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.7ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:27:16', '2017-03-24 18:27:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:27:16', '2017-03-24 18:27:16')[0m
  [1m[35m (74.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:27:16', '2017-03-24 18:27:16')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (39.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:32:05', '2017-03-24 18:32:05')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:32:05', '2017-03-24 18:32:05')[0m
  [1m[35m (83.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-03-24 18:32:05', '2017-03-24 18:32:05')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (72.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:41:25', '2017-03-24 18:41:25')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:41:25', '2017-03-24 18:41:25')[0m
  [1m[35m (74.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (1.8ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (5.9ms)
Completed 200 OK in 207ms (Views: 199.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-03-24 18:41:25', '2017-03-24 18:41:25')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (37.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.2ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.6ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:41:25' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 7ms (ActiveRecord: 2.7ms)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (45.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 19:26:43', '2017-03-24 19:26:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 19:26:43', '2017-03-24 19:26:43')[0m
  [1m[35m (71.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-03-24 19:26:43', '2017-03-24 19:26:43')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (49.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 19:32:12', '2017-03-24 19:32:12')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 19:32:12', '2017-03-24 19:32:12')[0m
  [1m[35m (70.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-03-24 19:32:12', '2017-03-24 19:32:12')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (47.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (30.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-26 08:03:11', '2017-03-26 08:03:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-26 08:03:11', '2017-03-26 08:03:11')[0m
  [1m[35m (90.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 701ms (Views: 654.0ms | ActiveRecord: 0.6ms)
  [1m[35mManufacturer Exists (17.5ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (21.4ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (55.3ms)
Completed 200 OK in 68ms (Views: 67.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (4.0ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (17.7ms)
Completed 200 OK in 39ms (Views: 38.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (36.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-03-26 08:03:12', '2017-03-26 08:03:12')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 10ms (ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (37.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (3.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.4ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-26 08:03:12' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 9ms (ActiveRecord: 2.8ms)
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (33.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (25.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (414.8ms)[0m  [1mDROP DATABASE IF EXISTS `eshop6_test`[0m
  [1m[35m (0.4ms)[0m  CREATE DATABASE `eshop6_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (246.6ms)[0m  [1mCREATE TABLE `articles` (`id` int(11) auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `manufacturer_id` int(11) NOT NULL, `manufactured_at` datetime, `reference` varchar(13), `blurb` text, `size` int(11), `price` float(24), `created_at` datetime, `updated_at` datetime, `cover_image_file_name` varchar(255), `cover_image_content_type` varchar(255), `cover_image_file_size` int(11), `cover_image_updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (244.8ms)[0m  CREATE  INDEX `fk_articles_manufacturers` USING btree ON `articles` (`manufacturer_id`) 
  [1m[36m (332.7ms)[0m  [1mCREATE TABLE `articles_suppliers` (`id` int(11) auto_increment PRIMARY KEY, `supplier_id` int(11) NOT NULL, `article_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (257.9ms)[0m  CREATE  INDEX `fk_articles_suppliers_articles` USING btree ON `articles_suppliers` (`article_id`) 
  [1m[36m (211.7ms)[0m  [1mCREATE  INDEX `fk_articles_suppliers_suppliers` USING btree ON `articles_suppliers` (`supplier_id`) [0m
  [1m[35m (255.6ms)[0m  CREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (266.3ms)[0m  [1mCREATE TABLE `suppliers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255) NOT NULL, `last_name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (758.9ms)[0m  ALTER TABLE `articles` ADD CONSTRAINT `fk_articles_manufacturers`
FOREIGN KEY (`manufacturer_id`)
  REFERENCES `manufacturers` (`id`)
 ON DELETE CASCADE
  [1m[36m (761.6ms)[0m  [1mALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_articles`
FOREIGN KEY (`article_id`)
  REFERENCES `articles` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (726.0ms)[0m  ALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_suppliers`
FOREIGN KEY (`supplier_id`)
  REFERENCES `suppliers` (`id`)
 ON DELETE CASCADE
  [1m[36m (287.0ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (580.3ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (33.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170404092937')
  [1m[36m (33.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130630150644')[0m
  [1m[35m (33.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170321100602')
  [1m[36m (33.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170328092851')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-08', 100.0, '2017-04-08 18:32:09', '2017-04-08 18:32:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-08', 200.0, '2017-04-08 18:32:09', '2017-04-08 18:32:09')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-08', 300.0, '2017-04-08 18:32:09', '2017-04-08 18:32:09')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-08', 400.0, '2017-04-08 18:32:09', '2017-04-08 18:32:09')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:32:09', '2017-04-08 20:32:09', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:32:09', '2017-04-08 20:32:09', 2, 1)[0m
  [1m[35mFixture Insert (62.9ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:32:09', '2017-04-08 20:32:09', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:32:09', '2017-04-08 20:32:09', 4, 2)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-08 18:32:09', '2017-04-08 18:32:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-08 18:32:09', '2017-04-08 18:32:09')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-08 18:32:09', '2017-04-08 18:32:09')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-08 18:32:09', '2017-04-08 18:32:09')[0m
  [1m[35m (70.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-08 18:32:09', '2017-04-08 18:32:09')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (58.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (66.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-08', 100.0, '2017-04-08 18:39:09', '2017-04-08 18:39:09')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-08', 200.0, '2017-04-08 18:39:09', '2017-04-08 18:39:09')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-08', 300.0, '2017-04-08 18:39:09', '2017-04-08 18:39:09')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-08', 400.0, '2017-04-08 18:39:09', '2017-04-08 18:39:09')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:39:09', '2017-04-08 20:39:09', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:39:09', '2017-04-08 20:39:09', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:39:09', '2017-04-08 20:39:09', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:39:09', '2017-04-08 20:39:09', 4, 2)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-08 18:39:09', '2017-04-08 18:39:09')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-08 18:39:09', '2017-04-08 18:39:09')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-08 18:39:09', '2017-04-08 18:39:09')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-08 18:39:09', '2017-04-08 18:39:09')
  [1m[36m (42.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (3.0ms)
  Rendered admin/supplier/index.html.erb within layouts/application (46.6ms)
Completed 200 OK in 1935ms (Views: 1934.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (17.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (37.8ms)
Completed 200 OK in 56ms (Views: 55.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/supplier/_form.html.erb (1.9ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 76ms (Views: 4.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-08 18:39:12' WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 41ms (ActiveRecord: 1.6ms)
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (48.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-08 18:39:12', '2017-04-08 18:39:12')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 7ms (Views: 2.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (38.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (0.9ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.4ms)
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (42.3ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 129ms (ActiveRecord: 44.3ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (1.8ms)
  Rendered admin/supplier/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (39.9ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (78.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-08', 100.0, '2017-04-08 18:40:07', '2017-04-08 18:40:07')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-08', 200.0, '2017-04-08 18:40:07', '2017-04-08 18:40:07')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-08', 300.0, '2017-04-08 18:40:07', '2017-04-08 18:40:07')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-08', 400.0, '2017-04-08 18:40:07', '2017-04-08 18:40:07')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:07', '2017-04-08 20:40:07', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:07', '2017-04-08 20:40:07', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:07', '2017-04-08 20:40:07', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:07', '2017-04-08 20:40:07', 4, 2)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-08 18:40:07', '2017-04-08 18:40:07')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-08 18:40:07', '2017-04-08 18:40:07')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-08 18:40:07', '2017-04-08 18:40:07')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-08 18:40:07', '2017-04-08 18:40:07')
  [1m[36m (42.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (2.7ms)
  Rendered admin/supplier/new.html.erb within layouts/application (8.8ms)
Completed 200 OK in 229ms (Views: 224.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-08 18:40:07', '2017-04-08 18:40:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 4ms (Views: 224.1ms | ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (45.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (1.7ms)
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-08 18:40:07' WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (44.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (1.7ms)
  Rendered admin/supplier/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/supplier/_form.html.erb (1.8ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 11ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (68.8ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 86ms (ActiveRecord: 71.3ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (0.9ms)
  Rendered admin/supplier/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (36.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (88.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-08', 100.0, '2017-04-08 18:40:57', '2017-04-08 18:40:57')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-08', 200.0, '2017-04-08 18:40:57', '2017-04-08 18:40:57')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-08', 300.0, '2017-04-08 18:40:57', '2017-04-08 18:40:57')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-08', 400.0, '2017-04-08 18:40:57', '2017-04-08 18:40:57')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:57', '2017-04-08 20:40:57', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:57', '2017-04-08 20:40:57', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:57', '2017-04-08 20:40:57', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:57', '2017-04-08 20:40:57', 4, 2)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-08 18:40:57', '2017-04-08 18:40:57')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-08 18:40:57', '2017-04-08 18:40:57')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-08 18:40:57', '2017-04-08 18:40:57')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-08 18:40:57', '2017-04-08 18:40:57')
  [1m[36m (40.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/_form.html.erb (2.2ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (7.0ms)
Completed 200 OK in 217ms (Views: 208.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/supplier/_form.html.erb (1.6ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 13ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-08 18:40:58' WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-08 18:40:58', '2017-04-08 18:40:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 4ms (Views: 2.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (33.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (5.4ms)
  Rendered admin/supplier/index.html.erb within layouts/application (7.9ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (70.6ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 90ms (ActiveRecord: 72.4ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (1.2ms)
  Rendered admin/supplier/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (31.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (20.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (12.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (150.8ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:46:22', '2017-04-13 17:46:22')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:46:22', '2017-04-13 17:46:22')[0m
  [1m[35mFixture Delete (49.8ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:46:22', '2017-04-13 19:46:22', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:46:22', '2017-04-13 19:46:22', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:46:22', '2017-04-13 19:46:22', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:46:22', '2017-04-13 19:46:22', 4, 2)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:46:22', '2017-04-13 17:46:22')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:46:22', '2017-04-13 17:46:22')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36m (41.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (16.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:46:22', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 5, '2017-04-13 17:46:22', '2017-04-13 17:46:22')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 5, '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (326.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:46:23', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:46:23', '2017-04-13 17:46:23')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 6, '2017-04-13 17:46:23', '2017-04-13 17:46:23')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 6, '2017-04-13 17:46:23', '2017-04-13 17:46:23')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (99.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:46:23', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:46:23', '2017-04-13 17:46:23')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 7, '2017-04-13 17:46:23', '2017-04-13 17:46:23')[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 7, '2017-04-13 17:46:23', '2017-04-13 17:46:23')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 7 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 7[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35m (42.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (84.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:49:55', '2017-04-13 19:49:55', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:49:55', '2017-04-13 19:49:55', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:49:55', '2017-04-13 19:49:55', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:49:55', '2017-04-13 19:49:55', 4, 2)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36m (31.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:49:55', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 8, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 8, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 8 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 8[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35m (91.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:49:55', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 9, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 9, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (34.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:49:55', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 10, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 10, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 10 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (40.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (95.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:51:32', '2017-04-13 17:51:32')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:51:32', '2017-04-13 17:51:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:51:32', '2017-04-13 17:51:32')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:51:32', '2017-04-13 17:51:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 17:51:32', '2017-04-13 17:51:32')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:51:32', '2017-04-13 19:51:32', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:51:32', '2017-04-13 19:51:32', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:51:32', '2017-04-13 19:51:32', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:51:32', '2017-04-13 19:51:32', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:51:32', '2017-04-13 19:51:32', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:51:32', '2017-04-13 17:51:32')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:51:32', '2017-04-13 17:51:32')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:51:32', '2017-04-13 17:51:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:51:32', '2017-04-13 17:51:32')
  [1m[36m (40.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.8ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:51:32', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:51:33', '2017-04-13 17:51:33')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 11, '2017-04-13 17:51:33', '2017-04-13 17:51:33')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 11, '2017-04-13 17:51:33', '2017-04-13 17:51:33')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35m (118.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (1.9ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:51:33', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:51:33', '2017-04-13 17:51:33')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 12, '2017-04-13 17:51:33', '2017-04-13 17:51:33')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 12, '2017-04-13 17:51:33', '2017-04-13 17:51:33')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (37.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:51:33', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:51:33', '2017-04-13 17:51:33')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 13, '2017-04-13 17:51:33', '2017-04-13 17:51:33')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 13, '2017-04-13 17:51:33', '2017-04-13 17:51:33')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (46.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (67.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:53:12', '2017-04-13 17:53:12')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:53:12', '2017-04-13 17:53:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:53:12', '2017-04-13 17:53:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:53:12', '2017-04-13 17:53:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 17:53:12', '2017-04-13 17:53:12')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:53:12', '2017-04-13 19:53:12', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:53:12', '2017-04-13 19:53:12', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:53:12', '2017-04-13 19:53:12', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:53:12', '2017-04-13 19:53:12', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:53:12', '2017-04-13 19:53:12', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:53:12', '2017-04-13 17:53:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:53:12', '2017-04-13 17:53:12')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:53:12', '2017-04-13 17:53:12')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:53:12', '2017-04-13 17:53:12')
  [1m[36m (39.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (1.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:53:13', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:53:13', '2017-04-13 17:53:13')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 14, '2017-04-13 17:53:13', '2017-04-13 17:53:13')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 14, '2017-04-13 17:53:13', '2017-04-13 17:53:13')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (116.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:53:13', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:53:13', '2017-04-13 17:53:13')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 15, '2017-04-13 17:53:13', '2017-04-13 17:53:13')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 15, '2017-04-13 17:53:13', '2017-04-13 17:53:13')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 15 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (39.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:53:13', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:53:13', '2017-04-13 17:53:13')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 16, '2017-04-13 17:53:13', '2017-04-13 17:53:13')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 16, '2017-04-13 17:53:13', '2017-04-13 17:53:13')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (38.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (66.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:54:25', '2017-04-13 17:54:25')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:54:25', '2017-04-13 17:54:25')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:54:25', '2017-04-13 17:54:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:54:25', '2017-04-13 17:54:25')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 17:54:25', '2017-04-13 17:54:25')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:54:25', '2017-04-13 19:54:25', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:54:25', '2017-04-13 19:54:25', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:54:25', '2017-04-13 19:54:25', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:54:25', '2017-04-13 19:54:25', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:54:25', '2017-04-13 19:54:25', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:54:26', '2017-04-13 17:54:26')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:54:26', '2017-04-13 17:54:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36m (40.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:54:26', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 17, '2017-04-13 17:54:26', '2017-04-13 17:54:26')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 17, '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (104.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.8ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:54:26', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:54:26', '2017-04-13 17:54:26')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 18, '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 18 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 18[0m
  [1m[35m (35.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:54:26', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 19, '2017-04-13 17:54:26', '2017-04-13 17:54:26')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 19, '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (119.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (91.0ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:55:07', '2017-04-13 17:55:07')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:55:07', '2017-04-13 17:55:07')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:55:07', '2017-04-13 17:55:07')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:55:07', '2017-04-13 17:55:07')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 17:55:07', '2017-04-13 17:55:07')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:07', '2017-04-13 19:55:07', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:07', '2017-04-13 19:55:07', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:07', '2017-04-13 19:55:07', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:07', '2017-04-13 19:55:07', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:07', '2017-04-13 19:55:07', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36m (41.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:55:08', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 20, '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 20, '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (119.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:55:08', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 21, '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 21, '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (45.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:55:08', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 22, '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 22 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 22[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (44.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (62.0ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:55:57', '2017-04-13 17:55:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:55:57', '2017-04-13 17:55:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:57', '2017-04-13 19:55:57', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:57', '2017-04-13 19:55:57', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:57', '2017-04-13 19:55:57', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:57', '2017-04-13 19:55:57', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:57', '2017-04-13 19:55:57', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:55:57', '2017-04-13 17:55:57')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:55:57', '2017-04-13 17:55:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:55:57', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:55:57', '2017-04-13 17:55:57')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 23, '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 23, '2017-04-13 17:55:58', '2017-04-13 17:55:58')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (98.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:55:58', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:55:58', '2017-04-13 17:55:58')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 24, '2017-04-13 17:55:58', '2017-04-13 17:55:58')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 24, '2017-04-13 17:55:58', '2017-04-13 17:55:58')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 24 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (30.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.9ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:55:58', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:55:58', '2017-04-13 17:55:58')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 25, '2017-04-13 17:55:58', '2017-04-13 17:55:58')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 25, '2017-04-13 17:55:58', '2017-04-13 17:55:58')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 25 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 25[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (35.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (87.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:16:05', '2017-04-13 20:16:05')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:16:05', '2017-04-13 20:16:05')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:16:05', '2017-04-13 22:16:05', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:16:05', '2017-04-13 22:16:05', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:16:05', '2017-04-13 22:16:05', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:16:05', '2017-04-13 22:16:05', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:16:05', '2017-04-13 22:16:05', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:16:05', '2017-04-13 20:16:05')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:16:05', '2017-04-13 20:16:05')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36m (41.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Articles of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Articles of Ruby', '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2017-04-13 20:16:05', '2017-04-13 20:16:05')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:16:05 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (48.2ms)
  Rendered admin/article/new.html.erb within layouts/application (56.2ms)
Completed 200 OK in 326ms (Views: 300.1ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"A new Article of Ruby", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-13 22:16:05 +0200", "reference"=>"123-123-123-X", "blurb"=>"A new Article of Ruby", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('A new Article of Ruby', 3, '2017-04-13 20:16:05', '123-123-123-X', 'A new Article of Ruby', 45.5, 40, '2017-04-13 20:16:06', '2017-04-13 20:16:06')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (3, 26, '2017-04-13 20:16:06', '2017-04-13 20:16:06')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 21ms (ActiveRecord: 2.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'A new Article of Ruby' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/show/26" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"26"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 26 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 26
  Rendered admin/article/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/edit?id=26" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"26"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 26 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 26[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (6.9ms)
  Rendered admin/article/edit.html.erb within layouts/application (8.0ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 1.3ms)
Started POST "/admin/article/update?id=26" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"A very new Article of Ruby", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-13 22:16:06 +0200", "reference"=>"123-123-123-X", "blurb"=>"A very new Article of Ruby", "size"=>"42", "price"=>"50"}, "id"=>"26"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 26 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 26
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 26) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `articles` SET `title` = 'A very new Article of Ruby', `manufactured_at` = '2017-04-13 20:16:06', `blurb` = 'A very new Article of Ruby', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:16:06' WHERE `articles`.`id` = 26[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/26
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
Started GET "/admin/article/show/26" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"26"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 26 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 26[0m
  Rendered admin/article/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.9ms)
Started POST "/admin/article/destroy?id=26" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"26"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 26 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 26
  [1m[36mSQL (67.8ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 26[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 72ms (ActiveRecord: 68.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.7ms)
  [1m[35m (31.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (112.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:21:42', '2017-04-13 20:21:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:21:42', '2017-04-13 20:21:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:21:42', '2017-04-13 20:21:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:21:42', '2017-04-13 20:21:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:21:42', '2017-04-13 20:21:42')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:21:42', '2017-04-13 22:21:42', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:21:42', '2017-04-13 22:21:42', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:21:42', '2017-04-13 22:21:42', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:21:42', '2017-04-13 22:21:42', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:21:42', '2017-04-13 22:21:42', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:21:42', '2017-04-13 20:21:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:21:42', '2017-04-13 20:21:42')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:21:42', '2017-04-13 20:21:42')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:21:42', '2017-04-13 20:21:42')
  [1m[36m (42.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Articles of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Articles of Ruby', '2017-04-13 20:21:43', '2017-04-13 20:21:43')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2017-04-13 20:21:43', '2017-04-13 20:21:43')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (52.5ms)
  Rendered admin/article/new.html.erb within layouts/application (59.1ms)
Completed 200 OK in 249ms (Views: 224.6ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"A new Article of Ruby", "manufacturer_id"=>"4", "supplier_ids"=>["4"], "manufactured_at"=>"2017-04-13 22:21:43 +0200", "reference"=>"123-123-123-X", "blurb"=>"A new Article of Ruby", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.5ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('A new Article of Ruby', 4, '2017-04-13 20:21:43', '123-123-123-X', 'A new Article of Ruby', 45.5, 40, '2017-04-13 20:21:43', '2017-04-13 20:21:43')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (4, 27, '2017-04-13 20:21:43', '2017-04-13 20:21:43')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 22ms (ActiveRecord: 2.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'A new Article of Ruby' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/27" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 27 LIMIT 1
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 27
  Rendered admin/article/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.8ms)
Started GET "/admin/article/edit?id=27" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"27"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 27 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 27[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.8ms)
  Rendered admin/article/edit.html.erb within layouts/application (7.0ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/update?id=27" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"A very new Article of Ruby", "manufacturer_id"=>"4", "supplier_ids"=>["4"], "manufactured_at"=>"2017-04-13 22:21:43 +0200", "reference"=>"123-123-123-X", "blurb"=>"A very new Article of Ruby", "size"=>"42", "price"=>"50"}, "id"=>"27"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 27 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 27
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 27) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'A very new Article of Ruby', `blurb` = 'A very new Article of Ruby', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:21:43' WHERE `articles`.`id` = 27[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/27
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
Started GET "/admin/article/show/27" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 27 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 27[0m
  Rendered admin/article/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/destroy?id=27" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"27"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 27 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 27
  [1m[36mSQL (84.1ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 27[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 88ms (ActiveRecord: 85.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.7ms)
  [1m[35m (37.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (106.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:24:17', '2017-04-13 20:24:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:24:17', '2017-04-13 20:24:17')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:24:17', '2017-04-13 20:24:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:24:17', '2017-04-13 20:24:17')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:24:17', '2017-04-13 20:24:17')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:24:17', '2017-04-13 22:24:17', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:24:17', '2017-04-13 22:24:17', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:24:17', '2017-04-13 22:24:17', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:24:17', '2017-04-13 22:24:17', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:24:17', '2017-04-13 22:24:17', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:24:17', '2017-04-13 20:24:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:24:17', '2017-04-13 20:24:17')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:24:17', '2017-04-13 20:24:17')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:24:17', '2017-04-13 20:24:17')
  [1m[36m (42.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Articles of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Articles of Ruby', '2017-04-13 20:24:18', '2017-04-13 20:24:18')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2017-04-13 20:24:18', '2017-04-13 20:24:18')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (52.0ms)
  Rendered admin/article/new.html.erb within layouts/application (59.5ms)
Completed 200 OK in 250ms (Views: 227.0ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"A new Article of Ruby", "manufacturer_id"=>"5", "supplier_ids"=>["5"], "manufactured_at"=>"2017-04-13 22:24:18 +0200", "reference"=>"123-123-123-X", "blurb"=>"A new Article of Ruby", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('A new Article of Ruby', 5, '2017-04-13 20:24:18', '123-123-123-X', 'A new Article of Ruby', 45.5, 40, '2017-04-13 20:24:18', '2017-04-13 20:24:18')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (5, 28, '2017-04-13 20:24:18', '2017-04-13 20:24:18')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 26ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'A new Article of Ruby' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/show/28" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 28 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 28
  Rendered admin/article/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/edit?id=28" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"28"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 28 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 28[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.5ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.7ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/update?id=28" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"A very new Article of Ruby", "manufacturer_id"=>"5", "supplier_ids"=>["5"], "manufactured_at"=>"2017-04-13 22:24:18 +0200", "reference"=>"123-123-123-X", "blurb"=>"A very new Article of Ruby", "size"=>"42", "price"=>"50"}, "id"=>"28"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 28
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Exists (0.2ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 28) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `articles` SET `title` = 'A very new Article of Ruby', `blurb` = 'A very new Article of Ruby', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:24:18' WHERE `articles`.`id` = 28[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/28
Completed 302 Found in 8ms (ActiveRecord: 1.5ms)
Started GET "/admin/article/show/28" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 28 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 28[0m
  Rendered admin/article/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/destroy?id=28" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"28"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 28 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 28
  [1m[36mSQL (76.3ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 28[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 80ms (ActiveRecord: 77.3ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.9ms)
  [1m[35m (40.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (71.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:00', '2017-04-13 22:25:00', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:00', '2017-04-13 22:25:00', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:00', '2017-04-13 22:25:00', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:00', '2017-04-13 22:25:00', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:00', '2017-04-13 22:25:00', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36m (41.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Articles of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Articles of Ruby', '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (50.6ms)
  Rendered admin/article/new.html.erb within layouts/application (57.4ms)
Completed 200 OK in 246ms (Views: 222.3ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"A new Article of Ruby", "manufacturer_id"=>"6", "supplier_ids"=>["6"], "manufactured_at"=>"2017-04-13 22:25:00 +0200", "reference"=>"123-123-123-X", "blurb"=>"A new Article of Ruby", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 6 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('A new Article of Ruby', 6, '2017-04-13 20:25:00', '123-123-123-X', 'A new Article of Ruby', 45.5, 40, '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (6, 29, '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 21ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.4ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 6 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.4ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'A new Article of Ruby' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 1.1ms)
Started GET "/admin/article/show/29" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 29 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 6 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 29
  Rendered admin/article/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/edit?id=29" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"29"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 29 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 29[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.4ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/update?id=29" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"A very new Article of Ruby", "manufacturer_id"=>"6", "supplier_ids"=>["6"], "manufactured_at"=>"2017-04-13 22:25:00 +0200", "reference"=>"123-123-123-X", "blurb"=>"A very new Article of Ruby", "size"=>"42", "price"=>"50"}, "id"=>"29"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 6 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 29
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 6 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 29) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'A very new Article of Ruby', `blurb` = 'A very new Article of Ruby', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:25:00' WHERE `articles`.`id` = 29[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/29
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
Started GET "/admin/article/show/29" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 29 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 6 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 29[0m
  Rendered admin/article/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.7ms)
Started POST "/admin/article/destroy?id=29" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"29"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 29 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 29
  [1m[36mSQL (82.8ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 29[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 86ms (ActiveRecord: 83.8ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 1.0ms)
  [1m[35m (41.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (102.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:25:30', '2017-04-13 20:25:30')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:25:30', '2017-04-13 20:25:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:25:30', '2017-04-13 20:25:30')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:25:30', '2017-04-13 20:25:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:25:30', '2017-04-13 20:25:30')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:30', '2017-04-13 22:25:30', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:30', '2017-04-13 22:25:30', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:30', '2017-04-13 22:25:30', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:30', '2017-04-13 22:25:30', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:30', '2017-04-13 22:25:30', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:25:30', '2017-04-13 20:25:30')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:25:30', '2017-04-13 20:25:30')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:25:30', '2017-04-13 20:25:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:25:30', '2017-04-13 20:25:30')
  [1m[36m (70.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Articles of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Articles of Ruby', '2017-04-13 20:25:31', '2017-04-13 20:25:31')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2017-04-13 20:25:31', '2017-04-13 20:25:31')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (50.6ms)
  Rendered admin/article/new.html.erb within layouts/application (58.3ms)
Completed 200 OK in 248ms (Views: 223.5ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"A new Article of Ruby", "manufacturer_id"=>"7", "supplier_ids"=>["7"], "manufactured_at"=>"2017-04-13 22:25:31 +0200", "reference"=>"123-123-123-X", "blurb"=>"A new Article of Ruby", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('A new Article of Ruby', 7, '2017-04-13 20:25:31', '123-123-123-X', 'A new Article of Ruby', 45.5, 40, '2017-04-13 20:25:31', '2017-04-13 20:25:31')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (7, 30, '2017-04-13 20:25:31', '2017-04-13 20:25:31')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 21ms (ActiveRecord: 2.1ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.4ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'A new Article of Ruby' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 1.1ms)
Started GET "/admin/article/show/30" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 30 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 30
  Rendered admin/article/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/edit?id=30" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"30"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 30 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 30[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.5ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/update?id=30" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"A very new Article of Ruby", "manufacturer_id"=>"7", "supplier_ids"=>["7"], "manufactured_at"=>"2017-04-13 22:25:31 +0200", "reference"=>"123-123-123-X", "blurb"=>"A very new Article of Ruby", "size"=>"42", "price"=>"50"}, "id"=>"30"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 7 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 30
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 30) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'A very new Article of Ruby', `blurb` = 'A very new Article of Ruby', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:25:31' WHERE `articles`.`id` = 30[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/30
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
Started GET "/admin/article/show/30" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 30 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 7 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 30[0m
  Rendered admin/article/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/destroy?id=30" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"30"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 30 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 30
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 30[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.9ms)
  [1m[35m (75.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (85.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:29:11', '2017-04-13 20:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:29:11', '2017-04-13 20:29:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:29:11', '2017-04-13 20:29:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:29:11', '2017-04-13 20:29:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:29:11', '2017-04-13 20:29:11')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:11', '2017-04-13 22:29:11', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:11', '2017-04-13 22:29:11', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:11', '2017-04-13 22:29:11', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:11', '2017-04-13 22:29:11', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:11', '2017-04-13 22:29:11', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:29:11', '2017-04-13 20:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:29:11', '2017-04-13 20:29:11')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:29:11', '2017-04-13 20:29:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:29:11', '2017-04-13 20:29:11')
  [1m[36m (31.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 20:29:12', '2017-04-13 20:29:12')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 20:29:12', '2017-04-13 20:29:12')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (48.9ms)
  Rendered admin/article/new.html.erb within layouts/application (55.4ms)
Completed 200 OK in 252ms (Views: 224.6ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"8", "supplier_ids"=>["8"], "manufactured_at"=>"2017-04-13 22:29:12 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 8, '2017-04-13 20:29:12', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 20:29:12', '2017-04-13 20:29:12')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (8, 31, '2017-04-13 20:29:12', '2017-04-13 20:29:12')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 22ms (ActiveRecord: 2.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/31" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 31 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 31
  Rendered admin/article/show.html.erb within layouts/application (4.3ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/edit?id=31" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"31"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 31 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 31[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (6.1ms)
  Rendered admin/article/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/update?id=31" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"8", "supplier_ids"=>["8"], "manufactured_at"=>"2017-04-13 22:29:12 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"31"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 31 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 8 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 31
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 31) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:29:12' WHERE `articles`.`id` = 31[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/31
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
Started GET "/admin/article/show/31" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 31 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 31[0m
  Rendered admin/article/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.9ms)
Started POST "/admin/article/destroy?id=31" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"31"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 31 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 31
  [1m[36mSQL (63.7ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 31[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 68ms (ActiveRecord: 64.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 1.6ms)
  [1m[35m (37.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (84.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:29:42', '2017-04-13 20:29:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:29:42', '2017-04-13 20:29:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:29:42', '2017-04-13 20:29:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:29:42', '2017-04-13 20:29:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:29:42', '2017-04-13 20:29:42')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:42', '2017-04-13 22:29:42', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:42', '2017-04-13 22:29:42', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:42', '2017-04-13 22:29:42', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:42', '2017-04-13 22:29:42', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:42', '2017-04-13 22:29:42', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36m (45.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:29:43', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 32, '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 32, '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 32 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (46.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 20:29:43', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 33, '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 33, '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (36.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:29:43', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 34, '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 34, '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 34 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 34[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (38.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:29:56', '2017-04-13 20:29:56')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:29:56', '2017-04-13 20:29:56')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:56', '2017-04-13 22:29:56', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:56', '2017-04-13 22:29:56', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:56', '2017-04-13 22:29:56', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:56', '2017-04-13 22:29:56', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:56', '2017-04-13 22:29:56', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:29:56', '2017-04-13 20:29:56')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:29:56', '2017-04-13 20:29:56')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36m (31.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 20:29:56', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 35, '2017-04-13 20:29:56', '2017-04-13 20:29:56')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 35, '2017-04-13 20:29:57', '2017-04-13 20:29:57')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (103.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:29:57', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:29:57', '2017-04-13 20:29:57')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 36, '2017-04-13 20:29:57', '2017-04-13 20:29:57')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 36, '2017-04-13 20:29:57', '2017-04-13 20:29:57')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 36 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 36[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (41.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:29:57', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:29:57', '2017-04-13 20:29:57')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 37, '2017-04-13 20:29:57', '2017-04-13 20:29:57')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 37, '2017-04-13 20:29:57', '2017-04-13 20:29:57')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 37 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (77.8ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:30:20', '2017-04-13 20:30:20')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:30:20', '2017-04-13 20:30:20')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:30:20', '2017-04-13 22:30:20', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:30:20', '2017-04-13 22:30:20', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:30:20', '2017-04-13 22:30:20', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:30:20', '2017-04-13 22:30:20', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:30:20', '2017-04-13 22:30:20', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:30:20', '2017-04-13 20:30:20')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:30:20', '2017-04-13 20:30:20')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36m (38.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 20:30:20', '2017-04-13 20:30:20')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:30:20 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (48.2ms)
  Rendered admin/article/new.html.erb within layouts/application (55.0ms)
Completed 200 OK in 247ms (Views: 223.0ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"9", "supplier_ids"=>["9"], "manufactured_at"=>"2017-04-13 22:30:20 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 9, '2017-04-13 20:30:20', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 20:30:21', '2017-04-13 20:30:21')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (9, 38, '2017-04-13 20:30:21', '2017-04-13 20:30:21')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 21ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.4ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/38" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"38"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 38 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 38
  Rendered admin/article/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/edit?id=38" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"38"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 38 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 38[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.7ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.9ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.9ms)
Started POST "/admin/article/update?id=38" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"9", "supplier_ids"=>["9"], "manufactured_at"=>"2017-04-13 22:30:21 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"38"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 38 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 9 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 38
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 38) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `manufactured_at` = '2017-04-13 20:30:21', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:30:21' WHERE `articles`.`id` = 38[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/38
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
Started GET "/admin/article/show/38" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"38"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 38 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 38[0m
  Rendered admin/article/show.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/destroy?id=38" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"38"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 38 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 38
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 38[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 3ms (ActiveRecord: 1.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 1.2ms)
  [1m[35m (31.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (88.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:35:56', '2017-04-13 22:35:56', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:35:56', '2017-04-13 22:35:56', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:35:56', '2017-04-13 22:35:56', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:35:56', '2017-04-13 22:35:56', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:35:56', '2017-04-13 22:35:56', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36m (40.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (54.5ms)
  Rendered admin/article/new.html.erb within layouts/application (62.9ms)
Completed 200 OK in 258ms (Views: 222.3ms | ActiveRecord: 2.8ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"10", "supplier_ids"=>["10"], "manufactured_at"=>"2017-04-13 22:35:56 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 10 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 10, '2017-04-13 20:35:56', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (10, 39, '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 20ms (ActiveRecord: 2.6ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 10 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/39" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"39"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 39 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 10 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 39
  Rendered admin/article/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/edit?id=39" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"39"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 39 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 39[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.6ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.6ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/update?id=39" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"10", "supplier_ids"=>["10"], "manufactured_at"=>"2017-04-13 22:35:56 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"39"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 39 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 10 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 39
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 10 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 39) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:35:56' WHERE `articles`.`id` = 39[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/39
Completed 302 Found in 10ms (ActiveRecord: 3.2ms)
Started GET "/admin/article/show/39" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"39"}
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 39 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 10 LIMIT 1
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 39[0m
  Rendered admin/article/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 2.0ms)
Started POST "/admin/article/destroy?id=39" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"39"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 39 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 39
  [1m[36mSQL (71.7ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 39[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 76ms (ActiveRecord: 73.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (15.5ms)
Completed 200 OK in 19ms (Views: 16.2ms | ActiveRecord: 1.6ms)
  [1m[35m (41.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (83.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:38:02', '2017-04-13 22:38:02', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:38:02', '2017-04-13 22:38:02', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:38:02', '2017-04-13 22:38:02', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:38:02', '2017-04-13 22:38:02', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:38:02', '2017-04-13 22:38:02', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36m (40.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (48.7ms)
  Rendered admin/article/new.html.erb within layouts/application (56.2ms)
Completed 200 OK in 239ms (Views: 215.9ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"11", "supplier_ids"=>["11"], "manufactured_at"=>"2017-04-13 22:38:02 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 11 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 11, '2017-04-13 20:38:02', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (11, 40, '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 19ms (ActiveRecord: 1.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 11 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 1.1ms)
Started GET "/admin/article/show/40" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"40"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 40 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 11 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 40
  Rendered admin/article/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/edit?id=40" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"40"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 40 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 40[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (6.0ms)
  Rendered admin/article/edit.html.erb within layouts/application (7.2ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/update?id=40" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"11", "supplier_ids"=>["11"], "manufactured_at"=>"2017-04-13 22:38:02 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"40"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 40 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 11 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 40
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 11 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 40) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:38:02' WHERE `articles`.`id` = 40[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/40
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
Started GET "/admin/article/show/40" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"40"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 40 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 11 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 40[0m
  Rendered admin/article/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.9ms)
Started POST "/admin/article/destroy?id=40" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"40"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 40 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 40
  [1m[36mSQL (84.1ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 40[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 88ms (ActiveRecord: 85.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 19ms (Views: 15.8ms | ActiveRecord: 2.1ms)
  [1m[35m (41.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (129.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:45:06', '2017-04-13 20:45:06')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:45:06', '2017-04-13 20:45:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:45:06', '2017-04-13 20:45:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:45:06', '2017-04-13 20:45:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:45:06', '2017-04-13 20:45:06')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:06', '2017-04-13 22:45:06', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:06', '2017-04-13 22:45:06', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:06', '2017-04-13 22:45:06', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:06', '2017-04-13 22:45:06', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:06', '2017-04-13 22:45:06', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:45:06', '2017-04-13 20:45:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:45:06', '2017-04-13 20:45:06')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:45:06', '2017-04-13 20:45:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:45:06', '2017-04-13 20:45:06')
  [1m[36m (41.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 20:45:07', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 20:45:07', '2017-04-13 20:45:07')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 41, '2017-04-13 20:45:07', '2017-04-13 20:45:07')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 41, '2017-04-13 20:45:07', '2017-04-13 20:45:07')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (135.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.5ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:45:07', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:45:07', '2017-04-13 20:45:07')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 42, '2017-04-13 20:45:07', '2017-04-13 20:45:07')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 42, '2017-04-13 20:45:07', '2017-04-13 20:45:07')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 42 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 42[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (42.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:45:07', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:45:07', '2017-04-13 20:45:07')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 43, '2017-04-13 20:45:07', '2017-04-13 20:45:07')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 43, '2017-04-13 20:45:07', '2017-04-13 20:45:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 43 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (43.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:45:14', '2017-04-13 20:45:14')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:45:14', '2017-04-13 20:45:14')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:14', '2017-04-13 22:45:14', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:14', '2017-04-13 22:45:14', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:14', '2017-04-13 22:45:14', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:14', '2017-04-13 22:45:14', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:14', '2017-04-13 22:45:14', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:45:14', '2017-04-13 20:45:14')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:45:14', '2017-04-13 20:45:14')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36m (29.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 20:45:14', '2017-04-13 20:45:14')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:45:14 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (52.2ms)
  Rendered admin/article/new.html.erb within layouts/application (59.8ms)
Completed 200 OK in 253ms (Views: 222.3ms | ActiveRecord: 1.7ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"12", "supplier_ids"=>["12"], "manufactured_at"=>"2017-04-13 22:45:14 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 12 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 12, '2017-04-13 20:45:14', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 20:45:15', '2017-04-13 20:45:15')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (12, 44, '2017-04-13 20:45:15', '2017-04-13 20:45:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 20ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 12 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/44" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"44"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 44 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 12 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 44
  Rendered admin/article/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/edit?id=44" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"44"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 44 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 44[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.4ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.4ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/update?id=44" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"12", "supplier_ids"=>["12"], "manufactured_at"=>"2017-04-13 22:45:15 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"44"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 44 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 12 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 44
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 12 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 44) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `manufactured_at` = '2017-04-13 20:45:15', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:45:15' WHERE `articles`.`id` = 44[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/44
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
Started GET "/admin/article/show/44" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"44"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 44 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 12 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 44[0m
  Rendered admin/article/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/destroy?id=44" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"44"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 44 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 44
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 44[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 3ms (ActiveRecord: 1.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.9ms)
  [1m[35m (38.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (70.1ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 21:17:41', '2017-04-13 21:17:41')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 21:17:41', '2017-04-13 21:17:41')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:41', '2017-04-13 23:17:41', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:41', '2017-04-13 23:17:41', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:41', '2017-04-13 23:17:41', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:41', '2017-04-13 23:17:41', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:41', '2017-04-13 23:17:41', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 21:17:41', '2017-04-13 21:17:41')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 21:17:41', '2017-04-13 21:17:41')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36m (31.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 21:17:41', '2017-04-13 21:17:41')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 23:17:41 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (55.2ms)
  Rendered admin/article/new.html.erb within layouts/application (64.2ms)
Completed 200 OK in 262ms (Views: 224.8ms | ActiveRecord: 1.5ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"13", "supplier_ids"=>["13"], "manufactured_at"=>"2017-04-13 23:17:41 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 13, '2017-04-13 21:17:41', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 21:17:42', '2017-04-13 21:17:42')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (13, 45, '2017-04-13 21:17:42', '2017-04-13 21:17:42')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 19ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.8ms)
Started GET "/admin/article/show/45" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"45"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 45 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 45
  Rendered admin/article/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.7ms)
Started GET "/admin/article/edit?id=45" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"45"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 45 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 45[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.2ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.2ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.9ms)
Started POST "/admin/article/update?id=45" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"13", "supplier_ids"=>["13"], "manufactured_at"=>"2017-04-13 23:17:42 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"45"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 45 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 13 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 45
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 45) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `manufactured_at` = '2017-04-13 21:17:42', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 21:17:42' WHERE `articles`.`id` = 45[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/45
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
Started GET "/admin/article/show/45" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"45"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 45 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 13 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 45[0m
  Rendered admin/article/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/destroy?id=45" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"45"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 45 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 45
  [1m[36mSQL (101.0ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 45[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 104ms (ActiveRecord: 101.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 1.7ms)
  [1m[35m (42.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 21:17:58', '2017-04-13 21:17:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 21:17:58', '2017-04-13 21:17:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 21:17:58', '2017-04-13 21:17:58')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 21:17:58', '2017-04-13 21:17:58')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 21:17:58', '2017-04-13 21:17:58')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:58', '2017-04-13 23:17:58', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:58', '2017-04-13 23:17:58', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:58', '2017-04-13 23:17:58', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:58', '2017-04-13 23:17:58', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:58', '2017-04-13 23:17:58', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 21:17:58', '2017-04-13 21:17:58')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 21:17:58', '2017-04-13 21:17:58')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 21:17:58', '2017-04-13 21:17:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 21:17:58', '2017-04-13 21:17:58')
  [1m[36m (60.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 21:17:58', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 46, '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 46, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 46 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 46[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (91.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 21:17:59', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 47, '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 47, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (32.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 21:17:59', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 48, '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 48, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 48 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 179ms (Views: 178.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (32.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (1.9ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.7ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.2ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 3ms (ActiveRecord: 1.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (34.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.5ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-04-13 21:17:59' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (36.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (15.7ms)
  Rendered admin/article/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 39ms (Views: 22.6ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"15", "supplier_ids"=>["14"], "manufactured_at"=>"2017-04-13 23:17:59 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 15 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 15, '2017-04-13 21:17:59', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (14, 49, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 17ms (ActiveRecord: 3.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 2.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 15 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 1.2ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (11.5ms)
Completed 200 OK in 14ms (Views: 10.8ms | ActiveRecord: 2.2ms)
Started GET "/admin/article/show/49" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 49 LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 15 LIMIT 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 49
  Rendered admin/article/show.html.erb within layouts/application (5.4ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.8ms)
Started GET "/admin/article/edit?id=49" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"49"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 49 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 49[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (8.1ms)
  Rendered admin/article/edit.html.erb within layouts/application (9.6ms)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 2.1ms)
Started POST "/admin/article/update?id=49" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"15", "supplier_ids"=>["14"], "manufactured_at"=>"2017-04-13 23:17:59 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"49"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 49 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 14 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 49
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 15 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 49) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 21:17:59' WHERE `articles`.`id` = 49[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/49
Completed 302 Found in 12ms (ActiveRecord: 3.7ms)
Started GET "/admin/article/show/49" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 49 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 15 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 49[0m
  Rendered admin/article/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 1.6ms)
Started POST "/admin/article/destroy?id=49" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"49"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 49 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 49
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 49[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 5ms (ActiveRecord: 2.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (11.7ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 2.1ms)
  [1m[35m (39.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_show
--------------------------------------------------
Processing by Admin::ArticleController#show as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_update
----------------------------------------------------
Processing by Admin::ArticleController#update as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_destroy
-----------------------------------------------------
Processing by Admin::ArticleController#destroy as HTML
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_create
----------------------------------------------------
Processing by Admin::ArticleController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
Admin::ArticleControllerTest: test_should_get_new
-------------------------------------------------
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (12.0ms)
  Rendered admin/article/new.html.erb within layouts/application (12.9ms)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_edit
--------------------------------------------------
Processing by Admin::ArticleController#edit as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::ArticleControllerTest: test_should_get_index
---------------------------------------------------
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered admin/article/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 2.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/supplier/_form.html.erb (2.6ms)
  Rendered admin/supplier/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.4ms)
  Rendered admin/supplier/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-13 21:18:00', '2017-04-13 21:18:00')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (28.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (5.0ms)
  Rendered admin/supplier/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.5ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (1.2ms)
  Rendered admin/supplier/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (40.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-13 21:18:00' WHERE `suppliers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (40.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-13 21:18:00', '2017-04-13 21:18:00')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (35.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-04-13 21:18:00', '2017-04-13 21:18:00')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (154.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (18.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (103.2ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:07:26', '2017-04-15 09:07:26')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:07:26', '2017-04-15 09:07:26')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:07:26', '2017-04-15 09:07:26')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:07:26', '2017-04-15 09:07:26')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:07:26', '2017-04-15 09:07:26')
  [1m[36mFixture Delete (58.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:07:26', '2017-04-15 11:07:26', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:07:26', '2017-04-15 11:07:26', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:07:26', '2017-04-15 11:07:26', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:07:26', '2017-04-15 11:07:26', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:07:26', '2017-04-15 11:07:26', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:07:27', '2017-04-15 09:07:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:07:27', '2017-04-15 09:07:27')
  [1m[36m (38.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (10.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-15 09:07:27', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 6, '2017-04-15 09:07:27', '2017-04-15 09:07:27')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 6, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (94.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-15 09:07:27', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 7, '2017-04-15 09:07:27', '2017-04-15 09:07:27')
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 7, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 7
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2
  [1m[36m (34.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-04-15 09:07:27', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 8, '2017-04-15 09:07:27', '2017-04-15 09:07:27')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 8, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 8 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (33.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (82.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:08:15', '2017-04-15 09:08:15')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:08:15', '2017-04-15 09:08:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:15', '2017-04-15 11:08:15', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:15', '2017-04-15 11:08:15', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:15', '2017-04-15 11:08:15', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:15', '2017-04-15 11:08:15', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:15', '2017-04-15 11:08:15', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:08:15', '2017-04-15 09:08:15')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:08:15', '2017-04-15 09:08:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36m (39.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-15 09:08:15', '2017-04-15 09:08:15')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-15 11:08:15 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (85.1ms)
  Rendered admin/article/new.html.erb within layouts/application (126.6ms)
Completed 200 OK in 952ms (Views: 870.2ms | ActiveRecord: 1.9ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-15 11:08:16 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-15 11:08:15 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 3, '2017-04-15 09:08:15', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-15 09:08:16', '2017-04-15 09:08:16')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (3, 9, '2017-04-15 09:08:16', '2017-04-15 09:08:16')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 41ms (ActiveRecord: 4.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:08:16 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (18.9ms)
Completed 200 OK in 31ms (Views: 28.0ms | ActiveRecord: 2.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (13.7ms)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 1.9ms)
Started GET "/admin/article/show/9" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
  Rendered admin/article/show.html.erb within layouts/application (21.2ms)
Completed 200 OK in 35ms (Views: 31.3ms | ActiveRecord: 1.9ms)
Started GET "/admin/article/edit?id=9" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (10.3ms)
  Rendered admin/article/edit.html.erb within layouts/application (12.2ms)
Completed 200 OK in 25ms (Views: 21.0ms | ActiveRecord: 2.6ms)
Started POST "/admin/article/update?id=9" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-15 11:08:17 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"9"}
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1[0m
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 9) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `manufactured_at` = '2017-04-15 09:08:17', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-15 09:08:17' WHERE `articles`.`id` = 9[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/9
Completed 302 Found in 15ms (ActiveRecord: 4.6ms)
Started GET "/admin/article/show/9" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  Rendered admin/article/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 1.7ms)
Started POST "/admin/article/destroy?id=9" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 9
  [1m[36mSQL (66.4ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 9[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 72ms (ActiveRecord: 68.1ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (22.8ms)
Completed 200 OK in 28ms (Views: 23.8ms | ActiveRecord: 2.3ms)
  [1m[35m (39.9ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (63.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:49', '2017-04-15 11:08:49', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:49', '2017-04-15 11:08:49', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:49', '2017-04-15 11:08:49', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:49', '2017-04-15 11:08:49', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:49', '2017-04-15 11:08:49', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36m (43.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-15 09:08:49', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 10, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 10, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-15 09:08:49', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 11, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 11, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (39.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-04-15 09:08:49', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 12, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 12, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (39.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (35.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:59', '2017-04-15 11:08:59', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:59', '2017-04-15 11:08:59', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:59', '2017-04-15 11:08:59', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:59', '2017-04-15 11:08:59', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:59', '2017-04-15 11:08:59', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36m (39.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (58.7ms)
  Rendered admin/article/new.html.erb within layouts/application (68.2ms)
Completed 200 OK in 274ms (Views: 237.7ms | ActiveRecord: 2.5ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"4", "supplier_ids"=>["4"], "manufactured_at"=>"2017-04-15 11:08:59 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 4, '2017-04-15 09:08:59', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (4, 13, '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 19ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/13" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 13
  Rendered admin/article/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.8ms)
Started GET "/admin/article/edit?id=13" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"13"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 13[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.3ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.3ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/update?id=13" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"4", "supplier_ids"=>["4"], "manufactured_at"=>"2017-04-15 11:08:59 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"13"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 13
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 13) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-15 09:08:59' WHERE `articles`.`id` = 13[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/13
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Started GET "/admin/article/show/13" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 13[0m
  Rendered admin/article/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 1.4ms)
Started POST "/admin/article/destroy?id=13" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"13"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 13
  [1m[36mSQL (138.5ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 13[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 144ms (ActiveRecord: 140.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:09:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 25ms (Views: 21.6ms | ActiveRecord: 2.2ms)
  [1m[35m (31.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (137.0ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:11:55', '2017-04-15 09:11:55')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:11:55', '2017-04-15 09:11:55')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:11:55', '2017-04-15 09:11:55')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:11:55', '2017-04-15 09:11:55')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:11:55', '2017-04-15 09:11:55')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:11:55', '2017-04-15 11:11:55', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:11:55', '2017-04-15 11:11:55', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:11:55', '2017-04-15 11:11:55', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:11:55', '2017-04-15 11:11:55', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:11:55', '2017-04-15 11:11:55', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:11:55', '2017-04-15 09:11:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:11:55', '2017-04-15 09:11:55')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:11:55', '2017-04-15 09:11:55')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:11:55', '2017-04-15 09:11:55')
  [1m[36m (31.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-15 09:11:56', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-15 09:11:56', '2017-04-15 09:11:56')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 14, '2017-04-15 09:11:56', '2017-04-15 09:11:56')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 14, '2017-04-15 09:11:56', '2017-04-15 09:11:56')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2
  [1m[36m (86.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-04-15 09:11:56', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-04-15 09:11:56', '2017-04-15 09:11:56')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 15, '2017-04-15 09:11:56', '2017-04-15 09:11:56')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 15, '2017-04-15 09:11:56', '2017-04-15 09:11:56')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 15 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (37.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-15 09:11:56', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-15 09:11:56', '2017-04-15 09:11:56')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 16, '2017-04-15 09:11:56', '2017-04-15 09:11:56')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 16, '2017-04-15 09:11:56', '2017-04-15 09:11:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (30.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:12:03', '2017-04-15 11:12:03', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:12:03', '2017-04-15 11:12:03', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:12:03', '2017-04-15 11:12:03', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:12:03', '2017-04-15 11:12:03', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:12:03', '2017-04-15 11:12:03', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36m (39.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (58.9ms)
  Rendered admin/article/new.html.erb within layouts/application (67.9ms)
Completed 200 OK in 264ms (Views: 227.0ms | ActiveRecord: 1.3ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"5", "supplier_ids"=>["5"], "manufactured_at"=>"2017-04-15 11:12:03 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 5, '2017-04-15 09:12:03', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (5, 17, '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 20ms (ActiveRecord: 2.5ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.6ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 1.7ms)
Started GET "/admin/article/show/17" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 17
  Rendered admin/article/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 1.7ms)
Started GET "/admin/article/edit?id=17" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"17"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 17[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (6.1ms)
  Rendered admin/article/edit.html.erb within layouts/application (7.1ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 1.8ms)
Started POST "/admin/article/update?id=17" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"5", "supplier_ids"=>["5"], "manufactured_at"=>"2017-04-15 11:12:03 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"17"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 17
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 17) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-15 09:12:03' WHERE `articles`.`id` = 17[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/17
Completed 302 Found in 10ms (ActiveRecord: 3.5ms)
Started GET "/admin/article/show/17" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 17[0m
  Rendered admin/article/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 1.5ms)
Started POST "/admin/article/destroy?id=17" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"17"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 17
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 17[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 4ms (ActiveRecord: 2.1ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 2.1ms)
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (135.6ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:25:11', '2017-04-18 12:25:11', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:25:11', '2017-04-18 12:25:11', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:25:11', '2017-04-18 12:25:11', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:25:11', '2017-04-18 12:25:11', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:25:11', '2017-04-18 12:25:11', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35m (29.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:25:11 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (87.3ms)
  Rendered catalog/index.html.erb within layouts/application (94.1ms)
Completed 500 Internal Server Error in 123ms (ActiveRecord: 2.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (90.2ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:28:55', '2017-04-18 12:28:55', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:28:55', '2017-04-18 12:28:55', 2, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:28:55', '2017-04-18 12:28:55', 3, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:28:55', '2017-04-18 12:28:55', 4, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:28:55', '2017-04-18 12:28:55', 5, 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35m (39.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:29:11', '2017-04-18 12:29:11', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:29:11', '2017-04-18 12:29:11', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:29:11', '2017-04-18 12:29:11', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:29:11', '2017-04-18 12:29:11', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:29:11', '2017-04-18 12:29:11', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35m (75.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:29:11 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (63.3ms)
  Rendered catalog/index.html.erb within layouts/application (67.1ms)
Completed 500 Internal Server Error in 82ms (ActiveRecord: 3.9ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (64.7ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:32:51', '2017-04-18 12:32:51', 1, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:32:51', '2017-04-18 12:32:51', 2, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:32:51', '2017-04-18 12:32:51', 3, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:32:51', '2017-04-18 12:32:51', 4, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:32:51', '2017-04-18 12:32:51', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35m (39.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:08', '2017-04-18 12:33:08', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:08', '2017-04-18 12:33:08', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:08', '2017-04-18 12:33:08', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:08', '2017-04-18 12:33:08', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:08', '2017-04-18 12:33:08', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35m (72.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:33:08 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (59.4ms)
  Rendered catalog/index.html.erb within layouts/application (63.0ms)
Completed 500 Internal Server Error in 76ms (ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (73.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:57', '2017-04-18 12:33:57', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:57', '2017-04-18 12:33:57', 2, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:57', '2017-04-18 12:33:57', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:57', '2017-04-18 12:33:57', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:57', '2017-04-18 12:33:57', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35m (39.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:33:57 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (82.6ms)
  Rendered catalog/index.html.erb within layouts/application (89.3ms)
Completed 200 OK in 612ms (Views: 591.1ms | ActiveRecord: 2.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (86.6ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:34:42', '2017-04-18 12:34:42', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:34:42', '2017-04-18 12:34:42', 2, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:34:42', '2017-04-18 12:34:42', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:34:42', '2017-04-18 12:34:42', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:34:42', '2017-04-18 12:34:42', 5, 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35m (40.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:34:43 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (88.2ms)
  Rendered catalog/index.html.erb within layouts/application (95.9ms)
Completed 200 OK in 291ms (Views: 270.7ms | ActiveRecord: 2.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:00', '2017-04-18 12:35:00', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:00', '2017-04-18 12:35:00', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:00', '2017-04-18 12:35:00', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:00', '2017-04-18 12:35:00', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:00', '2017-04-18 12:35:00', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35m (72.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:35:00 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (62.4ms)
  Rendered catalog/index.html.erb within layouts/application (66.1ms)
Completed 200 OK in 237ms (Views: 221.8ms | ActiveRecord: 4.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:35:00 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (15.9ms)
  Rendered catalog/index.html.erb within layouts/application (16.3ms)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 3.8ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (101.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:13', '2017-04-18 12:35:13', 1, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:13', '2017-04-18 12:35:13', 2, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:13', '2017-04-18 12:35:13', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:13', '2017-04-18 12:35:13', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:13', '2017-04-18 12:35:13', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35m (38.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:35:13 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.9ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (82.5ms)
  Rendered catalog/index.html.erb within layouts/application (88.5ms)
Completed 200 OK in 277ms (Views: 259.4ms | ActiveRecord: 2.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:35:14 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (13.5ms)
  Rendered catalog/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 1.7ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2017-04-18 12:35:14 +0200
Processing by CatalogController#latest as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/_articles.html.erb (6.0ms)
  Rendered catalog/latest.html.erb within layouts/application (6.4ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.9ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (154.6ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:27', '2017-04-18 12:35:27', 1, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:27', '2017-04-18 12:35:27', 2, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:27', '2017-04-18 12:35:27', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:27', '2017-04-18 12:35:27', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:27', '2017-04-18 12:35:27', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35m (39.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:35:27 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (110.0ms)
  Rendered catalog/index.html.erb within layouts/application (117.1ms)
Completed 200 OK in 366ms (Views: 346.3ms | ActiveRecord: 4.0ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:35:28 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (17.3ms)
  Rendered catalog/index.html.erb within layouts/application (17.7ms)
Completed 200 OK in 20ms (Views: 15.3ms | ActiveRecord: 3.8ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:35:28 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.9ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (8.3ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 2.0ms)
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (64.7ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:01', '2017-04-18 12:36:01', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:01', '2017-04-18 12:36:01', 2, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:01', '2017-04-18 12:36:01', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:01', '2017-04-18 12:36:01', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:01', '2017-04-18 12:36:01', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35m (39.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:36:01 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (51.8ms)
  Rendered catalog/index.html.erb within layouts/application (56.7ms)
Completed 200 OK in 221ms (Views: 203.5ms | ActiveRecord: 2.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:36:01 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (14.6ms)
  Rendered catalog/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 2.7ms)
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:36:01 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 1.4ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:23', '2017-04-18 12:36:23', 1, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:23', '2017-04-18 12:36:23', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:23', '2017-04-18 12:36:23', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:23', '2017-04-18 12:36:23', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:23', '2017-04-18 12:36:23', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35m (72.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:36:24 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (60.7ms)
  Rendered catalog/index.html.erb within layouts/application (64.6ms)
Completed 200 OK in 230ms (Views: 220.8ms | ActiveRecord: 2.0ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:36:24 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (13.4ms)
  Rendered catalog/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 15ms (Views: 13.4ms | ActiveRecord: 1.6ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:36:24 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.9ms)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-04-18 12:36:24 +0200
Processing by CatalogController#latest as HTML
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (5.7ms)
  Rendered catalog/latest.html.erb within layouts/application (6.1ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.2ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (76.4ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:38:30', '2017-04-18 12:38:30', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:38:30', '2017-04-18 12:38:30', 2, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:38:30', '2017-04-18 12:38:30', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:38:30', '2017-04-18 12:38:30', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:38:30', '2017-04-18 12:38:30', 5, 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35m (40.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:38:31 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (78.8ms)
  Rendered catalog/index.html.erb within layouts/application (85.0ms)
Completed 200 OK in 283ms (Views: 266.0ms | ActiveRecord: 2.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:38:31 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (16.1ms)
  Rendered catalog/index.html.erb within layouts/application (16.5ms)
Completed 200 OK in 18ms (Views: 13.9ms | ActiveRecord: 3.8ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:38:31 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.8ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 2.0ms)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (80.7ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:39:16', '2017-04-18 12:39:16', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:39:16', '2017-04-18 12:39:16', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:39:16', '2017-04-18 12:39:16', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:39:16', '2017-04-18 12:39:16', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:39:16', '2017-04-18 12:39:16', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35m (39.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:39:17 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (84.9ms)
  Rendered catalog/index.html.erb within layouts/application (92.0ms)
Completed 200 OK in 282ms (Views: 262.9ms | ActiveRecord: 2.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:39:17 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (13.7ms)
  Rendered catalog/index.html.erb within layouts/application (14.1ms)
Completed 200 OK in 16ms (Views: 13.5ms | ActiveRecord: 1.8ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:39:17 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.1ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 1.3ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-04-18 12:39:17 +0200
Processing by CatalogController#latest as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.4ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (6.3ms)
  Rendered catalog/latest.html.erb within layouts/application (6.7ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (71.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:43:28', '2017-04-18 12:43:28', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:43:28', '2017-04-18 12:43:28', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:43:28', '2017-04-18 12:43:28', 3, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:43:28', '2017-04-18 12:43:28', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:43:28', '2017-04-18 12:43:28', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35m (29.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:43:28 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (85.7ms)
  Rendered catalog/index.html.erb within layouts/application (91.8ms)
Completed 500 Internal Server Error in 120ms (ActiveRecord: 2.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (83.9ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, 40, '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, 40, '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, 40, '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, 40, '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:45:11', '2017-04-18 12:45:11', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:45:11', '2017-04-18 12:45:11', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:45:11', '2017-04-18 12:45:11', 3, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:45:11', '2017-04-18 12:45:11', 4, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:45:11', '2017-04-18 12:45:11', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35m (39.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:45:12 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (87.2ms)
  Rendered catalog/index.html.erb within layouts/application (93.8ms)
Completed 500 Internal Server Error in 123ms (ActiveRecord: 3.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (87.7ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:47:54', '2017-04-18 12:47:54', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:47:54', '2017-04-18 12:47:54', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:47:54', '2017-04-18 12:47:54', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:47:54', '2017-04-18 12:47:54', 4, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:47:54', '2017-04-18 12:47:54', 5, 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:47:55', '2017-04-18 10:47:55')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:47:55', '2017-04-18 10:47:55')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:47:55', '2017-04-18 10:47:55')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:47:55', '2017-04-18 10:47:55')[0m
  [1m[35m (38.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:47:55 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (86.5ms)
  Rendered catalog/index.html.erb within layouts/application (93.5ms)
Completed 200 OK in 281ms (Views: 260.5ms | ActiveRecord: 2.4ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:47:55 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (15.3ms)
  Rendered catalog/index.html.erb within layouts/application (15.7ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 3.0ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:47:55 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.3ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 1.6ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-04-18 12:47:55 +0200
Processing by CatalogController#latest as HTML
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (6.5ms)
  Rendered catalog/latest.html.erb within layouts/application (6.9ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 1.4ms)
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (22.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (957.5ms)[0m  [1mDROP DATABASE IF EXISTS `eshop6_test`[0m
  [1m[35m (0.6ms)[0m  CREATE DATABASE `eshop6_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (288.1ms)[0m  [1mCREATE TABLE `articles` (`id` int(11) auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `manufacturer_id` int(11) NOT NULL, `manufactured_at` datetime, `reference` varchar(13), `blurb` text, `size` int(11), `price` float(24), `created_at` datetime, `updated_at` datetime, `cover_image_file_name` varchar(255), `cover_image_content_type` varchar(255), `cover_image_file_size` int(11), `cover_image_updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (275.6ms)[0m  CREATE  INDEX `fk_articles_manufacturers` USING btree ON `articles` (`manufacturer_id`) 
  [1m[36m (321.5ms)[0m  [1mCREATE TABLE `articles_suppliers` (`id` int(11) auto_increment PRIMARY KEY, `supplier_id` int(11) NOT NULL, `article_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (320.8ms)[0m  CREATE  INDEX `fk_articles_suppliers_articles` USING btree ON `articles_suppliers` (`article_id`) 
  [1m[36m (220.9ms)[0m  [1mCREATE  INDEX `fk_articles_suppliers_suppliers` USING btree ON `articles_suppliers` (`supplier_id`) [0m
  [1m[35m (289.9ms)[0m  CREATE TABLE `cart_items` (`id` int(11) auto_increment PRIMARY KEY, `article_id` int(11), `cart_id` int(11), `price` float(24), `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (310.1ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (298.9ms)[0m  CREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (298.9ms)[0m  [1mCREATE TABLE `suppliers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255) NOT NULL, `last_name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (683.3ms)[0m  ALTER TABLE `articles` ADD CONSTRAINT `fk_articles_manufacturers`
FOREIGN KEY (`manufacturer_id`)
  REFERENCES `manufacturers` (`id`)
 ON DELETE CASCADE
  [1m[36m (837.6ms)[0m  [1mALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_articles`
FOREIGN KEY (`article_id`)
  REFERENCES `articles` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (729.1ms)[0m  ALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_suppliers`
FOREIGN KEY (`supplier_id`)
  REFERENCES `suppliers` (`id`)
 ON DELETE CASCADE
  [1m[36m (320.6ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (433.3ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.5ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (32.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170427122257')
  [1m[36m (33.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130630150644')[0m
  [1m[35m (33.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170321100602')
  [1m[36m (33.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170427122245')[0m
  [1m[35m (33.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170328092851')
  [1m[36m (33.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170404092937')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.8ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.6ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:00:49', '2017-04-27 14:00:49', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:00:49', '2017-04-27 14:00:49', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-27', 100.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-27', 200.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Insert (65.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-27', 300.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-27', 400.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-27', 500.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-27', 600.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-27', 700.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-27', 800.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-27', 900.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-27', 1000.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:00:49', '2017-04-27 16:00:49', 1, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:00:49', '2017-04-27 16:00:49', 2, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:00:49', '2017-04-27 16:00:49', 3, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:00:49', '2017-04-27 16:00:49', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:00:49', '2017-04-27 16:00:49', 5, 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:00:49', '2017-04-27 14:00:49', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:00:49', '2017-04-27 14:00:49', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-27 14:00:50', '2017-04-27 14:00:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-27 14:00:50', '2017-04-27 14:00:50')
  [1m[36m (39.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:00:50', '2017-04-27 14:00:50')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963 AND `cart_items`.`article_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190963, '2017-04-27 14:00:50', '2017-04-27 14:00:50')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 105ms (ActiveRecord: 3.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  [1m[35m (36.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:00:50', '2017-04-27 14:00:50')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190964, '2017-04-27 14:00:50', '2017-04-27 14:00:50')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 21ms (ActiveRecord: 4.3ms)
  [1m[35mArticle Load (1.1ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mArticle Load (1.2ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35m (77.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:00:50', '2017-04-27 14:00:50')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190965, '2017-04-27 14:00:50', '2017-04-27 14:00:50')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 26ms (ActiveRecord: 7.4ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190965 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190965
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 28ms (ActiveRecord: 3.0ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965
  [1m[36m (48.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-27', 100.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-27', 200.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-27', 300.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-27', 400.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-27', 500.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-27', 600.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-27', 700.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-27', 800.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-27', 900.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-27', 1000.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:39:36', '2017-04-27 16:39:36', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:39:36', '2017-04-27 16:39:36', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:39:36', '2017-04-27 16:39:36', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:39:36', '2017-04-27 16:39:36', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:39:36', '2017-04-27 16:39:36', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35m (62.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190966, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 56ms (ActiveRecord: 2.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966
  [1m[36m (28.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967 AND `cart_items`.`article_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190967, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 3.9ms)
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190967[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190967[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190967
  [1m[36m (37.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190968, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (1.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 5.4ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190968[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190968 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190968[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 13ms (ActiveRecord: 3.1ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190968[0m
  [1m[35m (37.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (108.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (23.6ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 19:04:13', '2017-04-28 19:04:13', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 19:04:13', '2017-04-28 19:04:13', 298486374)[0m
  [1m[35mFixture Delete (3.5ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-28', 100.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-28', 200.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-28', 300.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-28', 400.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-28', 500.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-28', 600.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-28', 700.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-28', 800.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-28', 900.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-28', 1000.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Delete (43.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 21:04:13', '2017-04-28 21:04:13', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 21:04:13', '2017-04-28 21:04:13', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 21:04:13', '2017-04-28 21:04:13', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 21:04:13', '2017-04-28 21:04:13', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 21:04:13', '2017-04-28 21:04:13', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 19:04:13', '2017-04-28 19:04:13', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 19:04:13', '2017-04-28 19:04:13', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35m (82.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 2245ms (Views: 2244.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:06:57', '2017-04-28 21:06:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:06:57', '2017-04-28 21:06:57', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-28', 100.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-28', 200.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-28', 300.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-28', 400.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-28', 500.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-28', 600.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-28', 700.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-28', 800.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-28', 900.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-28', 1000.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:06:57', '2017-04-28 23:06:57', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:06:57', '2017-04-28 23:06:57', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:06:57', '2017-04-28 23:06:57', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:06:57', '2017-04-28 23:06:57', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:06:57', '2017-04-28 23:06:57', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:06:57', '2017-04-28 21:06:57', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:06:57', '2017-04-28 21:06:57', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35m (95.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (11.9ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-04-28 21:06:58', '2017-04-28 21:06:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 101ms (ActiveRecord: 12.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (109.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (13.4ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (50.2ms)
Completed 200 OK in 280ms (Views: 279.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 19ms (ActiveRecord: 2.0ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.2ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (43.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (2.6ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (8.6ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-04-28 21:06:58' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 19ms (ActiveRecord: 10.2ms)
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (46.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:24', '2017-04-28 21:14:24', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:24', '2017-04-28 21:14:24', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-28', 100.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-28', 200.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-28', 300.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-28', 400.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-28', 500.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-28', 600.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-28', 700.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-28', 800.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-28', 900.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-28', 1000.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:24', '2017-04-28 23:14:24', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:24', '2017-04-28 23:14:24', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:24', '2017-04-28 23:14:24', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:24', '2017-04-28 23:14:24', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:24', '2017-04-28 23:14:24', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:24', '2017-04-28 21:14:24', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:24', '2017-04-28 21:14:24', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35m (71.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.5ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (54.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:36', '2017-04-28 21:14:36', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:36', '2017-04-28 21:14:36', 298486374)[0m
  [1m[35mFixture Delete (94.2ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-28', 100.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-28', 200.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-28', 300.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-28', 400.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-28', 500.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-28', 600.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-28', 700.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-28', 800.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-28', 900.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-28', 1000.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:36', '2017-04-28 23:14:36', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:36', '2017-04-28 23:14:36', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:36', '2017-04-28 23:14:36', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:36', '2017-04-28 23:14:36', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:36', '2017-04-28 23:14:36', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:37', '2017-04-28 21:14:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:37', '2017-04-28 21:14:37', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-28 21:14:37', '2017-04-28 21:14:37')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-28 21:14:37', '2017-04-28 21:14:37')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-28 21:14:37', '2017-04-28 21:14:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-28 21:14:37', '2017-04-28 21:14:37')[0m
  [1m[35m (28.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 26ms (ActiveRecord: 1.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (15.7ms)
Completed 200 OK in 239ms (Views: 238.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (32.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-04-28 21:14:37', '2017-04-28 21:14:37')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (41.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (5.7ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (10.8ms)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (3.2ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.8ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-04-28 21:14:37' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 10ms (ActiveRecord: 2.8ms)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (37.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.7ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (25.5ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:23:08', '2017-04-29 06:23:08', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:23:08', '2017-04-29 06:23:08', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-29', 100.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-29', 200.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-29', 300.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-29', 400.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-29', 500.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-29', 600.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-29', 700.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-29', 800.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-29', 900.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-29', 1000.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:23:08', '2017-04-29 08:23:08', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:23:08', '2017-04-29 08:23:08', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:23:08', '2017-04-29 08:23:08', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:23:08', '2017-04-29 08:23:08', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:23:08', '2017-04-29 08:23:08', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:23:08', '2017-04-29 06:23:08', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:23:08', '2017-04-29 06:23:08', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35m (84.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/show.html.erb within layouts/application (5.8ms)
Completed 200 OK in 900ms (Views: 846.1ms | ActiveRecord: 0.7ms)
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (10.0ms)[0m  [1mUPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-29 06:23:09' WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 18ms (ActiveRecord: 11.1ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (46.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/supplier/_form.html.erb (8.9ms)
  Rendered admin/supplier/new.html.erb within layouts/application (34.6ms)
Completed 200 OK in 134ms (Views: 56.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 49ms (ActiveRecord: 2.7ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (2.5ms)
  Rendered admin/supplier/index.html.erb within layouts/application (14.5ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (44.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.9ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.7ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-29 06:23:10', '2017-04-29 06:23:10')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 7ms (Views: 5.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (41.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (0.7ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (4.8ms)
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (2.5ms)
  Rendered admin/supplier/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:37:48', '2017-04-29 06:37:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:37:48', '2017-04-29 06:37:48', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-29', 100.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-29', 200.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-29', 300.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-29', 400.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-29', 500.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-29', 600.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-29', 700.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-29', 800.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-29', 900.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-29', 1000.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:37:48', '2017-04-29 08:37:48', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:37:48', '2017-04-29 08:37:48', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:37:48', '2017-04-29 08:37:48', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:37:48', '2017-04-29 08:37:48', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:37:48', '2017-04-29 08:37:48', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:37:48', '2017-04-29 06:37:48', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:37:48', '2017-04-29 06:37:48', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35m (86.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (71.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:38:06', '2017-04-29 06:38:06', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:38:06', '2017-04-29 06:38:06', 298486374)[0m
  [1m[35mFixture Delete (83.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-29', 100.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-29', 200.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-29', 300.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-29', 400.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-29', 500.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-29', 600.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-29', 700.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-29', 800.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-29', 900.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-29', 1000.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:38:06', '2017-04-29 08:38:06', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:38:06', '2017-04-29 08:38:06', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:38:06', '2017-04-29 08:38:06', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:38:06', '2017-04-29 08:38:06', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:38:06', '2017-04-29 08:38:06', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:38:06', '2017-04-29 06:38:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:38:06', '2017-04-29 06:38:06', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35m (38.9ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (3.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (10.3ms)
Completed 200 OK in 197ms (Views: 192.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-29 06:38:07', '2017-04-29 06:38:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier
Completed 302 Found in 3ms (Views: 192.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (47.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/supplier/_form.html.erb (2.7ms)
  Rendered admin/supplier/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 21ms (Views: 5.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/_form.html.erb (0.4ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (2.4ms)
Completed 200 OK in 12ms (Views: 4.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (2.2ms)
  Rendered admin/supplier/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-29 06:38:07' WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (41.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSQL (91.2ms)[0m  [1mDELETE FROM `suppliers` WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier
Completed 302 Found in 110ms (ActiveRecord: 94.3ms)
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (1.6ms)
  Rendered admin/supplier/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (32.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (129.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:49', '2017-04-29 21:54:49', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:49', '2017-04-29 21:54:49', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-29', 100.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-29', 200.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-29', 300.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-29', 400.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-29', 500.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-29', 600.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-29', 700.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-29', 800.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-29', 900.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-29', 1000.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:49', '2017-04-29 23:54:49', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:49', '2017-04-29 23:54:49', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:49', '2017-04-29 23:54:49', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:49', '2017-04-29 23:54:49', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:49', '2017-04-29 23:54:49', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:50', '2017-04-29 21:54:50', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:50', '2017-04-29 21:54:50', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35m (62.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (13.7ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-29 21:54:50', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 11, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 11, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (34.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.2ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-29 21:54:51', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-29 21:54:51', '2017-04-29 21:54:51')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 12, '2017-04-29 21:54:51', '2017-04-29 21:54:51')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 12, '2017-04-29 21:54:51', '2017-04-29 21:54:51')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 12 LIMIT 1[0m
  [1m[35m (16.8ms)[0m  SELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 12
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2
  [1m[36m (39.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-04-29 21:54:51', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-04-29 21:54:51', '2017-04-29 21:54:51')[0m
  [1m[35mSQL (62.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 13, '2017-04-29 21:54:51', '2017-04-29 21:54:51')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 13, '2017-04-29 21:54:51', '2017-04-29 21:54:51')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (33.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:58', '2017-04-29 21:54:58', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:58', '2017-04-29 21:54:58', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-29', 100.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-29', 200.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-29', 300.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-29', 400.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-29', 500.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-29', 600.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-29', 700.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-29', 800.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-29', 900.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-29', 1000.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:58', '2017-04-29 23:54:58', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:58', '2017-04-29 23:54:58', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:58', '2017-04-29 23:54:58', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:58', '2017-04-29 23:54:58', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:58', '2017-04-29 23:54:58', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:58', '2017-04-29 21:54:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:58', '2017-04-29 21:54:58', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35m (33.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-29 21:54:59', '2017-04-29 21:54:59')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1
  [1m[36mManufacturer Load (1.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-29 23:54:59 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/article/_form.html.erb (93.2ms)
  Rendered admin/article/new.html.erb within layouts/application (116.5ms)
Completed 200 OK in 1016ms (Views: 954.0ms | ActiveRecord: 2.4ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-29 23:54:59 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[35mSupplier Load (0.8ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 3, '2017-04-29 21:54:59', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-29 21:55:00', '2017-04-29 21:55:00')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (3, 14, '2017-04-29 21:55:00', '2017-04-29 21:55:00')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 43ms (ActiveRecord: 3.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
Started GET "/admin/article/index/?page=3" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 10[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  Rendered admin/article/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1[0m
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 1.4ms)
Started GET "/admin/article/show/14" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14[0m
  Rendered admin/article/show.html.erb within layouts/application (24.1ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 1.3ms)
Started GET "/admin/article/edit?id=14" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/article/_form.html.erb (9.4ms)
  Rendered admin/article/edit.html.erb within layouts/application (11.0ms)
Completed 200 OK in 15ms (Views: 11.0ms | ActiveRecord: 2.7ms)
Started POST "/admin/article/update?id=14" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-29 23:55:00 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"14"}
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 14) LIMIT 1[0m
  [1m[35mSQL (13.5ms)[0m  UPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `manufactured_at` = '2017-04-29 21:55:00', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-29 21:55:00' WHERE `articles`.`id` = 14
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article/show/14
Completed 302 Found in 27ms (ActiveRecord: 16.7ms)
Started GET "/admin/article/show/14" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14
  Rendered admin/article/show.html.erb within layouts/application (4.0ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/destroy?id=14" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"14"}
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 14[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `articles` WHERE `articles`.`id` = 14
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 6ms (ActiveRecord: 2.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 2.4ms)
  [1m[36m (41.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (207.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (16.9ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (20.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 11:53:32', '2017-04-30 11:53:32', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 11:53:32', '2017-04-30 11:53:32', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-30', 100.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-30', 200.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-30', 300.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-30', 400.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-30', 500.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-30', 600.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-30', 700.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-30', 800.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-30', 900.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-30', 1000.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 13:53:32', '2017-04-30 13:53:32', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 13:53:32', '2017-04-30 13:53:32', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 13:53:32', '2017-04-30 13:53:32', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 13:53:32', '2017-04-30 13:53:32', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 13:53:32', '2017-04-30 13:53:32', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 11:53:32', '2017-04-30 11:53:32', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 11:53:32', '2017-04-30 11:53:32', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35m (66.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-30 13:53:32 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-30 11:53:33', '2017-04-30 11:53:33')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (20.2ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (9.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (9.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (12.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (223.2ms)
  Rendered catalog/index.html.erb within layouts/application (248.0ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (23.5ms)
Completed 200 OK in 1277ms (Views: 1185.4ms | ActiveRecord: 54.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-30 13:53:34 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Suppliers Load (0.7ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (38.4ms)
  Rendered catalog/index.html.erb within layouts/application (39.5ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (1.9ms)
Completed 200 OK in 83ms (Views: 40.3ms | ActiveRecord: 5.1ms)
  [1m[35mArticle Load (17.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-30 13:53:34 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (12.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (50.3ms)
Completed 200 OK in 75ms (Views: 57.4ms | ActiveRecord: 13.8ms)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-04-30 13:53:34 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/_articles.html.erb (19.7ms)
  Rendered catalog/latest.html.erb within layouts/application (21.1ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 44ms (Views: 38.5ms | ActiveRecord: 3.0ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (41.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 14:26:37', '2017-04-30 14:26:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 14:26:37', '2017-04-30 14:26:37', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-30', 100.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-30', 200.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-30', 300.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-30', 400.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-30', 500.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-30', 600.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-30', 700.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-30', 800.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-30', 900.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-30', 1000.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 16:26:37', '2017-04-30 16:26:37', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 16:26:37', '2017-04-30 16:26:37', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 16:26:37', '2017-04-30 16:26:37', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 16:26:37', '2017-04-30 16:26:37', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 16:26:37', '2017-04-30 16:26:37', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 14:26:37', '2017-04-30 14:26:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 14:26:37', '2017-04-30 14:26:37', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35m (74.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-30 14:26:38', '2017-04-30 14:26:38')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`article_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190964, '2017-04-30 14:26:38', '2017-04-30 14:26:38')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 35ms (ActiveRecord: 3.3ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190963 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190963[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35m (66.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-30 14:26:38', '2017-04-30 14:26:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190965, '2017-04-30 14:26:38', '2017-04-30 14:26:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 3.3ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965[0m
  [1m[35m (35.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-30 14:26:38', '2017-04-30 14:26:38')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`article_id` = 4
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190966, '2017-04-30 14:26:38', '2017-04-30 14:26:38')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 21ms (ActiveRecord: 5.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  [1m[35m (35.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (1325.8ms)[0m  [1mDROP DATABASE IF EXISTS `eshop6_test`[0m
  [1m[35m (0.5ms)[0m  CREATE DATABASE `eshop6_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (273.1ms)[0m  [1mCREATE TABLE `articles` (`id` int(11) auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `manufacturer_id` int(11) NOT NULL, `manufactured_at` datetime, `reference` varchar(13), `blurb` text, `size` int(11), `price` float(24), `created_at` datetime, `updated_at` datetime, `cover_image_file_name` varchar(255), `cover_image_content_type` varchar(255), `cover_image_file_size` int(11), `cover_image_updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (264.8ms)[0m  CREATE  INDEX `fk_articles_manufacturers` USING btree ON `articles` (`manufacturer_id`) 
  [1m[36m (287.0ms)[0m  [1mCREATE TABLE `articles_suppliers` (`id` int(11) auto_increment PRIMARY KEY, `supplier_id` int(11) NOT NULL, `article_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (264.6ms)[0m  CREATE  INDEX `fk_articles_suppliers_articles` USING btree ON `articles_suppliers` (`article_id`) 
  [1m[36m (265.4ms)[0m  [1mCREATE  INDEX `fk_articles_suppliers_suppliers` USING btree ON `articles_suppliers` (`supplier_id`) [0m
  [1m[35m (300.0ms)[0m  CREATE TABLE `cart_items` (`id` int(11) auto_increment PRIMARY KEY, `article_id` int(11), `cart_id` int(11), `price` float(24), `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (276.4ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (276.3ms)[0m  CREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (242.7ms)[0m  [1mCREATE TABLE `order_items` (`id` int(11) auto_increment PRIMARY KEY, `article_id` int(11), `order_id` int(11), `price` float(24), `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (253.7ms)[0m  CREATE  INDEX `fk_order_items_orders` USING btree ON `order_items` (`order_id`) 
  [1m[36m (297.7ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) auto_increment PRIMARY KEY, `email` varchar(255), `phone_number` varchar(255), `ship_to_first_name` varchar(255), `ship_to_last_name` varchar(255), `ship_to_address` varchar(255), `ship_to_city` varchar(255), `ship_to_postal_code` varchar(255), `ship_to_country_code` varchar(255), `customer_ip` varchar(255), `status` varchar(255), `error_message` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (399.3ms)[0m  CREATE TABLE `suppliers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255) NOT NULL, `last_name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (649.0ms)[0m  [1mALTER TABLE `articles` ADD CONSTRAINT `fk_articles_manufacturers`
FOREIGN KEY (`manufacturer_id`)
  REFERENCES `manufacturers` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (858.0ms)[0m  ALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_articles`
FOREIGN KEY (`article_id`)
  REFERENCES `articles` (`id`)
 ON DELETE CASCADE
  [1m[36m (694.9ms)[0m  [1mALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_suppliers`
FOREIGN KEY (`supplier_id`)
  REFERENCES `suppliers` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (759.1ms)[0m  ALTER TABLE `order_items` ADD CONSTRAINT `fk_order_items_orders`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 ON DELETE CASCADE
  [1m[36m (297.5ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (410.6ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (33.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170502091320')
  [1m[36m (33.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130630150644')[0m
  [1m[35m (33.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170502091305')
  [1m[36m (33.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170321100602')[0m
  [1m[35m (33.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170427122245')
  [1m[36m (33.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170328092851')[0m
  [1m[35m (35.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170427122257')
  [1m[36m (33.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170404092937')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.6ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')[0m
  [1m[35mFixture Insert (69.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 11:31:43', '2017-05-02 11:31:43', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 11:31:43', '2017-05-02 11:31:43', 2, 1)
  [1m[36mFixture Insert (76.7ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 11:31:43', '2017-05-02 11:31:43', 3, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 11:31:43', '2017-05-02 11:31:43', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 11:31:43', '2017-05-02 11:31:43', 5, 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:44', '2017-05-02 09:31:44', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:44', '2017-05-02 09:31:44', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 09:31:44', '2017-05-02 09:31:44')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 09:31:44', '2017-05-02 09:31:44')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 09:31:44', '2017-05-02 09:31:44')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 09:31:44', '2017-05-02 09:31:44')
  [1m[36m (71.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-02 09:31:44', '2017-05-02 09:31:44')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190963, '2017-05-02 09:31:44', '2017-05-02 09:31:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (354.5ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 09:31:46' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.8ms)[0m  [1mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190963 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190963
  [1m[36mOrderItem Load (0.9ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190963[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-02 09:31:46' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (67.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (90.5ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:34:20', '2017-05-02 12:34:20', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:34:20', '2017-05-02 12:34:20', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:34:20', '2017-05-02 12:34:20', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:34:20', '2017-05-02 12:34:20', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:34:20', '2017-05-02 12:34:20', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35m (69.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-02 12:34:20 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 10:34:21', '2017-05-02 10:34:21')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963 AND `cart_items`.`article_id` = 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190963, '2017-05-02 10:34:21', '2017-05-02 10:34:21')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 108ms (ActiveRecord: 3.5ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 12:34:21 +0200
  [1m[36m (41.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 12:34:21 +0200
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (119.9ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:35:33', '2017-05-02 12:35:33', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:35:33', '2017-05-02 12:35:33', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:35:33', '2017-05-02 12:35:33', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:35:33', '2017-05-02 12:35:33', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:35:33', '2017-05-02 12:35:33', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35m (86.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 12:35:33 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.9ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 80ms (ActiveRecord: 1.4ms)
  [1m[36m (44.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-02 12:35:33 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`article_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190965, '2017-05-02 10:35:34', '2017-05-02 10:35:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 50ms (ActiveRecord: 3.5ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 12:35:34 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (41.6ms)
  Rendered cart/_cart_notice.html.erb (0.5ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.6ms)
  Rendered cart/_cart.html.erb (9.4ms)
Completed 200 OK in 1132ms (Views: 1126.3ms | ActiveRecord: 2.1ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-02 12:35:35 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190965"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-02 10:35:35', '2017-05-02 10:35:35')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190964, '2017-05-02 10:35:35', '2017-05-02 10:35:35')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 10:35:37' WHERE `orders`.`id` = 980190964[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1883ms (ActiveRecord: 5.3ms)
  [1m[35m (130.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (4.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (29.5ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (68.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:18', '2017-05-02 19:23:18', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:18', '2017-05-02 19:23:18', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:23:18', '2017-05-02 21:23:18', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:23:18', '2017-05-02 21:23:18', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:23:18', '2017-05-02 21:23:18', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:23:18', '2017-05-02 21:23:18', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:23:18', '2017-05-02 21:23:18', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35m (64.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:23:19 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (9.2ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190963 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 152ms (ActiveRecord: 10.3ms)
  [1m[36m (38.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-02 21:23:19 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`article_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190964, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 107ms (ActiveRecord: 3.2ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:23:19 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (46.6ms)
  Rendered cart/_cart_notice.html.erb (0.7ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.6ms)
  Rendered cart/_cart.html.erb (19.1ms)
Completed 200 OK in 1609ms (Views: 1604.5ms | ActiveRecord: 1.6ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-02 21:23:21 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190964"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-02 19:23:21', '2017-05-02 19:23:21')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190963, '2017-05-02 19:23:21', '2017-05-02 19:23:21')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (13.0ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:23:23' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190963
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1612ms (ActiveRecord: 18.2ms)
  [1m[35m (100.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (61.8ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:02', '2017-05-02 21:53:02', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:02', '2017-05-02 21:53:02', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:02', '2017-05-02 21:53:02', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:02', '2017-05-02 21:53:02', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:02', '2017-05-02 21:53:02', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35m (65.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190964, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:53:03' WHERE `orders`.`id` = 980190964
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190964 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190964[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190964
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-02 19:53:03' WHERE `orders`.`id` = 980190964
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (34.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 298486374)[0m
  [1m[35mFixture Delete (85.1ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:30', '2017-05-02 21:53:30', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:30', '2017-05-02 21:53:30', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:30', '2017-05-02 21:53:30', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:30', '2017-05-02 21:53:30', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:30', '2017-05-02 21:53:30', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:31', '2017-05-02 19:53:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:31', '2017-05-02 19:53:31', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 19:53:31', '2017-05-02 19:53:31')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 19:53:31', '2017-05-02 19:53:31')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 19:53:31', '2017-05-02 19:53:31')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 19:53:31', '2017-05-02 19:53:31')[0m
  [1m[35m (86.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-02 19:53:31', '2017-05-02 19:53:31')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190965, '2017-05-02 19:53:31', '2017-05-02 19:53:31')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:53:33' WHERE `orders`.`id` = 980190965
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.8ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190965 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190965[0m
  [1m[35mOrderItem Load (0.7ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190965
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (220.5ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-02 19:53:33' WHERE `orders`.`id` = 980190965
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (33.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (76.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:54:25', '2017-05-02 21:54:25', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:54:25', '2017-05-02 21:54:25', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:54:25', '2017-05-02 21:54:25', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:54:25', '2017-05-02 21:54:25', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:54:25', '2017-05-02 21:54:25', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35m (70.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:54:25 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 58ms (ActiveRecord: 1.4ms)
  [1m[36m (40.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-02 21:54:25 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`article_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190966, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 44ms (ActiveRecord: 2.7ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:54:25 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190966 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (17.2ms)
  Rendered cart/_cart_notice.html.erb (0.2ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (0.9ms)
  Rendered cart/_cart.html.erb (4.8ms)
Completed 200 OK in 164ms (Views: 161.1ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-02 21:54:26 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190966"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-02 19:54:26', '2017-05-02 19:54:26')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190966, '2017-05-02 19:54:26', '2017-05-02 19:54:26')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:54:26' WHERE `orders`.`id` = 980190966[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 769ms (ActiveRecord: 4.1ms)
  [1m[35m (154.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (90.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:55:15', '2017-05-02 21:55:15', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:55:15', '2017-05-02 21:55:15', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:55:15', '2017-05-02 21:55:15', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:55:15', '2017-05-02 21:55:15', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:55:15', '2017-05-02 21:55:15', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35m (84.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (9.0ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 34ms (ActiveRecord: 9.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (46.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (7.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (28.6ms)
Completed 200 OK in 281ms (Views: 279.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-05-02 19:55:16' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (99.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (5.0ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (15.9ms)
Completed 200 OK in 21ms (Views: 20.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (0.9ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (59.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::OrderControllerTest: test_should_get_show
------------------------------------------------
Processing by Admin::OrderController#show as HTML
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_close
-------------------------------------------------
Processing by Admin::OrderController#close as HTML
  [1m[35mOrder Load (0.5ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = NULL LIMIT 1
Completed 404 Not Found in 1ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_index
-------------------------------------------------
Processing by Admin::OrderController#index as HTML
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT  `orders`.* FROM `orders` LIMIT 10 OFFSET 0[0m
  Rendered admin/order/index.html.erb within layouts/application (20.8ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 13ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (2.5ms)
  Rendered admin/supplier/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-05-02 19:55:16' WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (31.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (2.4ms)
  Rendered admin/supplier/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.6ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-02 19:55:16', '2017-05-02 19:55:16')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 6ms (Views: 4.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (40.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/supplier/_form.html.erb (4.4ms)
  Rendered admin/supplier/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 35ms (Views: 8.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (0.5ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 28ms (ActiveRecord: 3.2ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (1.2ms)
  Rendered admin/supplier/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (38.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:55:16 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:16', '2017-05-02 19:55:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190967 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 35ms (ActiveRecord: 1.6ms)
  [1m[35m (37.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-02 21:55:17 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:17', '2017-05-02 19:55:17')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`article_id` = 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190968, '2017-05-02 19:55:17', '2017-05-02 19:55:17')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 56ms (ActiveRecord: 3.9ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:55:17 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190968 LIMIT 1[0m
  Rendered checkout/index.html.erb within layouts/application (58.1ms)
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.5ms)
  Rendered cart/_cart.html.erb (7.8ms)
Completed 200 OK in 77ms (Views: 71.2ms | ActiveRecord: 2.0ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-02 21:55:17 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190968"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-02 19:55:17', '2017-05-02 19:55:17')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190967, '2017-05-02 19:55:17', '2017-05-02 19:55:17')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:55:18' WHERE `orders`.`id` = 980190967
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190965[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 927ms (ActiveRecord: 5.4ms)
  [1m[36m (52.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-02 19:55:18', '2017-05-02 19:55:18')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-05-02 19:55:18', '2017-05-02 19:55:18')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-05-02 19:55:18', '2017-05-02 19:55:18')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (47.3ms)
  Rendered admin/article/new.html.erb within layouts/application (51.8ms)
Completed 200 OK in 75ms (Views: 71.9ms | ActiveRecord: 1.3ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"4", "supplier_ids"=>["5"], "manufactured_at"=>"2017-05-02 21:55:18 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.5ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 4, '2017-05-02 19:55:18', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-05-02 19:55:18', '2017-05-02 19:55:18')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (5, 11, '2017-05-02 19:55:18', '2017-05-02 19:55:18')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 30ms (ActiveRecord: 3.8ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (19.1ms)
Completed 200 OK in 23ms (Views: 19.9ms | ActiveRecord: 2.4ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=3" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 10
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 1.2ms)
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (19.2ms)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 2.4ms)
Started GET "/admin/article/show/11" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11
  Rendered admin/article/show.html.erb within layouts/application (8.7ms)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 2.2ms)
Started GET "/admin/article/edit?id=11" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (13.4ms)
  Rendered admin/article/edit.html.erb within layouts/application (15.9ms)
Completed 200 OK in 22ms (Views: 17.4ms | ActiveRecord: 2.7ms)
Started POST "/admin/article/update?id=11" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"4", "supplier_ids"=>["5"], "manufactured_at"=>"2017-05-02 21:55:18 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"11"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 11) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-05-02 19:55:18' WHERE `articles`.`id` = 11[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/11
Completed 302 Found in 17ms (ActiveRecord: 3.9ms)
Started GET "/admin/article/show/11" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11[0m
  Rendered admin/article/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 1.7ms)
Started POST "/admin/article/destroy?id=11" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"11"}
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 11
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 11[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (18.1ms)
Completed 200 OK in 22ms (Views: 18.0ms | ActiveRecord: 2.5ms)
  [1m[35m (35.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.6ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-05-02 19:55:18', '2017-05-02 19:55:18')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (45.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-02 19:55:18', '2017-05-02 19:55:18')
  [1m[36mSQL (82.2ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190968, '2017-05-02 19:55:18', '2017-05-02 19:55:18')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:55:19' WHERE `orders`.`id` = 980190968
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190968 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190968[0m
  [1m[35mOrderItem Load (1.8ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190968
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-02 19:55:19' WHERE `orders`.`id` = 980190968
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (69.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-02 21:55:19 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:19', '2017-05-02 19:55:19')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (26.5ms)
  Rendered catalog/index.html.erb within layouts/application (29.6ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969[0m
  Rendered cart/_cart.html.erb (2.2ms)
Completed 200 OK in 45ms (Views: 37.6ms | ActiveRecord: 2.9ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-02 21:55:19 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (20.7ms)
  Rendered catalog/index.html.erb within layouts/application (21.2ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 2.4ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-02 21:55:19 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1[0m
  [1m[35mSupplier Load (0.9ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 1.9ms)
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-02 21:55:19 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.6ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (9.6ms)
  Rendered catalog/latest.html.erb within layouts/application (10.2ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969[0m
  Rendered cart/_cart.html.erb (1.4ms)
Completed 200 OK in 29ms (Views: 25.8ms | ActiveRecord: 2.4ms)
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.6ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (66.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
CatalogControllerTest: test_should_get_index
--------------------------------------------
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:19', '2017-05-02 19:55:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (18.3ms)
  Rendered catalog/index.html.erb within layouts/application (19.4ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970
  Rendered cart/_cart.html.erb (2.5ms)
Completed 200 OK in 31ms (Views: 22.5ms | ActiveRecord: 3.6ms)
  [1m[36m (40.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
CatalogControllerTest: test_should_get_latest
---------------------------------------------
Processing by CatalogController#latest as HTML
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:19', '2017-05-02 19:55:19')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.8ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (20.2ms)
  Rendered catalog/latest.html.erb within layouts/application (20.6ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971[0m
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 33ms (Views: 23.9ms | ActiveRecord: 4.5ms)
  [1m[35m (40.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
CatalogControllerTest: test_should_get_show
-------------------------------------------
Processing by CatalogController#show as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:19', '2017-05-02 19:55:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190972, '2017-05-02 19:55:19', '2017-05-02 19:55:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 17ms (ActiveRecord: 4.3ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972
  [1m[36m (41.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:19', '2017-05-02 19:55:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`article_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190973, '2017-05-02 19:55:19', '2017-05-02 19:55:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 18ms (ActiveRecord: 3.8ms)
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190973[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190967[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190973
  [1m[36m (38.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190974, '2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 4.7ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190974[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190968 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190968[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 3.7ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190974[0m
  [1m[35m (42.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutControllerTest: test_should_get_thank_you
-------------------------------------------------
Processing by CheckoutController#thank_you as HTML
  Rendered checkout/thank_you.html.erb within layouts/application (1.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
CheckoutControllerTest: test_should_get_index
---------------------------------------------
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190975 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
  [1m[35m (40.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------
CheckoutControllerTest: test_should_get_submit_order
----------------------------------------------------
Processing by CheckoutController#submit_order as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_create
----------------------------------------------------
Processing by Admin::ArticleController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_show
--------------------------------------------------
Processing by Admin::ArticleController#show as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_edit
--------------------------------------------------
Processing by Admin::ArticleController#edit as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::ArticleControllerTest: test_should_get_new
-------------------------------------------------
Processing by Admin::ArticleController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/article/_form.html.erb (11.9ms)
  Rendered admin/article/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_destroy
-----------------------------------------------------
Processing by Admin::ArticleController#destroy as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
Admin::ArticleControllerTest: test_should_get_index
---------------------------------------------------
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.9ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (18.7ms)
Completed 200 OK in 23ms (Views: 17.2ms | ActiveRecord: 3.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_update
----------------------------------------------------
Processing by Admin::ArticleController#update as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-05-02 19:55:20', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 12, '2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 12, '2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 12 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 12[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (39.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-05-02 19:55:20', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 13, '2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 13, '2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-05-02 19:55:20', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 14, '2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 14, '2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (42.1ms)[0m  [1mROLLBACK[0m

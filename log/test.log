  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (22.8ms)
Completed 200 OK in 692ms (Views: 691.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 384ms (Views: 383.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (3.0ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 379ms (Views: 378.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (4.8ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 387ms (Views: 386.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 363ms (Views: 358.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (7.4ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (17.2ms)
Completed 200 OK in 378ms (Views: 377.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (5.4ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 421ms (Views: 421.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.5ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 361ms (Views: 360.3ms | ActiveRecord: 0.0ms)
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 427ms (Views: 426.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 347ms (Views: 346.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (7.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 357ms (Views: 356.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.7ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 417ms (Views: 416.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (6.8ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 370ms (Views: 369.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (29.5ms)[0m  [1mDROP DATABASE IF EXISTS `eshop6_test`[0m
  [1m[35m (0.6ms)[0m  CREATE DATABASE `eshop6_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (338.6ms)[0m  [1mCREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (309.5ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (499.8ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) [0m
  [1m[35m (0.5ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (32.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170321100602')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:49:23', '2017-03-21 10:49:23', 980190962)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:49:23', '2017-03-21 10:49:23', 980190962)[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:50:27', '2017-03-21 10:50:27', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:50:27', '2017-03-21 10:50:27', 980190962)[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:54:58', '2017-03-21 10:54:58', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`created_at`, `updated_at`, `id`) VALUES ('2017-03-21 10:54:58', '2017-03-21 10:54:58', 980190962)[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.5ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-21 10:56:17', '2017-03-21 10:56:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (38.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (24.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:15:55', '2017-03-24 18:15:55')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:15:55', '2017-03-24 18:15:55')[0m
  [1m[35m (81.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (5.0ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (42.7ms)
Completed 200 OK in 1235ms (Views: 1230.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (16.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:15:56' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 193ms (ActiveRecord: 18.7ms)
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (37.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.7ms)
  [1m[35mManufacturer Exists (0.9ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (2.5ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (34.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (3.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2017-03-24 18:15:57', '2017-03-24 18:15:57')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (40.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:16:16', '2017-03-24 18:16:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:16:16', '2017-03-24 18:16:16')[0m
  [1m[35m (46.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 19ms (ActiveRecord: 1.1ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (2.5ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 200ms (Views: 199.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (49.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (1.7ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35mManufacturer Exists (0.6ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:16:16' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 6ms (ActiveRecord: 1.8ms)
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (46.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2017-03-24 18:16:16', '2017-03-24 18:16:16')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (42.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:17:16', '2017-03-24 18:17:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:17:16', '2017-03-24 18:17:16')[0m
  [1m[35m (121.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:17:16', '2017-03-24 18:17:16')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (130.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:18:11', '2017-03-24 18:18:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:18:11', '2017-03-24 18:18:11')[0m
  [1m[35m (77.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 230ms (Views: 229.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (1.6ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (4.8ms)
Completed 200 OK in 15ms (Views: 7.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.5ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 2ms (ActiveRecord: 1.1ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.6ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (45.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:18:12' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 25ms (ActiveRecord: 2.2ms)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (35.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.6ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2017-03-24 18:18:12', '2017-03-24 18:18:12')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (39.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:18:12', '2017-03-24 18:18:12')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (38.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:19:24', '2017-03-24 18:19:24')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:19:24', '2017-03-24 18:19:24')[0m
  [1m[35m (79.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2017-03-24 18:19:24', '2017-03-24 18:19:24')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (39.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (2.5ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (8.3ms)
Completed 200 OK in 217ms (Views: 211.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.2ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.4ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.2ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:19:24' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (30.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 3ms (ActiveRecord: 1.2ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.0ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (30.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:19:39', '2017-03-24 18:19:39')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:19:39', '2017-03-24 18:19:39')[0m
  [1m[35m (34.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:19:39', '2017-03-24 18:19:39')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (43.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:23:50', '2017-03-24 18:23:50')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:23:50', '2017-03-24 18:23:50')[0m
  [1m[35m (87.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:23:50', '2017-03-24 18:23:50')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (71.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:25:37', '2017-03-24 18:25:37')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:25:37', '2017-03-24 18:25:37')[0m
  [1m[35m (73.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:25:37', '2017-03-24 18:25:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (48.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:26:55', '2017-03-24 18:26:55')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:26:55', '2017-03-24 18:26:55')[0m
  [1m[35m (87.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (2.4ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (7.8ms)
Completed 200 OK in 203ms (Views: 199.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.2ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:26:55' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (47.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2017-03-24 18:26:55', '2017-03-24 18:26:55')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (37.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (2.2ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (33.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.7ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:27:16', '2017-03-24 18:27:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:27:16', '2017-03-24 18:27:16')[0m
  [1m[35m (74.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Ataulfo' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Ataulfo', '2017-03-24 18:27:16', '2017-03-24 18:27:16')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (39.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:32:05', '2017-03-24 18:32:05')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:32:05', '2017-03-24 18:32:05')[0m
  [1m[35m (83.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-03-24 18:32:05', '2017-03-24 18:32:05')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (72.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 18:41:25', '2017-03-24 18:41:25')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 18:41:25', '2017-03-24 18:41:25')[0m
  [1m[35m (74.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (1.8ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (5.9ms)
Completed 200 OK in 207ms (Views: 199.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-03-24 18:41:25', '2017-03-24 18:41:25')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (37.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.2ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.6ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-24 18:41:25' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 7ms (ActiveRecord: 2.7ms)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (45.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 19:26:43', '2017-03-24 19:26:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 19:26:43', '2017-03-24 19:26:43')[0m
  [1m[35m (71.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-03-24 19:26:43', '2017-03-24 19:26:43')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (49.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-24 19:32:12', '2017-03-24 19:32:12')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-24 19:32:12', '2017-03-24 19:32:12')[0m
  [1m[35m (70.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-03-24 19:32:12', '2017-03-24 19:32:12')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (47.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (30.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-03-26 08:03:11', '2017-03-26 08:03:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-03-26 08:03:11', '2017-03-26 08:03:11')[0m
  [1m[35m (90.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 701ms (Views: 654.0ms | ActiveRecord: 0.6ms)
  [1m[35mManufacturer Exists (17.5ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (21.4ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (55.3ms)
Completed 200 OK in 68ms (Views: 67.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (4.0ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (17.7ms)
Completed 200 OK in 39ms (Views: 38.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (36.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-03-26 08:03:12', '2017-03-26 08:03:12')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 10ms (ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (37.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (3.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.4ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-03-26 08:03:12' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 9ms (ActiveRecord: 2.8ms)
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (33.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (25.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (414.8ms)[0m  [1mDROP DATABASE IF EXISTS `eshop6_test`[0m
  [1m[35m (0.4ms)[0m  CREATE DATABASE `eshop6_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (246.6ms)[0m  [1mCREATE TABLE `articles` (`id` int(11) auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `manufacturer_id` int(11) NOT NULL, `manufactured_at` datetime, `reference` varchar(13), `blurb` text, `size` int(11), `price` float(24), `created_at` datetime, `updated_at` datetime, `cover_image_file_name` varchar(255), `cover_image_content_type` varchar(255), `cover_image_file_size` int(11), `cover_image_updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (244.8ms)[0m  CREATE  INDEX `fk_articles_manufacturers` USING btree ON `articles` (`manufacturer_id`) 
  [1m[36m (332.7ms)[0m  [1mCREATE TABLE `articles_suppliers` (`id` int(11) auto_increment PRIMARY KEY, `supplier_id` int(11) NOT NULL, `article_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (257.9ms)[0m  CREATE  INDEX `fk_articles_suppliers_articles` USING btree ON `articles_suppliers` (`article_id`) 
  [1m[36m (211.7ms)[0m  [1mCREATE  INDEX `fk_articles_suppliers_suppliers` USING btree ON `articles_suppliers` (`supplier_id`) [0m
  [1m[35m (255.6ms)[0m  CREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (266.3ms)[0m  [1mCREATE TABLE `suppliers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255) NOT NULL, `last_name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (758.9ms)[0m  ALTER TABLE `articles` ADD CONSTRAINT `fk_articles_manufacturers`
FOREIGN KEY (`manufacturer_id`)
  REFERENCES `manufacturers` (`id`)
 ON DELETE CASCADE
  [1m[36m (761.6ms)[0m  [1mALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_articles`
FOREIGN KEY (`article_id`)
  REFERENCES `articles` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (726.0ms)[0m  ALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_suppliers`
FOREIGN KEY (`supplier_id`)
  REFERENCES `suppliers` (`id`)
 ON DELETE CASCADE
  [1m[36m (287.0ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (580.3ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (33.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170404092937')
  [1m[36m (33.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130630150644')[0m
  [1m[35m (33.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170321100602')
  [1m[36m (33.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170328092851')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-08', 100.0, '2017-04-08 18:32:09', '2017-04-08 18:32:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-08', 200.0, '2017-04-08 18:32:09', '2017-04-08 18:32:09')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-08', 300.0, '2017-04-08 18:32:09', '2017-04-08 18:32:09')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-08', 400.0, '2017-04-08 18:32:09', '2017-04-08 18:32:09')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:32:09', '2017-04-08 20:32:09', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:32:09', '2017-04-08 20:32:09', 2, 1)[0m
  [1m[35mFixture Insert (62.9ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:32:09', '2017-04-08 20:32:09', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:32:09', '2017-04-08 20:32:09', 4, 2)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-08 18:32:09', '2017-04-08 18:32:09')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-08 18:32:09', '2017-04-08 18:32:09')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-08 18:32:09', '2017-04-08 18:32:09')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-08 18:32:09', '2017-04-08 18:32:09')[0m
  [1m[35m (70.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-08 18:32:09', '2017-04-08 18:32:09')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (58.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (66.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-08', 100.0, '2017-04-08 18:39:09', '2017-04-08 18:39:09')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-08', 200.0, '2017-04-08 18:39:09', '2017-04-08 18:39:09')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-08', 300.0, '2017-04-08 18:39:09', '2017-04-08 18:39:09')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-08', 400.0, '2017-04-08 18:39:09', '2017-04-08 18:39:09')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:39:09', '2017-04-08 20:39:09', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:39:09', '2017-04-08 20:39:09', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:39:09', '2017-04-08 20:39:09', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:39:09', '2017-04-08 20:39:09', 4, 2)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-08 18:39:09', '2017-04-08 18:39:09')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-08 18:39:09', '2017-04-08 18:39:09')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-08 18:39:09', '2017-04-08 18:39:09')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-08 18:39:09', '2017-04-08 18:39:09')
  [1m[36m (42.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (3.0ms)
  Rendered admin/supplier/index.html.erb within layouts/application (46.6ms)
Completed 200 OK in 1935ms (Views: 1934.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (17.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (37.8ms)
Completed 200 OK in 56ms (Views: 55.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/supplier/_form.html.erb (1.9ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 76ms (Views: 4.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-08 18:39:12' WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 41ms (ActiveRecord: 1.6ms)
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (48.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-08 18:39:12', '2017-04-08 18:39:12')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 7ms (Views: 2.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (38.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (0.9ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.4ms)
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (42.3ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 129ms (ActiveRecord: 44.3ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (1.8ms)
  Rendered admin/supplier/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (39.9ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (78.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-08', 100.0, '2017-04-08 18:40:07', '2017-04-08 18:40:07')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-08', 200.0, '2017-04-08 18:40:07', '2017-04-08 18:40:07')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-08', 300.0, '2017-04-08 18:40:07', '2017-04-08 18:40:07')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-08', 400.0, '2017-04-08 18:40:07', '2017-04-08 18:40:07')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:07', '2017-04-08 20:40:07', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:07', '2017-04-08 20:40:07', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:07', '2017-04-08 20:40:07', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:07', '2017-04-08 20:40:07', 4, 2)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-08 18:40:07', '2017-04-08 18:40:07')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-08 18:40:07', '2017-04-08 18:40:07')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-08 18:40:07', '2017-04-08 18:40:07')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-08 18:40:07', '2017-04-08 18:40:07')
  [1m[36m (42.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (2.7ms)
  Rendered admin/supplier/new.html.erb within layouts/application (8.8ms)
Completed 200 OK in 229ms (Views: 224.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-08 18:40:07', '2017-04-08 18:40:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 4ms (Views: 224.1ms | ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (45.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (1.7ms)
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-08 18:40:07' WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (44.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (1.7ms)
  Rendered admin/supplier/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/supplier/_form.html.erb (1.8ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 11ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (68.8ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 86ms (ActiveRecord: 71.3ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (0.9ms)
  Rendered admin/supplier/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (36.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (88.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-08', 100.0, '2017-04-08 18:40:57', '2017-04-08 18:40:57')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-08', 200.0, '2017-04-08 18:40:57', '2017-04-08 18:40:57')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-08', 300.0, '2017-04-08 18:40:57', '2017-04-08 18:40:57')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-08', 400.0, '2017-04-08 18:40:57', '2017-04-08 18:40:57')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:57', '2017-04-08 20:40:57', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:57', '2017-04-08 20:40:57', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:57', '2017-04-08 20:40:57', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-08 20:40:57', '2017-04-08 20:40:57', 4, 2)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-08 18:40:57', '2017-04-08 18:40:57')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-08 18:40:57', '2017-04-08 18:40:57')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-08 18:40:57', '2017-04-08 18:40:57')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-08 18:40:57', '2017-04-08 18:40:57')
  [1m[36m (40.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/_form.html.erb (2.2ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (7.0ms)
Completed 200 OK in 217ms (Views: 208.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/supplier/_form.html.erb (1.6ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 13ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-08 18:40:58' WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-08 18:40:58', '2017-04-08 18:40:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 4ms (Views: 2.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (33.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (5.4ms)
  Rendered admin/supplier/index.html.erb within layouts/application (7.9ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (70.6ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 90ms (ActiveRecord: 72.4ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (1.2ms)
  Rendered admin/supplier/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (31.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (20.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (12.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (150.8ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:46:22', '2017-04-13 17:46:22')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:46:22', '2017-04-13 17:46:22')[0m
  [1m[35mFixture Delete (49.8ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:46:22', '2017-04-13 19:46:22', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:46:22', '2017-04-13 19:46:22', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:46:22', '2017-04-13 19:46:22', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:46:22', '2017-04-13 19:46:22', 4, 2)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:46:22', '2017-04-13 17:46:22')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:46:22', '2017-04-13 17:46:22')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36m (41.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (16.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:46:22', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 5, '2017-04-13 17:46:22', '2017-04-13 17:46:22')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 5, '2017-04-13 17:46:22', '2017-04-13 17:46:22')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (326.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:46:23', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:46:23', '2017-04-13 17:46:23')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 6, '2017-04-13 17:46:23', '2017-04-13 17:46:23')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 6, '2017-04-13 17:46:23', '2017-04-13 17:46:23')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (99.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:46:23', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:46:23', '2017-04-13 17:46:23')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 7, '2017-04-13 17:46:23', '2017-04-13 17:46:23')[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 7, '2017-04-13 17:46:23', '2017-04-13 17:46:23')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 7 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 7[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35m (42.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (84.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:49:55', '2017-04-13 19:49:55', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:49:55', '2017-04-13 19:49:55', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:49:55', '2017-04-13 19:49:55', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:49:55', '2017-04-13 19:49:55', 4, 2)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36m (31.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:49:55', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 8, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 8, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 8 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 8[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35m (91.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:49:55', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 9, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 9, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (34.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:49:55', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 10, '2017-04-13 17:49:55', '2017-04-13 17:49:55')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 10, '2017-04-13 17:49:55', '2017-04-13 17:49:55')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 10 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (40.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (95.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:51:32', '2017-04-13 17:51:32')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:51:32', '2017-04-13 17:51:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:51:32', '2017-04-13 17:51:32')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:51:32', '2017-04-13 17:51:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 17:51:32', '2017-04-13 17:51:32')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:51:32', '2017-04-13 19:51:32', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:51:32', '2017-04-13 19:51:32', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:51:32', '2017-04-13 19:51:32', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:51:32', '2017-04-13 19:51:32', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:51:32', '2017-04-13 19:51:32', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:51:32', '2017-04-13 17:51:32')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:51:32', '2017-04-13 17:51:32')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:51:32', '2017-04-13 17:51:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:51:32', '2017-04-13 17:51:32')
  [1m[36m (40.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.8ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:51:32', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:51:33', '2017-04-13 17:51:33')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 11, '2017-04-13 17:51:33', '2017-04-13 17:51:33')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 11, '2017-04-13 17:51:33', '2017-04-13 17:51:33')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35m (118.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (1.9ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:51:33', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:51:33', '2017-04-13 17:51:33')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 12, '2017-04-13 17:51:33', '2017-04-13 17:51:33')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 12, '2017-04-13 17:51:33', '2017-04-13 17:51:33')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (37.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:51:33', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:51:33', '2017-04-13 17:51:33')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 13, '2017-04-13 17:51:33', '2017-04-13 17:51:33')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 13, '2017-04-13 17:51:33', '2017-04-13 17:51:33')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (46.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (67.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:53:12', '2017-04-13 17:53:12')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:53:12', '2017-04-13 17:53:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:53:12', '2017-04-13 17:53:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:53:12', '2017-04-13 17:53:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 17:53:12', '2017-04-13 17:53:12')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:53:12', '2017-04-13 19:53:12', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:53:12', '2017-04-13 19:53:12', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:53:12', '2017-04-13 19:53:12', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:53:12', '2017-04-13 19:53:12', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:53:12', '2017-04-13 19:53:12', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:53:12', '2017-04-13 17:53:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:53:12', '2017-04-13 17:53:12')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:53:12', '2017-04-13 17:53:12')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:53:12', '2017-04-13 17:53:12')
  [1m[36m (39.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (1.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:53:13', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:53:13', '2017-04-13 17:53:13')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 14, '2017-04-13 17:53:13', '2017-04-13 17:53:13')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 14, '2017-04-13 17:53:13', '2017-04-13 17:53:13')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (116.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:53:13', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:53:13', '2017-04-13 17:53:13')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 15, '2017-04-13 17:53:13', '2017-04-13 17:53:13')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 15, '2017-04-13 17:53:13', '2017-04-13 17:53:13')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 15 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (39.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:53:13', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:53:13', '2017-04-13 17:53:13')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 16, '2017-04-13 17:53:13', '2017-04-13 17:53:13')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 16, '2017-04-13 17:53:13', '2017-04-13 17:53:13')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (38.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (66.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:54:25', '2017-04-13 17:54:25')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:54:25', '2017-04-13 17:54:25')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:54:25', '2017-04-13 17:54:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:54:25', '2017-04-13 17:54:25')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 17:54:25', '2017-04-13 17:54:25')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:54:25', '2017-04-13 19:54:25', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:54:25', '2017-04-13 19:54:25', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:54:25', '2017-04-13 19:54:25', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:54:25', '2017-04-13 19:54:25', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:54:25', '2017-04-13 19:54:25', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:54:26', '2017-04-13 17:54:26')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:54:26', '2017-04-13 17:54:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36m (40.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:54:26', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 17, '2017-04-13 17:54:26', '2017-04-13 17:54:26')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 17, '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (104.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.8ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:54:26', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:54:26', '2017-04-13 17:54:26')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 18, '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 18 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 18[0m
  [1m[35m (35.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:54:26', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 19, '2017-04-13 17:54:26', '2017-04-13 17:54:26')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 19, '2017-04-13 17:54:26', '2017-04-13 17:54:26')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (119.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (91.0ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:55:07', '2017-04-13 17:55:07')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:55:07', '2017-04-13 17:55:07')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:55:07', '2017-04-13 17:55:07')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:55:07', '2017-04-13 17:55:07')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 17:55:07', '2017-04-13 17:55:07')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:07', '2017-04-13 19:55:07', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:07', '2017-04-13 19:55:07', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:07', '2017-04-13 19:55:07', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:07', '2017-04-13 19:55:07', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:07', '2017-04-13 19:55:07', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36m (41.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:55:08', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 20, '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 20, '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (119.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:55:08', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 21, '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 21, '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (45.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:55:08', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:55:08', '2017-04-13 17:55:08')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 22, '2017-04-13 17:55:08', '2017-04-13 17:55:08')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 22 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 22[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (44.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (62.0ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 17:55:57', '2017-04-13 17:55:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 17:55:57', '2017-04-13 17:55:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:57', '2017-04-13 19:55:57', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:57', '2017-04-13 19:55:57', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:57', '2017-04-13 19:55:57', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:57', '2017-04-13 19:55:57', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 19:55:57', '2017-04-13 19:55:57', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 17:55:57', '2017-04-13 17:55:57')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 17:55:57', '2017-04-13 17:55:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 17:55:57', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 17:55:57', '2017-04-13 17:55:57')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 23, '2017-04-13 17:55:57', '2017-04-13 17:55:57')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 23, '2017-04-13 17:55:58', '2017-04-13 17:55:58')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (98.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:55:58', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:55:58', '2017-04-13 17:55:58')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 24, '2017-04-13 17:55:58', '2017-04-13 17:55:58')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 24, '2017-04-13 17:55:58', '2017-04-13 17:55:58')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 24 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (30.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.9ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 17:55:58', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 17:55:58', '2017-04-13 17:55:58')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 25, '2017-04-13 17:55:58', '2017-04-13 17:55:58')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 25, '2017-04-13 17:55:58', '2017-04-13 17:55:58')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 25 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 25[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (35.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (87.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:16:05', '2017-04-13 20:16:05')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:16:05', '2017-04-13 20:16:05')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:16:05', '2017-04-13 22:16:05', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:16:05', '2017-04-13 22:16:05', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:16:05', '2017-04-13 22:16:05', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:16:05', '2017-04-13 22:16:05', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:16:05', '2017-04-13 22:16:05', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:16:05', '2017-04-13 20:16:05')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:16:05', '2017-04-13 20:16:05')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36m (41.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Articles of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Articles of Ruby', '2017-04-13 20:16:05', '2017-04-13 20:16:05')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2017-04-13 20:16:05', '2017-04-13 20:16:05')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:16:05 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (48.2ms)
  Rendered admin/article/new.html.erb within layouts/application (56.2ms)
Completed 200 OK in 326ms (Views: 300.1ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"A new Article of Ruby", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-13 22:16:05 +0200", "reference"=>"123-123-123-X", "blurb"=>"A new Article of Ruby", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('A new Article of Ruby', 3, '2017-04-13 20:16:05', '123-123-123-X', 'A new Article of Ruby', 45.5, 40, '2017-04-13 20:16:06', '2017-04-13 20:16:06')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (3, 26, '2017-04-13 20:16:06', '2017-04-13 20:16:06')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 21ms (ActiveRecord: 2.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'A new Article of Ruby' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/show/26" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"26"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 26 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 26
  Rendered admin/article/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/edit?id=26" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"26"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 26 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 26[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (6.9ms)
  Rendered admin/article/edit.html.erb within layouts/application (8.0ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 1.3ms)
Started POST "/admin/article/update?id=26" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"A very new Article of Ruby", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-13 22:16:06 +0200", "reference"=>"123-123-123-X", "blurb"=>"A very new Article of Ruby", "size"=>"42", "price"=>"50"}, "id"=>"26"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 26 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 26
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 26) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `articles` SET `title` = 'A very new Article of Ruby', `manufactured_at` = '2017-04-13 20:16:06', `blurb` = 'A very new Article of Ruby', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:16:06' WHERE `articles`.`id` = 26[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/26
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
Started GET "/admin/article/show/26" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"26"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 26 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 26[0m
  Rendered admin/article/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.9ms)
Started POST "/admin/article/destroy?id=26" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"26"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 26 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 26
  [1m[36mSQL (67.8ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 26[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 72ms (ActiveRecord: 68.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:16:06 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.7ms)
  [1m[35m (31.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (112.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:21:42', '2017-04-13 20:21:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:21:42', '2017-04-13 20:21:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:21:42', '2017-04-13 20:21:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:21:42', '2017-04-13 20:21:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:21:42', '2017-04-13 20:21:42')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:21:42', '2017-04-13 22:21:42', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:21:42', '2017-04-13 22:21:42', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:21:42', '2017-04-13 22:21:42', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:21:42', '2017-04-13 22:21:42', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:21:42', '2017-04-13 22:21:42', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:21:42', '2017-04-13 20:21:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:21:42', '2017-04-13 20:21:42')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:21:42', '2017-04-13 20:21:42')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:21:42', '2017-04-13 20:21:42')
  [1m[36m (42.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Articles of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Articles of Ruby', '2017-04-13 20:21:43', '2017-04-13 20:21:43')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2017-04-13 20:21:43', '2017-04-13 20:21:43')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (52.5ms)
  Rendered admin/article/new.html.erb within layouts/application (59.1ms)
Completed 200 OK in 249ms (Views: 224.6ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"A new Article of Ruby", "manufacturer_id"=>"4", "supplier_ids"=>["4"], "manufactured_at"=>"2017-04-13 22:21:43 +0200", "reference"=>"123-123-123-X", "blurb"=>"A new Article of Ruby", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.5ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('A new Article of Ruby', 4, '2017-04-13 20:21:43', '123-123-123-X', 'A new Article of Ruby', 45.5, 40, '2017-04-13 20:21:43', '2017-04-13 20:21:43')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (4, 27, '2017-04-13 20:21:43', '2017-04-13 20:21:43')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 22ms (ActiveRecord: 2.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'A new Article of Ruby' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/27" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 27 LIMIT 1
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 27
  Rendered admin/article/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.8ms)
Started GET "/admin/article/edit?id=27" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"27"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 27 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 27[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.8ms)
  Rendered admin/article/edit.html.erb within layouts/application (7.0ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/update?id=27" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"A very new Article of Ruby", "manufacturer_id"=>"4", "supplier_ids"=>["4"], "manufactured_at"=>"2017-04-13 22:21:43 +0200", "reference"=>"123-123-123-X", "blurb"=>"A very new Article of Ruby", "size"=>"42", "price"=>"50"}, "id"=>"27"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 27 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 27
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 27) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'A very new Article of Ruby', `blurb` = 'A very new Article of Ruby', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:21:43' WHERE `articles`.`id` = 27[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/27
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
Started GET "/admin/article/show/27" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 27 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 27[0m
  Rendered admin/article/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/destroy?id=27" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"27"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 27 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 27
  [1m[36mSQL (84.1ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 27[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 88ms (ActiveRecord: 85.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:21:43 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.7ms)
  [1m[35m (37.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (106.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:24:17', '2017-04-13 20:24:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:24:17', '2017-04-13 20:24:17')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:24:17', '2017-04-13 20:24:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:24:17', '2017-04-13 20:24:17')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:24:17', '2017-04-13 20:24:17')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:24:17', '2017-04-13 22:24:17', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:24:17', '2017-04-13 22:24:17', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:24:17', '2017-04-13 22:24:17', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:24:17', '2017-04-13 22:24:17', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:24:17', '2017-04-13 22:24:17', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:24:17', '2017-04-13 20:24:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:24:17', '2017-04-13 20:24:17')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:24:17', '2017-04-13 20:24:17')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:24:17', '2017-04-13 20:24:17')
  [1m[36m (42.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Articles of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Articles of Ruby', '2017-04-13 20:24:18', '2017-04-13 20:24:18')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2017-04-13 20:24:18', '2017-04-13 20:24:18')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (52.0ms)
  Rendered admin/article/new.html.erb within layouts/application (59.5ms)
Completed 200 OK in 250ms (Views: 227.0ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"A new Article of Ruby", "manufacturer_id"=>"5", "supplier_ids"=>["5"], "manufactured_at"=>"2017-04-13 22:24:18 +0200", "reference"=>"123-123-123-X", "blurb"=>"A new Article of Ruby", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('A new Article of Ruby', 5, '2017-04-13 20:24:18', '123-123-123-X', 'A new Article of Ruby', 45.5, 40, '2017-04-13 20:24:18', '2017-04-13 20:24:18')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (5, 28, '2017-04-13 20:24:18', '2017-04-13 20:24:18')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 26ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'A new Article of Ruby' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/show/28" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 28 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 28
  Rendered admin/article/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/edit?id=28" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"28"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 28 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 28[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.5ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.7ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/update?id=28" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"A very new Article of Ruby", "manufacturer_id"=>"5", "supplier_ids"=>["5"], "manufactured_at"=>"2017-04-13 22:24:18 +0200", "reference"=>"123-123-123-X", "blurb"=>"A very new Article of Ruby", "size"=>"42", "price"=>"50"}, "id"=>"28"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.1ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 28
  [1m[36mManufacturer Load (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Exists (0.2ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 28) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `articles` SET `title` = 'A very new Article of Ruby', `blurb` = 'A very new Article of Ruby', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:24:18' WHERE `articles`.`id` = 28[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/28
Completed 302 Found in 8ms (ActiveRecord: 1.5ms)
Started GET "/admin/article/show/28" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 28 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 28[0m
  Rendered admin/article/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/destroy?id=28" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"28"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 28 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 28
  [1m[36mSQL (76.3ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 28[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 80ms (ActiveRecord: 77.3ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:24:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.9ms)
  [1m[35m (40.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (71.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:00', '2017-04-13 22:25:00', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:00', '2017-04-13 22:25:00', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:00', '2017-04-13 22:25:00', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:00', '2017-04-13 22:25:00', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:00', '2017-04-13 22:25:00', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36m (41.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Articles of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Articles of Ruby', '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (50.6ms)
  Rendered admin/article/new.html.erb within layouts/application (57.4ms)
Completed 200 OK in 246ms (Views: 222.3ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"A new Article of Ruby", "manufacturer_id"=>"6", "supplier_ids"=>["6"], "manufactured_at"=>"2017-04-13 22:25:00 +0200", "reference"=>"123-123-123-X", "blurb"=>"A new Article of Ruby", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 6 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('A new Article of Ruby', 6, '2017-04-13 20:25:00', '123-123-123-X', 'A new Article of Ruby', 45.5, 40, '2017-04-13 20:25:00', '2017-04-13 20:25:00')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (6, 29, '2017-04-13 20:25:00', '2017-04-13 20:25:00')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 21ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.4ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 6 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.4ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'A new Article of Ruby' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 1.1ms)
Started GET "/admin/article/show/29" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 29 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 6 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 29
  Rendered admin/article/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/edit?id=29" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"29"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 29 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 29[0m
  [1m[35mSupplier Load (0.1ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.4ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/update?id=29" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"A very new Article of Ruby", "manufacturer_id"=>"6", "supplier_ids"=>["6"], "manufactured_at"=>"2017-04-13 22:25:00 +0200", "reference"=>"123-123-123-X", "blurb"=>"A very new Article of Ruby", "size"=>"42", "price"=>"50"}, "id"=>"29"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 6 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 29
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 6 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 29) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'A very new Article of Ruby', `blurb` = 'A very new Article of Ruby', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:25:00' WHERE `articles`.`id` = 29[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/29
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
Started GET "/admin/article/show/29" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 29 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 6 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 29[0m
  Rendered admin/article/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.7ms)
Started POST "/admin/article/destroy?id=29" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"29"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 29 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 29
  [1m[36mSQL (82.8ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 29[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 86ms (ActiveRecord: 83.8ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:25:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 1.0ms)
  [1m[35m (41.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (102.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:25:30', '2017-04-13 20:25:30')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:25:30', '2017-04-13 20:25:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:25:30', '2017-04-13 20:25:30')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:25:30', '2017-04-13 20:25:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:25:30', '2017-04-13 20:25:30')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:30', '2017-04-13 22:25:30', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:30', '2017-04-13 22:25:30', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:30', '2017-04-13 22:25:30', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:30', '2017-04-13 22:25:30', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:25:30', '2017-04-13 22:25:30', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:25:30', '2017-04-13 20:25:30')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:25:30', '2017-04-13 20:25:30')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:25:30', '2017-04-13 20:25:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:25:30', '2017-04-13 20:25:30')
  [1m[36m (70.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Articles of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Articles of Ruby', '2017-04-13 20:25:31', '2017-04-13 20:25:31')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2017-04-13 20:25:31', '2017-04-13 20:25:31')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (50.6ms)
  Rendered admin/article/new.html.erb within layouts/application (58.3ms)
Completed 200 OK in 248ms (Views: 223.5ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"A new Article of Ruby", "manufacturer_id"=>"7", "supplier_ids"=>["7"], "manufactured_at"=>"2017-04-13 22:25:31 +0200", "reference"=>"123-123-123-X", "blurb"=>"A new Article of Ruby", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('A new Article of Ruby', 7, '2017-04-13 20:25:31', '123-123-123-X', 'A new Article of Ruby', 45.5, 40, '2017-04-13 20:25:31', '2017-04-13 20:25:31')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (7, 30, '2017-04-13 20:25:31', '2017-04-13 20:25:31')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 21ms (ActiveRecord: 2.1ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.4ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'A new Article of Ruby' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 1.1ms)
Started GET "/admin/article/show/30" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 30 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 30
  Rendered admin/article/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/edit?id=30" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"30"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 30 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 30[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.5ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/update?id=30" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"A very new Article of Ruby", "manufacturer_id"=>"7", "supplier_ids"=>["7"], "manufactured_at"=>"2017-04-13 22:25:31 +0200", "reference"=>"123-123-123-X", "blurb"=>"A very new Article of Ruby", "size"=>"42", "price"=>"50"}, "id"=>"30"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 7 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 30
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 7 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 30) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'A very new Article of Ruby', `blurb` = 'A very new Article of Ruby', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:25:31' WHERE `articles`.`id` = 30[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/30
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
Started GET "/admin/article/show/30" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 30 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 7 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 30[0m
  Rendered admin/article/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/destroy?id=30" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"30"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 30 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 30
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 30[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:25:31 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.9ms)
  [1m[35m (75.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (85.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:29:11', '2017-04-13 20:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:29:11', '2017-04-13 20:29:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:29:11', '2017-04-13 20:29:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:29:11', '2017-04-13 20:29:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:29:11', '2017-04-13 20:29:11')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:11', '2017-04-13 22:29:11', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:11', '2017-04-13 22:29:11', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:11', '2017-04-13 22:29:11', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:11', '2017-04-13 22:29:11', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:11', '2017-04-13 22:29:11', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:29:11', '2017-04-13 20:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:29:11', '2017-04-13 20:29:11')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:29:11', '2017-04-13 20:29:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:29:11', '2017-04-13 20:29:11')
  [1m[36m (31.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 20:29:12', '2017-04-13 20:29:12')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 20:29:12', '2017-04-13 20:29:12')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (48.9ms)
  Rendered admin/article/new.html.erb within layouts/application (55.4ms)
Completed 200 OK in 252ms (Views: 224.6ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"8", "supplier_ids"=>["8"], "manufactured_at"=>"2017-04-13 22:29:12 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 8, '2017-04-13 20:29:12', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 20:29:12', '2017-04-13 20:29:12')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (8, 31, '2017-04-13 20:29:12', '2017-04-13 20:29:12')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 22ms (ActiveRecord: 2.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/31" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 31 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 31
  Rendered admin/article/show.html.erb within layouts/application (4.3ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/edit?id=31" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"31"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 31 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 31[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (6.1ms)
  Rendered admin/article/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/update?id=31" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"8", "supplier_ids"=>["8"], "manufactured_at"=>"2017-04-13 22:29:12 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"31"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 31 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 8 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 31
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 31) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:29:12' WHERE `articles`.`id` = 31[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/31
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
Started GET "/admin/article/show/31" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 31 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 31[0m
  Rendered admin/article/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.9ms)
Started POST "/admin/article/destroy?id=31" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"31"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 31 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 31
  [1m[36mSQL (63.7ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 31[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 68ms (ActiveRecord: 64.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:29:12 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 1.6ms)
  [1m[35m (37.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (84.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:29:42', '2017-04-13 20:29:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:29:42', '2017-04-13 20:29:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:29:42', '2017-04-13 20:29:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:29:42', '2017-04-13 20:29:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:29:42', '2017-04-13 20:29:42')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:42', '2017-04-13 22:29:42', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:42', '2017-04-13 22:29:42', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:42', '2017-04-13 22:29:42', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:42', '2017-04-13 22:29:42', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:42', '2017-04-13 22:29:42', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36m (45.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:29:43', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 32, '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 32, '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 32 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (46.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 20:29:43', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 33, '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 33, '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (36.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:29:43', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 34, '2017-04-13 20:29:43', '2017-04-13 20:29:43')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 34, '2017-04-13 20:29:43', '2017-04-13 20:29:43')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 34 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 34[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (38.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:29:56', '2017-04-13 20:29:56')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:29:56', '2017-04-13 20:29:56')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:56', '2017-04-13 22:29:56', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:56', '2017-04-13 22:29:56', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:56', '2017-04-13 22:29:56', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:56', '2017-04-13 22:29:56', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:29:56', '2017-04-13 22:29:56', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:29:56', '2017-04-13 20:29:56')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:29:56', '2017-04-13 20:29:56')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36m (31.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 20:29:56', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 20:29:56', '2017-04-13 20:29:56')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 35, '2017-04-13 20:29:56', '2017-04-13 20:29:56')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 35, '2017-04-13 20:29:57', '2017-04-13 20:29:57')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (103.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:29:57', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:29:57', '2017-04-13 20:29:57')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 36, '2017-04-13 20:29:57', '2017-04-13 20:29:57')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 36, '2017-04-13 20:29:57', '2017-04-13 20:29:57')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 36 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 36[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (41.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:29:57', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:29:57', '2017-04-13 20:29:57')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 37, '2017-04-13 20:29:57', '2017-04-13 20:29:57')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 37, '2017-04-13 20:29:57', '2017-04-13 20:29:57')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 37 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (77.8ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:30:20', '2017-04-13 20:30:20')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:30:20', '2017-04-13 20:30:20')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:30:20', '2017-04-13 22:30:20', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:30:20', '2017-04-13 22:30:20', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:30:20', '2017-04-13 22:30:20', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:30:20', '2017-04-13 22:30:20', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:30:20', '2017-04-13 22:30:20', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:30:20', '2017-04-13 20:30:20')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:30:20', '2017-04-13 20:30:20')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36m (38.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 20:30:20', '2017-04-13 20:30:20')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 20:30:20', '2017-04-13 20:30:20')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:30:20 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (48.2ms)
  Rendered admin/article/new.html.erb within layouts/application (55.0ms)
Completed 200 OK in 247ms (Views: 223.0ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"9", "supplier_ids"=>["9"], "manufactured_at"=>"2017-04-13 22:30:20 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 9, '2017-04-13 20:30:20', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 20:30:21', '2017-04-13 20:30:21')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (9, 38, '2017-04-13 20:30:21', '2017-04-13 20:30:21')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 21ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.4ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/38" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"38"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 38 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 38
  Rendered admin/article/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/edit?id=38" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"38"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 38 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 38[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.7ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.9ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.9ms)
Started POST "/admin/article/update?id=38" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"9", "supplier_ids"=>["9"], "manufactured_at"=>"2017-04-13 22:30:21 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"38"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 38 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 9 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 38
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 9 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 38) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `manufactured_at` = '2017-04-13 20:30:21', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:30:21' WHERE `articles`.`id` = 38[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/38
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
Started GET "/admin/article/show/38" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"38"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 38 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 38[0m
  Rendered admin/article/show.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.1ms)
Started POST "/admin/article/destroy?id=38" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"38"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 38 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 38
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 38[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 3ms (ActiveRecord: 1.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:30:21 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 1.2ms)
  [1m[35m (31.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (88.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:35:56', '2017-04-13 22:35:56', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:35:56', '2017-04-13 22:35:56', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:35:56', '2017-04-13 22:35:56', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:35:56', '2017-04-13 22:35:56', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:35:56', '2017-04-13 22:35:56', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36m (40.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (54.5ms)
  Rendered admin/article/new.html.erb within layouts/application (62.9ms)
Completed 200 OK in 258ms (Views: 222.3ms | ActiveRecord: 2.8ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"10", "supplier_ids"=>["10"], "manufactured_at"=>"2017-04-13 22:35:56 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 10 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 10, '2017-04-13 20:35:56', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 20:35:56', '2017-04-13 20:35:56')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (10, 39, '2017-04-13 20:35:56', '2017-04-13 20:35:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 20ms (ActiveRecord: 2.6ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 10 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/39" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"39"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 39 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 10 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 39
  Rendered admin/article/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/edit?id=39" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"39"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 39 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 39[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.6ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.6ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/update?id=39" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"10", "supplier_ids"=>["10"], "manufactured_at"=>"2017-04-13 22:35:56 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"39"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 39 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 10 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 39
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 10 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 39) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:35:56' WHERE `articles`.`id` = 39[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/39
Completed 302 Found in 10ms (ActiveRecord: 3.2ms)
Started GET "/admin/article/show/39" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"39"}
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 39 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 10 LIMIT 1
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 39[0m
  Rendered admin/article/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 2.0ms)
Started POST "/admin/article/destroy?id=39" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"39"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 39 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 39
  [1m[36mSQL (71.7ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 39[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 76ms (ActiveRecord: 73.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:35:56 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (15.5ms)
Completed 200 OK in 19ms (Views: 16.2ms | ActiveRecord: 1.6ms)
  [1m[35m (41.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (83.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:38:02', '2017-04-13 22:38:02', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:38:02', '2017-04-13 22:38:02', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:38:02', '2017-04-13 22:38:02', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:38:02', '2017-04-13 22:38:02', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:38:02', '2017-04-13 22:38:02', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36m (40.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (48.7ms)
  Rendered admin/article/new.html.erb within layouts/application (56.2ms)
Completed 200 OK in 239ms (Views: 215.9ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"11", "supplier_ids"=>["11"], "manufactured_at"=>"2017-04-13 22:38:02 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 11 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 11, '2017-04-13 20:38:02', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 20:38:02', '2017-04-13 20:38:02')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (11, 40, '2017-04-13 20:38:02', '2017-04-13 20:38:02')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 19ms (ActiveRecord: 1.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 11 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 1.1ms)
Started GET "/admin/article/show/40" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"40"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 40 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 11 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 40
  Rendered admin/article/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/edit?id=40" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"40"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 40 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 40[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (6.0ms)
  Rendered admin/article/edit.html.erb within layouts/application (7.2ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/update?id=40" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"11", "supplier_ids"=>["11"], "manufactured_at"=>"2017-04-13 22:38:02 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"40"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 40 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 11 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 40
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 11 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 40) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:38:02' WHERE `articles`.`id` = 40[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/40
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
Started GET "/admin/article/show/40" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"40"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 40 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 11 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 40[0m
  Rendered admin/article/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.9ms)
Started POST "/admin/article/destroy?id=40" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"40"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 40 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 40
  [1m[36mSQL (84.1ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 40[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 88ms (ActiveRecord: 85.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:38:02 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 19ms (Views: 15.8ms | ActiveRecord: 2.1ms)
  [1m[35m (41.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (129.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:45:06', '2017-04-13 20:45:06')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:45:06', '2017-04-13 20:45:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:45:06', '2017-04-13 20:45:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:45:06', '2017-04-13 20:45:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:45:06', '2017-04-13 20:45:06')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:06', '2017-04-13 22:45:06', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:06', '2017-04-13 22:45:06', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:06', '2017-04-13 22:45:06', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:06', '2017-04-13 22:45:06', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:06', '2017-04-13 22:45:06', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:45:06', '2017-04-13 20:45:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:45:06', '2017-04-13 20:45:06')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:45:06', '2017-04-13 20:45:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:45:06', '2017-04-13 20:45:06')
  [1m[36m (41.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 20:45:07', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 20:45:07', '2017-04-13 20:45:07')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 41, '2017-04-13 20:45:07', '2017-04-13 20:45:07')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 41, '2017-04-13 20:45:07', '2017-04-13 20:45:07')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (135.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.5ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:45:07', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:45:07', '2017-04-13 20:45:07')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 42, '2017-04-13 20:45:07', '2017-04-13 20:45:07')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 42, '2017-04-13 20:45:07', '2017-04-13 20:45:07')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 42 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 42[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (42.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 20:45:07', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 20:45:07', '2017-04-13 20:45:07')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 43, '2017-04-13 20:45:07', '2017-04-13 20:45:07')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 43, '2017-04-13 20:45:07', '2017-04-13 20:45:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 43 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (43.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 20:45:14', '2017-04-13 20:45:14')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 20:45:14', '2017-04-13 20:45:14')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:14', '2017-04-13 22:45:14', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:14', '2017-04-13 22:45:14', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:14', '2017-04-13 22:45:14', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:14', '2017-04-13 22:45:14', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 22:45:14', '2017-04-13 22:45:14', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 20:45:14', '2017-04-13 20:45:14')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 20:45:14', '2017-04-13 20:45:14')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36m (29.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 20:45:14', '2017-04-13 20:45:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 20:45:14', '2017-04-13 20:45:14')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 22:45:14 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (52.2ms)
  Rendered admin/article/new.html.erb within layouts/application (59.8ms)
Completed 200 OK in 253ms (Views: 222.3ms | ActiveRecord: 1.7ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"12", "supplier_ids"=>["12"], "manufactured_at"=>"2017-04-13 22:45:14 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 12 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 12, '2017-04-13 20:45:14', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 20:45:15', '2017-04-13 20:45:15')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (12, 44, '2017-04-13 20:45:15', '2017-04-13 20:45:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 20ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 12 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/44" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"44"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 44 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 12 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 44
  Rendered admin/article/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.9ms)
Started GET "/admin/article/edit?id=44" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"44"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 44 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 44[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.4ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.4ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/update?id=44" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"12", "supplier_ids"=>["12"], "manufactured_at"=>"2017-04-13 22:45:15 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"44"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 44 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 12 LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 44
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 12 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 44) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `manufactured_at` = '2017-04-13 20:45:15', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 20:45:15' WHERE `articles`.`id` = 44[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/44
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
Started GET "/admin/article/show/44" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"44"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 44 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 12 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 44[0m
  Rendered admin/article/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/destroy?id=44" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"44"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 44 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 44
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 44[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 3ms (ActiveRecord: 1.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 22:45:15 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.9ms)
  [1m[35m (38.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (70.1ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 21:17:41', '2017-04-13 21:17:41')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 21:17:41', '2017-04-13 21:17:41')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:41', '2017-04-13 23:17:41', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:41', '2017-04-13 23:17:41', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:41', '2017-04-13 23:17:41', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:41', '2017-04-13 23:17:41', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:41', '2017-04-13 23:17:41', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 21:17:41', '2017-04-13 21:17:41')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 21:17:41', '2017-04-13 21:17:41')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36m (31.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 21:17:41', '2017-04-13 21:17:41')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 21:17:41', '2017-04-13 21:17:41')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 23:17:41 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (55.2ms)
  Rendered admin/article/new.html.erb within layouts/application (64.2ms)
Completed 200 OK in 262ms (Views: 224.8ms | ActiveRecord: 1.5ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"13", "supplier_ids"=>["13"], "manufactured_at"=>"2017-04-13 23:17:41 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 13, '2017-04-13 21:17:41', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 21:17:42', '2017-04-13 21:17:42')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (13, 45, '2017-04-13 21:17:42', '2017-04-13 21:17:42')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 19ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.8ms)
Started GET "/admin/article/show/45" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"45"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 45 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 45
  Rendered admin/article/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.7ms)
Started GET "/admin/article/edit?id=45" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"45"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 45 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 45[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.2ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.2ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.9ms)
Started POST "/admin/article/update?id=45" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"13", "supplier_ids"=>["13"], "manufactured_at"=>"2017-04-13 23:17:42 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"45"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 45 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 13 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 45
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 13 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 45) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `manufactured_at` = '2017-04-13 21:17:42', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 21:17:42' WHERE `articles`.`id` = 45[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/45
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
Started GET "/admin/article/show/45" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"45"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 45 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 13 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 45[0m
  Rendered admin/article/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/destroy?id=45" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"45"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 45 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 45
  [1m[36mSQL (101.0ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 45[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 104ms (ActiveRecord: 101.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 23:17:42 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 1.7ms)
  [1m[35m (42.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-13', 100.0, '2017-04-13 21:17:58', '2017-04-13 21:17:58')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-13', 200.0, '2017-04-13 21:17:58', '2017-04-13 21:17:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-13', 300.0, '2017-04-13 21:17:58', '2017-04-13 21:17:58')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-13', 400.0, '2017-04-13 21:17:58', '2017-04-13 21:17:58')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-13', 500.0, '2017-04-13 21:17:58', '2017-04-13 21:17:58')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:58', '2017-04-13 23:17:58', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:58', '2017-04-13 23:17:58', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:58', '2017-04-13 23:17:58', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:58', '2017-04-13 23:17:58', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-13 23:17:58', '2017-04-13 23:17:58', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-13 21:17:58', '2017-04-13 21:17:58')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-13 21:17:58', '2017-04-13 21:17:58')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-13 21:17:58', '2017-04-13 21:17:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-13 21:17:58', '2017-04-13 21:17:58')
  [1m[36m (60.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 21:17:58', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 46, '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 46, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 46 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 46[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (91.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-13 21:17:59', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 47, '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 47, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (32.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-13 21:17:59', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 48, '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 48, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 48 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 179ms (Views: 178.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (32.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (1.9ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (1.7ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.2ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 3ms (ActiveRecord: 1.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (0.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (34.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.5ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-04-13 21:17:59' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (36.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (15.7ms)
  Rendered admin/article/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 39ms (Views: 22.6ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"15", "supplier_ids"=>["14"], "manufactured_at"=>"2017-04-13 23:17:59 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 15 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 15, '2017-04-13 21:17:59', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-13 21:17:59', '2017-04-13 21:17:59')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (14, 49, '2017-04-13 21:17:59', '2017-04-13 21:17:59')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 17ms (ActiveRecord: 3.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 2.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 15 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 1.2ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (11.5ms)
Completed 200 OK in 14ms (Views: 10.8ms | ActiveRecord: 2.2ms)
Started GET "/admin/article/show/49" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 49 LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 15 LIMIT 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 49
  Rendered admin/article/show.html.erb within layouts/application (5.4ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.8ms)
Started GET "/admin/article/edit?id=49" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"49"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 49 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 49[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (8.1ms)
  Rendered admin/article/edit.html.erb within layouts/application (9.6ms)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 2.1ms)
Started POST "/admin/article/update?id=49" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"15", "supplier_ids"=>["14"], "manufactured_at"=>"2017-04-13 23:17:59 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"49"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 49 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 14 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 49
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 15 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 49) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-13 21:17:59' WHERE `articles`.`id` = 49[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/49
Completed 302 Found in 12ms (ActiveRecord: 3.7ms)
Started GET "/admin/article/show/49" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 49 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 15 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 49[0m
  Rendered admin/article/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 1.6ms)
Started POST "/admin/article/destroy?id=49" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"49"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 49 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 49
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 49[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 5ms (ActiveRecord: 2.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-13 23:17:59 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (11.7ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 2.1ms)
  [1m[35m (39.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_show
--------------------------------------------------
Processing by Admin::ArticleController#show as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_update
----------------------------------------------------
Processing by Admin::ArticleController#update as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_destroy
-----------------------------------------------------
Processing by Admin::ArticleController#destroy as HTML
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_create
----------------------------------------------------
Processing by Admin::ArticleController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
Admin::ArticleControllerTest: test_should_get_new
-------------------------------------------------
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (12.0ms)
  Rendered admin/article/new.html.erb within layouts/application (12.9ms)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_edit
--------------------------------------------------
Processing by Admin::ArticleController#edit as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::ArticleControllerTest: test_should_get_index
---------------------------------------------------
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered admin/article/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 2.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/supplier/_form.html.erb (2.6ms)
  Rendered admin/supplier/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.4ms)
  Rendered admin/supplier/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-13 21:18:00', '2017-04-13 21:18:00')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 3ms (Views: 2.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (28.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (5.0ms)
  Rendered admin/supplier/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.5ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (1.2ms)
  Rendered admin/supplier/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (40.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-13 21:18:00' WHERE `suppliers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (40.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-13 21:18:00', '2017-04-13 21:18:00')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (35.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-04-13 21:18:00', '2017-04-13 21:18:00')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (154.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (18.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (103.2ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:07:26', '2017-04-15 09:07:26')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:07:26', '2017-04-15 09:07:26')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:07:26', '2017-04-15 09:07:26')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:07:26', '2017-04-15 09:07:26')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:07:26', '2017-04-15 09:07:26')
  [1m[36mFixture Delete (58.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:07:26', '2017-04-15 11:07:26', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:07:26', '2017-04-15 11:07:26', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:07:26', '2017-04-15 11:07:26', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:07:26', '2017-04-15 11:07:26', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:07:26', '2017-04-15 11:07:26', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:07:27', '2017-04-15 09:07:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:07:27', '2017-04-15 09:07:27')
  [1m[36m (38.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (10.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-15 09:07:27', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 6, '2017-04-15 09:07:27', '2017-04-15 09:07:27')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 6, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (94.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-15 09:07:27', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 7, '2017-04-15 09:07:27', '2017-04-15 09:07:27')
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 7, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 7
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2
  [1m[36m (34.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-04-15 09:07:27', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 8, '2017-04-15 09:07:27', '2017-04-15 09:07:27')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 8, '2017-04-15 09:07:27', '2017-04-15 09:07:27')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 8 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (33.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (82.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:08:15', '2017-04-15 09:08:15')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:08:15', '2017-04-15 09:08:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:15', '2017-04-15 11:08:15', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:15', '2017-04-15 11:08:15', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:15', '2017-04-15 11:08:15', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:15', '2017-04-15 11:08:15', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:15', '2017-04-15 11:08:15', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:08:15', '2017-04-15 09:08:15')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:08:15', '2017-04-15 09:08:15')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36m (39.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-15 09:08:15', '2017-04-15 09:08:15')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-15 09:08:15', '2017-04-15 09:08:15')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-15 11:08:15 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (85.1ms)
  Rendered admin/article/new.html.erb within layouts/application (126.6ms)
Completed 200 OK in 952ms (Views: 870.2ms | ActiveRecord: 1.9ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-15 11:08:16 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-15 11:08:15 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 3, '2017-04-15 09:08:15', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-15 09:08:16', '2017-04-15 09:08:16')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (3, 9, '2017-04-15 09:08:16', '2017-04-15 09:08:16')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 41ms (ActiveRecord: 4.2ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:08:16 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (18.9ms)
Completed 200 OK in 31ms (Views: 28.0ms | ActiveRecord: 2.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (13.7ms)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 1.9ms)
Started GET "/admin/article/show/9" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
  Rendered admin/article/show.html.erb within layouts/application (21.2ms)
Completed 200 OK in 35ms (Views: 31.3ms | ActiveRecord: 1.9ms)
Started GET "/admin/article/edit?id=9" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (10.3ms)
  Rendered admin/article/edit.html.erb within layouts/application (12.2ms)
Completed 200 OK in 25ms (Views: 21.0ms | ActiveRecord: 2.6ms)
Started POST "/admin/article/update?id=9" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-15 11:08:17 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"9"}
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1[0m
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 9) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `manufactured_at` = '2017-04-15 09:08:17', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-15 09:08:17' WHERE `articles`.`id` = 9[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/9
Completed 302 Found in 15ms (ActiveRecord: 4.6ms)
Started GET "/admin/article/show/9" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  Rendered admin/article/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 1.7ms)
Started POST "/admin/article/destroy?id=9" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 9
  [1m[36mSQL (66.4ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 9[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 72ms (ActiveRecord: 68.1ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:08:17 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (22.8ms)
Completed 200 OK in 28ms (Views: 23.8ms | ActiveRecord: 2.3ms)
  [1m[35m (39.9ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (63.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:49', '2017-04-15 11:08:49', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:49', '2017-04-15 11:08:49', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:49', '2017-04-15 11:08:49', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:49', '2017-04-15 11:08:49', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:49', '2017-04-15 11:08:49', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36m (43.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-15 09:08:49', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 10, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 10, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-15 09:08:49', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 11, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 11, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (39.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-04-15 09:08:49', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 12, '2017-04-15 09:08:49', '2017-04-15 09:08:49')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 12, '2017-04-15 09:08:49', '2017-04-15 09:08:49')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (39.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (35.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:59', '2017-04-15 11:08:59', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:59', '2017-04-15 11:08:59', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:59', '2017-04-15 11:08:59', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:59', '2017-04-15 11:08:59', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:08:59', '2017-04-15 11:08:59', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36m (39.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (58.7ms)
  Rendered admin/article/new.html.erb within layouts/application (68.2ms)
Completed 200 OK in 274ms (Views: 237.7ms | ActiveRecord: 2.5ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"4", "supplier_ids"=>["4"], "manufactured_at"=>"2017-04-15 11:08:59 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 4, '2017-04-15 09:08:59', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-15 09:08:59', '2017-04-15 09:08:59')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (4, 13, '2017-04-15 09:08:59', '2017-04-15 09:08:59')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 19ms (ActiveRecord: 1.9ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.5ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.0ms)
Started GET "/admin/article/show/13" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 13
  Rendered admin/article/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.8ms)
Started GET "/admin/article/edit?id=13" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"13"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 13[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (5.3ms)
  Rendered admin/article/edit.html.erb within layouts/application (6.3ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 1.0ms)
Started POST "/admin/article/update?id=13" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"4", "supplier_ids"=>["4"], "manufactured_at"=>"2017-04-15 11:08:59 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"13"}
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 13
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 13) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-15 09:08:59' WHERE `articles`.`id` = 13[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/13
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Started GET "/admin/article/show/13" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 13[0m
  Rendered admin/article/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 1.4ms)
Started POST "/admin/article/destroy?id=13" for 127.0.0.1 at 2017-04-15 11:08:59 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"13"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 13
  [1m[36mSQL (138.5ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 13[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 144ms (ActiveRecord: 140.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:09:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 25ms (Views: 21.6ms | ActiveRecord: 2.2ms)
  [1m[35m (31.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (137.0ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:11:55', '2017-04-15 09:11:55')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:11:55', '2017-04-15 09:11:55')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:11:55', '2017-04-15 09:11:55')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:11:55', '2017-04-15 09:11:55')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:11:55', '2017-04-15 09:11:55')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:11:55', '2017-04-15 11:11:55', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:11:55', '2017-04-15 11:11:55', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:11:55', '2017-04-15 11:11:55', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:11:55', '2017-04-15 11:11:55', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:11:55', '2017-04-15 11:11:55', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:11:55', '2017-04-15 09:11:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:11:55', '2017-04-15 09:11:55')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:11:55', '2017-04-15 09:11:55')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:11:55', '2017-04-15 09:11:55')
  [1m[36m (31.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-15 09:11:56', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-15 09:11:56', '2017-04-15 09:11:56')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 14, '2017-04-15 09:11:56', '2017-04-15 09:11:56')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 14, '2017-04-15 09:11:56', '2017-04-15 09:11:56')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2
  [1m[36m (86.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-04-15 09:11:56', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-04-15 09:11:56', '2017-04-15 09:11:56')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 15, '2017-04-15 09:11:56', '2017-04-15 09:11:56')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 15, '2017-04-15 09:11:56', '2017-04-15 09:11:56')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 15 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (37.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-15 09:11:56', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-15 09:11:56', '2017-04-15 09:11:56')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 16, '2017-04-15 09:11:56', '2017-04-15 09:11:56')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 16, '2017-04-15 09:11:56', '2017-04-15 09:11:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (30.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-15', 100.0, '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-15', 200.0, '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-15', 300.0, '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-15', 400.0, '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-4', '2017-04-15', 500.0, '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:12:03', '2017-04-15 11:12:03', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:12:03', '2017-04-15 11:12:03', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:12:03', '2017-04-15 11:12:03', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:12:03', '2017-04-15 11:12:03', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-15 11:12:03', '2017-04-15 11:12:03', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36m (39.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (58.9ms)
  Rendered admin/article/new.html.erb within layouts/application (67.9ms)
Completed 200 OK in 264ms (Views: 227.0ms | ActiveRecord: 1.3ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"5", "supplier_ids"=>["5"], "manufactured_at"=>"2017-04-15 11:12:03 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 5, '2017-04-15 09:12:03', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-15 09:12:03', '2017-04-15 09:12:03')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (5, 17, '2017-04-15 09:12:03', '2017-04-15 09:12:03')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 20ms (ActiveRecord: 2.5ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=2" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 5
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.6ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 1.7ms)
Started GET "/admin/article/show/17" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 17
  Rendered admin/article/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 1.7ms)
Started GET "/admin/article/edit?id=17" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"17"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 17[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (6.1ms)
  Rendered admin/article/edit.html.erb within layouts/application (7.1ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 1.8ms)
Started POST "/admin/article/update?id=17" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"5", "supplier_ids"=>["5"], "manufactured_at"=>"2017-04-15 11:12:03 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"17"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 17
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 17) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-15 09:12:03' WHERE `articles`.`id` = 17[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/17
Completed 302 Found in 10ms (ActiveRecord: 3.5ms)
Started GET "/admin/article/show/17" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 5 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 17[0m
  Rendered admin/article/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 1.5ms)
Started POST "/admin/article/destroy?id=17" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"17"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 17
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 17[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 4ms (ActiveRecord: 2.1ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-15 11:12:03 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 2.1ms)
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (135.6ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:25:11', '2017-04-18 12:25:11', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:25:11', '2017-04-18 12:25:11', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:25:11', '2017-04-18 12:25:11', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:25:11', '2017-04-18 12:25:11', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:25:11', '2017-04-18 12:25:11', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:25:11', '2017-04-18 10:25:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:25:11', '2017-04-18 10:25:11')[0m
  [1m[35m (29.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:25:11 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (87.3ms)
  Rendered catalog/index.html.erb within layouts/application (94.1ms)
Completed 500 Internal Server Error in 123ms (ActiveRecord: 2.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (90.2ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:28:55', '2017-04-18 12:28:55', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:28:55', '2017-04-18 12:28:55', 2, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:28:55', '2017-04-18 12:28:55', 3, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:28:55', '2017-04-18 12:28:55', 4, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:28:55', '2017-04-18 12:28:55', 5, 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:28:55', '2017-04-18 10:28:55')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:28:55', '2017-04-18 10:28:55')[0m
  [1m[35m (39.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:29:11', '2017-04-18 12:29:11', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:29:11', '2017-04-18 12:29:11', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:29:11', '2017-04-18 12:29:11', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:29:11', '2017-04-18 12:29:11', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:29:11', '2017-04-18 12:29:11', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:29:11', '2017-04-18 10:29:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:29:11', '2017-04-18 10:29:11')[0m
  [1m[35m (75.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:29:11 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (63.3ms)
  Rendered catalog/index.html.erb within layouts/application (67.1ms)
Completed 500 Internal Server Error in 82ms (ActiveRecord: 3.9ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (64.7ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:32:51', '2017-04-18 12:32:51', 1, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:32:51', '2017-04-18 12:32:51', 2, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:32:51', '2017-04-18 12:32:51', 3, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:32:51', '2017-04-18 12:32:51', 4, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:32:51', '2017-04-18 12:32:51', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:32:51', '2017-04-18 10:32:51')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:32:51', '2017-04-18 10:32:51')[0m
  [1m[35m (39.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:08', '2017-04-18 12:33:08', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:08', '2017-04-18 12:33:08', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:08', '2017-04-18 12:33:08', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:08', '2017-04-18 12:33:08', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:08', '2017-04-18 12:33:08', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:33:08', '2017-04-18 10:33:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:33:08', '2017-04-18 10:33:08')[0m
  [1m[35m (72.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:33:08 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (59.4ms)
  Rendered catalog/index.html.erb within layouts/application (63.0ms)
Completed 500 Internal Server Error in 76ms (ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (73.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:57', '2017-04-18 12:33:57', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:57', '2017-04-18 12:33:57', 2, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:57', '2017-04-18 12:33:57', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:57', '2017-04-18 12:33:57', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:33:57', '2017-04-18 12:33:57', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:33:57', '2017-04-18 10:33:57')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:33:57', '2017-04-18 10:33:57')[0m
  [1m[35m (39.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:33:57 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (82.6ms)
  Rendered catalog/index.html.erb within layouts/application (89.3ms)
Completed 200 OK in 612ms (Views: 591.1ms | ActiveRecord: 2.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (86.6ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:34:42', '2017-04-18 12:34:42', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:34:42', '2017-04-18 12:34:42', 2, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:34:42', '2017-04-18 12:34:42', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:34:42', '2017-04-18 12:34:42', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:34:42', '2017-04-18 12:34:42', 5, 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:34:42', '2017-04-18 10:34:42')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:34:42', '2017-04-18 10:34:42')[0m
  [1m[35m (40.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:34:43 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (88.2ms)
  Rendered catalog/index.html.erb within layouts/application (95.9ms)
Completed 200 OK in 291ms (Views: 270.7ms | ActiveRecord: 2.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:00', '2017-04-18 12:35:00', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:00', '2017-04-18 12:35:00', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:00', '2017-04-18 12:35:00', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:00', '2017-04-18 12:35:00', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:00', '2017-04-18 12:35:00', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:35:00', '2017-04-18 10:35:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:35:00', '2017-04-18 10:35:00')[0m
  [1m[35m (72.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:35:00 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (62.4ms)
  Rendered catalog/index.html.erb within layouts/application (66.1ms)
Completed 200 OK in 237ms (Views: 221.8ms | ActiveRecord: 4.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:35:00 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (15.9ms)
  Rendered catalog/index.html.erb within layouts/application (16.3ms)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 3.8ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (101.5ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:13', '2017-04-18 12:35:13', 1, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:13', '2017-04-18 12:35:13', 2, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:13', '2017-04-18 12:35:13', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:13', '2017-04-18 12:35:13', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:13', '2017-04-18 12:35:13', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:35:13', '2017-04-18 10:35:13')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:35:13', '2017-04-18 10:35:13')[0m
  [1m[35m (38.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:35:13 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.9ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (82.5ms)
  Rendered catalog/index.html.erb within layouts/application (88.5ms)
Completed 200 OK in 277ms (Views: 259.4ms | ActiveRecord: 2.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:35:14 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (13.5ms)
  Rendered catalog/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 1.7ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
Started GET "/catalog/latest" for 127.0.0.1 at 2017-04-18 12:35:14 +0200
Processing by CatalogController#latest as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/_articles.html.erb (6.0ms)
  Rendered catalog/latest.html.erb within layouts/application (6.4ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.9ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (154.6ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:27', '2017-04-18 12:35:27', 1, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:27', '2017-04-18 12:35:27', 2, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:27', '2017-04-18 12:35:27', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:27', '2017-04-18 12:35:27', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:35:27', '2017-04-18 12:35:27', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:35:27', '2017-04-18 10:35:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:35:27', '2017-04-18 10:35:27')[0m
  [1m[35m (39.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:35:27 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (110.0ms)
  Rendered catalog/index.html.erb within layouts/application (117.1ms)
Completed 200 OK in 366ms (Views: 346.3ms | ActiveRecord: 4.0ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:35:28 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (17.3ms)
  Rendered catalog/index.html.erb within layouts/application (17.7ms)
Completed 200 OK in 20ms (Views: 15.3ms | ActiveRecord: 3.8ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:35:28 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.9ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (8.3ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 2.0ms)
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (64.7ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:01', '2017-04-18 12:36:01', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:01', '2017-04-18 12:36:01', 2, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:01', '2017-04-18 12:36:01', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:01', '2017-04-18 12:36:01', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:01', '2017-04-18 12:36:01', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:36:01', '2017-04-18 10:36:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:36:01', '2017-04-18 10:36:01')[0m
  [1m[35m (39.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:36:01 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (51.8ms)
  Rendered catalog/index.html.erb within layouts/application (56.7ms)
Completed 200 OK in 221ms (Views: 203.5ms | ActiveRecord: 2.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:36:01 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (14.6ms)
  Rendered catalog/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 2.7ms)
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:36:01 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 1.4ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:23', '2017-04-18 12:36:23', 1, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:23', '2017-04-18 12:36:23', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:23', '2017-04-18 12:36:23', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:23', '2017-04-18 12:36:23', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:36:23', '2017-04-18 12:36:23', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:36:23', '2017-04-18 10:36:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:36:23', '2017-04-18 10:36:23')[0m
  [1m[35m (72.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:36:24 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (60.7ms)
  Rendered catalog/index.html.erb within layouts/application (64.6ms)
Completed 200 OK in 230ms (Views: 220.8ms | ActiveRecord: 2.0ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:36:24 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (13.4ms)
  Rendered catalog/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 15ms (Views: 13.4ms | ActiveRecord: 1.6ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:36:24 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (6.8ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.9ms)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-04-18 12:36:24 +0200
Processing by CatalogController#latest as HTML
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (5.7ms)
  Rendered catalog/latest.html.erb within layouts/application (6.1ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.2ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (76.4ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:38:30', '2017-04-18 12:38:30', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:38:30', '2017-04-18 12:38:30', 2, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:38:30', '2017-04-18 12:38:30', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:38:30', '2017-04-18 12:38:30', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:38:30', '2017-04-18 12:38:30', 5, 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:38:30', '2017-04-18 10:38:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:38:30', '2017-04-18 10:38:30')[0m
  [1m[35m (40.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:38:31 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (78.8ms)
  Rendered catalog/index.html.erb within layouts/application (85.0ms)
Completed 200 OK in 283ms (Views: 266.0ms | ActiveRecord: 2.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:38:31 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (16.1ms)
  Rendered catalog/index.html.erb within layouts/application (16.5ms)
Completed 200 OK in 18ms (Views: 13.9ms | ActiveRecord: 3.8ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:38:31 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.8ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 2.0ms)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (80.7ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:39:16', '2017-04-18 12:39:16', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:39:16', '2017-04-18 12:39:16', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:39:16', '2017-04-18 12:39:16', 3, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:39:16', '2017-04-18 12:39:16', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:39:16', '2017-04-18 12:39:16', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:39:16', '2017-04-18 10:39:16')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:39:16', '2017-04-18 10:39:16')[0m
  [1m[35m (39.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:39:17 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (84.9ms)
  Rendered catalog/index.html.erb within layouts/application (92.0ms)
Completed 200 OK in 282ms (Views: 262.9ms | ActiveRecord: 2.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:39:17 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (13.7ms)
  Rendered catalog/index.html.erb within layouts/application (14.1ms)
Completed 200 OK in 16ms (Views: 13.5ms | ActiveRecord: 1.8ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:39:17 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.1ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 1.3ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-04-18 12:39:17 +0200
Processing by CatalogController#latest as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.4ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (6.3ms)
  Rendered catalog/latest.html.erb within layouts/application (6.7ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (71.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:43:28', '2017-04-18 12:43:28', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:43:28', '2017-04-18 12:43:28', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:43:28', '2017-04-18 12:43:28', 3, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:43:28', '2017-04-18 12:43:28', 4, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:43:28', '2017-04-18 12:43:28', 5, 1)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:43:28', '2017-04-18 10:43:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:43:28', '2017-04-18 10:43:28')[0m
  [1m[35m (29.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:43:28 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (85.7ms)
  Rendered catalog/index.html.erb within layouts/application (91.8ms)
Completed 500 Internal Server Error in 120ms (ActiveRecord: 2.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (83.9ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, 40, '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, 40, '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, 40, '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, 40, '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:45:11', '2017-04-18 12:45:11', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:45:11', '2017-04-18 12:45:11', 2, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:45:11', '2017-04-18 12:45:11', 3, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:45:11', '2017-04-18 12:45:11', 4, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:45:11', '2017-04-18 12:45:11', 5, 1)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:45:11', '2017-04-18 10:45:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:45:11', '2017-04-18 10:45:11')[0m
  [1m[35m (39.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:45:12 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (87.2ms)
  Rendered catalog/index.html.erb within layouts/application (93.8ms)
Completed 500 Internal Server Error in 123ms (ActiveRecord: 3.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (87.7ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-18', 100.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-18', 200.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-18', 300.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-18', 400.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-18', 500.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-18', 600.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-18', 700.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-18', 800.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-18', 900.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-18', 1000.0, 40, '2017-04-18 10:47:54', '2017-04-18 10:47:54')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:47:54', '2017-04-18 12:47:54', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:47:54', '2017-04-18 12:47:54', 2, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:47:54', '2017-04-18 12:47:54', 3, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:47:54', '2017-04-18 12:47:54', 4, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-18 12:47:54', '2017-04-18 12:47:54', 5, 1)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-18 10:47:55', '2017-04-18 10:47:55')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-18 10:47:55', '2017-04-18 10:47:55')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-18 10:47:55', '2017-04-18 10:47:55')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-18 10:47:55', '2017-04-18 10:47:55')[0m
  [1m[35m (38.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-18 12:47:55 +0200
Processing by CatalogController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (86.5ms)
  Rendered catalog/index.html.erb within layouts/application (93.5ms)
Completed 200 OK in 281ms (Views: 260.5ms | ActiveRecord: 2.4ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-18 12:47:55 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (15.3ms)
  Rendered catalog/index.html.erb within layouts/application (15.7ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 3.0ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-18 12:47:55 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.3ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 1.6ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-04-18 12:47:55 +0200
Processing by CatalogController#latest as HTML
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (6.5ms)
  Rendered catalog/latest.html.erb within layouts/application (6.9ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 1.4ms)
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (22.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (957.5ms)[0m  [1mDROP DATABASE IF EXISTS `eshop6_test`[0m
  [1m[35m (0.6ms)[0m  CREATE DATABASE `eshop6_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (288.1ms)[0m  [1mCREATE TABLE `articles` (`id` int(11) auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `manufacturer_id` int(11) NOT NULL, `manufactured_at` datetime, `reference` varchar(13), `blurb` text, `size` int(11), `price` float(24), `created_at` datetime, `updated_at` datetime, `cover_image_file_name` varchar(255), `cover_image_content_type` varchar(255), `cover_image_file_size` int(11), `cover_image_updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (275.6ms)[0m  CREATE  INDEX `fk_articles_manufacturers` USING btree ON `articles` (`manufacturer_id`) 
  [1m[36m (321.5ms)[0m  [1mCREATE TABLE `articles_suppliers` (`id` int(11) auto_increment PRIMARY KEY, `supplier_id` int(11) NOT NULL, `article_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (320.8ms)[0m  CREATE  INDEX `fk_articles_suppliers_articles` USING btree ON `articles_suppliers` (`article_id`) 
  [1m[36m (220.9ms)[0m  [1mCREATE  INDEX `fk_articles_suppliers_suppliers` USING btree ON `articles_suppliers` (`supplier_id`) [0m
  [1m[35m (289.9ms)[0m  CREATE TABLE `cart_items` (`id` int(11) auto_increment PRIMARY KEY, `article_id` int(11), `cart_id` int(11), `price` float(24), `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (310.1ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (298.9ms)[0m  CREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (298.9ms)[0m  [1mCREATE TABLE `suppliers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255) NOT NULL, `last_name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (683.3ms)[0m  ALTER TABLE `articles` ADD CONSTRAINT `fk_articles_manufacturers`
FOREIGN KEY (`manufacturer_id`)
  REFERENCES `manufacturers` (`id`)
 ON DELETE CASCADE
  [1m[36m (837.6ms)[0m  [1mALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_articles`
FOREIGN KEY (`article_id`)
  REFERENCES `articles` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (729.1ms)[0m  ALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_suppliers`
FOREIGN KEY (`supplier_id`)
  REFERENCES `suppliers` (`id`)
 ON DELETE CASCADE
  [1m[36m (320.6ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (433.3ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.5ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (32.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170427122257')
  [1m[36m (33.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130630150644')[0m
  [1m[35m (33.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170321100602')
  [1m[36m (33.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170427122245')[0m
  [1m[35m (33.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170328092851')
  [1m[36m (33.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170404092937')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.8ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.6ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:00:49', '2017-04-27 14:00:49', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:00:49', '2017-04-27 14:00:49', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-27', 100.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-27', 200.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Insert (65.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-27', 300.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-27', 400.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-27', 500.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-27', 600.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-27', 700.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-27', 800.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-27', 900.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-27', 1000.0, 40, '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:00:49', '2017-04-27 16:00:49', 1, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:00:49', '2017-04-27 16:00:49', 2, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:00:49', '2017-04-27 16:00:49', 3, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:00:49', '2017-04-27 16:00:49', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:00:49', '2017-04-27 16:00:49', 5, 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:00:49', '2017-04-27 14:00:49', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:00:49', '2017-04-27 14:00:49', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-27 14:00:49', '2017-04-27 14:00:49')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-27 14:00:49', '2017-04-27 14:00:49')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-27 14:00:50', '2017-04-27 14:00:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-27 14:00:50', '2017-04-27 14:00:50')
  [1m[36m (39.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:00:50', '2017-04-27 14:00:50')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963 AND `cart_items`.`article_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190963, '2017-04-27 14:00:50', '2017-04-27 14:00:50')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 105ms (ActiveRecord: 3.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  [1m[35m (36.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:00:50', '2017-04-27 14:00:50')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190964, '2017-04-27 14:00:50', '2017-04-27 14:00:50')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 21ms (ActiveRecord: 4.3ms)
  [1m[35mArticle Load (1.1ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mArticle Load (1.2ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35m (77.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:00:50', '2017-04-27 14:00:50')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190965, '2017-04-27 14:00:50', '2017-04-27 14:00:50')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 26ms (ActiveRecord: 7.4ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190965 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190965
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 28ms (ActiveRecord: 3.0ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965
  [1m[36m (48.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-27', 100.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-27', 200.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-27', 300.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-27', 400.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-27', 500.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-27', 600.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-27', 700.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-27', 800.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-27', 900.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-27', 1000.0, 40, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:39:36', '2017-04-27 16:39:36', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:39:36', '2017-04-27 16:39:36', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:39:36', '2017-04-27 16:39:36', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:39:36', '2017-04-27 16:39:36', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-27 16:39:36', '2017-04-27 16:39:36', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35m (62.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190966, '2017-04-27 14:39:36', '2017-04-27 14:39:36')[0m
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 56ms (ActiveRecord: 2.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966
  [1m[36m (28.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967 AND `cart_items`.`article_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190967, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 3.9ms)
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190967[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190967[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190967
  [1m[36m (37.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190968, '2017-04-27 14:39:36', '2017-04-27 14:39:36')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (1.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 5.4ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190968[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190968 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190968[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 13ms (ActiveRecord: 3.1ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190968[0m
  [1m[35m (37.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (108.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (23.6ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 19:04:13', '2017-04-28 19:04:13', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 19:04:13', '2017-04-28 19:04:13', 298486374)[0m
  [1m[35mFixture Delete (3.5ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-28', 100.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-28', 200.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-28', 300.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-28', 400.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-28', 500.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-28', 600.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-28', 700.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-28', 800.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-28', 900.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-28', 1000.0, 40, '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Delete (43.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 21:04:13', '2017-04-28 21:04:13', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 21:04:13', '2017-04-28 21:04:13', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 21:04:13', '2017-04-28 21:04:13', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 21:04:13', '2017-04-28 21:04:13', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 21:04:13', '2017-04-28 21:04:13', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 19:04:13', '2017-04-28 19:04:13', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 19:04:13', '2017-04-28 19:04:13', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-28 19:04:13', '2017-04-28 19:04:13')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-28 19:04:13', '2017-04-28 19:04:13')[0m
  [1m[35m (82.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 2245ms (Views: 2244.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:06:57', '2017-04-28 21:06:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:06:57', '2017-04-28 21:06:57', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-28', 100.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-28', 200.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-28', 300.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-28', 400.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-28', 500.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-28', 600.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-28', 700.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-28', 800.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-28', 900.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-28', 1000.0, 40, '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:06:57', '2017-04-28 23:06:57', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:06:57', '2017-04-28 23:06:57', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:06:57', '2017-04-28 23:06:57', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:06:57', '2017-04-28 23:06:57', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:06:57', '2017-04-28 23:06:57', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:06:57', '2017-04-28 21:06:57', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:06:57', '2017-04-28 21:06:57', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-28 21:06:57', '2017-04-28 21:06:57')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-28 21:06:57', '2017-04-28 21:06:57')[0m
  [1m[35m (95.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (11.9ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-04-28 21:06:58', '2017-04-28 21:06:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 101ms (ActiveRecord: 12.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (109.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (13.4ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (50.2ms)
Completed 200 OK in 280ms (Views: 279.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 19ms (ActiveRecord: 2.0ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.2ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (43.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (2.6ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (8.6ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-04-28 21:06:58' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 19ms (ActiveRecord: 10.2ms)
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (46.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:24', '2017-04-28 21:14:24', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:24', '2017-04-28 21:14:24', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-28', 100.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-28', 200.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-28', 300.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-28', 400.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-28', 500.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-28', 600.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-28', 700.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-28', 800.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-28', 900.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-28', 1000.0, 40, '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:24', '2017-04-28 23:14:24', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:24', '2017-04-28 23:14:24', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:24', '2017-04-28 23:14:24', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:24', '2017-04-28 23:14:24', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:24', '2017-04-28 23:14:24', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:24', '2017-04-28 21:14:24', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:24', '2017-04-28 21:14:24', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-28 21:14:24', '2017-04-28 21:14:24')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35m (71.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.5ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-04-28 21:14:24', '2017-04-28 21:14:24')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (54.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:36', '2017-04-28 21:14:36', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:36', '2017-04-28 21:14:36', 298486374)[0m
  [1m[35mFixture Delete (94.2ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-28', 100.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-28', 200.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-28', 300.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-28', 400.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-28', 500.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-28', 600.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-28', 700.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-28', 800.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-28', 900.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-28', 1000.0, 40, '2017-04-28 21:14:36', '2017-04-28 21:14:36')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:36', '2017-04-28 23:14:36', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:36', '2017-04-28 23:14:36', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:36', '2017-04-28 23:14:36', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:36', '2017-04-28 23:14:36', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-28 23:14:36', '2017-04-28 23:14:36', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:37', '2017-04-28 21:14:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-28 21:14:37', '2017-04-28 21:14:37', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-28 21:14:37', '2017-04-28 21:14:37')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-28 21:14:37', '2017-04-28 21:14:37')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-28 21:14:37', '2017-04-28 21:14:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-28 21:14:37', '2017-04-28 21:14:37')[0m
  [1m[35m (28.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 26ms (ActiveRecord: 1.7ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (15.7ms)
Completed 200 OK in 239ms (Views: 238.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (32.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-04-28 21:14:37', '2017-04-28 21:14:37')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (41.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (5.7ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (10.8ms)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (3.2ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.8ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-04-28 21:14:37' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 10ms (ActiveRecord: 2.8ms)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (37.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.7ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (25.5ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:23:08', '2017-04-29 06:23:08', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:23:08', '2017-04-29 06:23:08', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-29', 100.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-29', 200.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-29', 300.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-29', 400.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-29', 500.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-29', 600.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-29', 700.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-29', 800.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-29', 900.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-29', 1000.0, 40, '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:23:08', '2017-04-29 08:23:08', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:23:08', '2017-04-29 08:23:08', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:23:08', '2017-04-29 08:23:08', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:23:08', '2017-04-29 08:23:08', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:23:08', '2017-04-29 08:23:08', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:23:08', '2017-04-29 06:23:08', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:23:08', '2017-04-29 06:23:08', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-29 06:23:08', '2017-04-29 06:23:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-29 06:23:08', '2017-04-29 06:23:08')[0m
  [1m[35m (84.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/show.html.erb within layouts/application (5.8ms)
Completed 200 OK in 900ms (Views: 846.1ms | ActiveRecord: 0.7ms)
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (10.0ms)[0m  [1mUPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-29 06:23:09' WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 18ms (ActiveRecord: 11.1ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (46.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/supplier/_form.html.erb (8.9ms)
  Rendered admin/supplier/new.html.erb within layouts/application (34.6ms)
Completed 200 OK in 134ms (Views: 56.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 49ms (ActiveRecord: 2.7ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (2.5ms)
  Rendered admin/supplier/index.html.erb within layouts/application (14.5ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (44.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.9ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.7ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-29 06:23:10', '2017-04-29 06:23:10')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 7ms (Views: 5.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (41.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (0.7ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (4.8ms)
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (2.5ms)
  Rendered admin/supplier/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:37:48', '2017-04-29 06:37:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:37:48', '2017-04-29 06:37:48', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-29', 100.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-29', 200.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-29', 300.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-29', 400.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-29', 500.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-29', 600.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-29', 700.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-29', 800.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-29', 900.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-29', 1000.0, 40, '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:37:48', '2017-04-29 08:37:48', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:37:48', '2017-04-29 08:37:48', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:37:48', '2017-04-29 08:37:48', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:37:48', '2017-04-29 08:37:48', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:37:48', '2017-04-29 08:37:48', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:37:48', '2017-04-29 06:37:48', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:37:48', '2017-04-29 06:37:48', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-29 06:37:48', '2017-04-29 06:37:48')[0m
  [1m[35m (86.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-29 06:37:48', '2017-04-29 06:37:48')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (71.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:38:06', '2017-04-29 06:38:06', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:38:06', '2017-04-29 06:38:06', 298486374)[0m
  [1m[35mFixture Delete (83.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-29', 100.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-29', 200.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-29', 300.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-29', 400.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-29', 500.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-29', 600.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-29', 700.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-29', 800.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-29', 900.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-29', 1000.0, 40, '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:38:06', '2017-04-29 08:38:06', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:38:06', '2017-04-29 08:38:06', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:38:06', '2017-04-29 08:38:06', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:38:06', '2017-04-29 08:38:06', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 08:38:06', '2017-04-29 08:38:06', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:38:06', '2017-04-29 06:38:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 06:38:06', '2017-04-29 06:38:06', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-29 06:38:06', '2017-04-29 06:38:06')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-29 06:38:06', '2017-04-29 06:38:06')[0m
  [1m[35m (38.9ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (3.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (10.3ms)
Completed 200 OK in 197ms (Views: 192.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-04-29 06:38:07', '2017-04-29 06:38:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier
Completed 302 Found in 3ms (Views: 192.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (47.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/supplier/_form.html.erb (2.7ms)
  Rendered admin/supplier/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 21ms (Views: 5.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/_form.html.erb (0.4ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (2.4ms)
Completed 200 OK in 12ms (Views: 4.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (2.2ms)
  Rendered admin/supplier/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-04-29 06:38:07' WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (41.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.3ms)
  Rendered admin/supplier/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSQL (91.2ms)[0m  [1mDELETE FROM `suppliers` WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier
Completed 302 Found in 110ms (ActiveRecord: 94.3ms)
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (1.6ms)
  Rendered admin/supplier/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (32.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (129.1ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:49', '2017-04-29 21:54:49', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:49', '2017-04-29 21:54:49', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-29', 100.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-29', 200.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-29', 300.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-29', 400.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-29', 500.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-29', 600.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-29', 700.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-29', 800.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-29', 900.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-29', 1000.0, 40, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:49', '2017-04-29 23:54:49', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:49', '2017-04-29 23:54:49', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:49', '2017-04-29 23:54:49', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:49', '2017-04-29 23:54:49', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:49', '2017-04-29 23:54:49', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:50', '2017-04-29 21:54:50', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:50', '2017-04-29 21:54:50', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35m (62.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (13.7ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-04-29 21:54:50', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 11, '2017-04-29 21:54:50', '2017-04-29 21:54:50')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 11, '2017-04-29 21:54:50', '2017-04-29 21:54:50')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (34.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.2ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-04-29 21:54:51', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-04-29 21:54:51', '2017-04-29 21:54:51')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 12, '2017-04-29 21:54:51', '2017-04-29 21:54:51')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 12, '2017-04-29 21:54:51', '2017-04-29 21:54:51')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 12 LIMIT 1[0m
  [1m[35m (16.8ms)[0m  SELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 12
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2
  [1m[36m (39.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-04-29 21:54:51', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-04-29 21:54:51', '2017-04-29 21:54:51')[0m
  [1m[35mSQL (62.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 13, '2017-04-29 21:54:51', '2017-04-29 21:54:51')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 13, '2017-04-29 21:54:51', '2017-04-29 21:54:51')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (33.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:58', '2017-04-29 21:54:58', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:58', '2017-04-29 21:54:58', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-29', 100.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-29', 200.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-29', 300.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-29', 400.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-29', 500.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-29', 600.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-29', 700.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-29', 800.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-29', 900.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-29', 1000.0, 40, '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:58', '2017-04-29 23:54:58', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:58', '2017-04-29 23:54:58', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:58', '2017-04-29 23:54:58', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:58', '2017-04-29 23:54:58', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-29 23:54:58', '2017-04-29 23:54:58', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:58', '2017-04-29 21:54:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-29 21:54:58', '2017-04-29 21:54:58', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-29 21:54:58', '2017-04-29 21:54:58')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35m (33.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-04-29 21:54:58', '2017-04-29 21:54:58')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-04-29 21:54:59', '2017-04-29 21:54:59')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1
  [1m[36mManufacturer Load (1.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-04-29 23:54:59 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/article/_form.html.erb (93.2ms)
  Rendered admin/article/new.html.erb within layouts/application (116.5ms)
Completed 200 OK in 1016ms (Views: 954.0ms | ActiveRecord: 2.4ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-29 23:54:59 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[35mSupplier Load (0.8ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 3, '2017-04-29 21:54:59', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-04-29 21:55:00', '2017-04-29 21:55:00')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (3, 14, '2017-04-29 21:55:00', '2017-04-29 21:55:00')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 43ms (ActiveRecord: 3.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
Started GET "/admin/article/index/?page=3" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 10[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  Rendered admin/article/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1[0m
Started GET "/admin/article/index" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 1.4ms)
Started GET "/admin/article/show/14" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14[0m
  Rendered admin/article/show.html.erb within layouts/application (24.1ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 1.3ms)
Started GET "/admin/article/edit?id=14" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/article/_form.html.erb (9.4ms)
  Rendered admin/article/edit.html.erb within layouts/application (11.0ms)
Completed 200 OK in 15ms (Views: 11.0ms | ActiveRecord: 2.7ms)
Started POST "/admin/article/update?id=14" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"3", "supplier_ids"=>["3"], "manufactured_at"=>"2017-04-29 23:55:00 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"14"}
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 3 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 14) LIMIT 1[0m
  [1m[35mSQL (13.5ms)[0m  UPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `manufactured_at` = '2017-04-29 21:55:00', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-04-29 21:55:00' WHERE `articles`.`id` = 14
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article/show/14
Completed 302 Found in 27ms (ActiveRecord: 16.7ms)
Started GET "/admin/article/show/14" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 3 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 14
  Rendered admin/article/show.html.erb within layouts/application (4.0ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/destroy?id=14" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"14"}
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 14[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `articles` WHERE `articles`.`id` = 14
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 6ms (ActiveRecord: 2.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-04-29 23:55:00 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 2.4ms)
  [1m[36m (41.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (207.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (16.9ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (20.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 11:53:32', '2017-04-30 11:53:32', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 11:53:32', '2017-04-30 11:53:32', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-30', 100.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-30', 200.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-30', 300.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-30', 400.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-30', 500.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-30', 600.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-30', 700.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-30', 800.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-30', 900.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-30', 1000.0, 40, '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 13:53:32', '2017-04-30 13:53:32', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 13:53:32', '2017-04-30 13:53:32', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 13:53:32', '2017-04-30 13:53:32', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 13:53:32', '2017-04-30 13:53:32', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 13:53:32', '2017-04-30 13:53:32', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 11:53:32', '2017-04-30 11:53:32', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 11:53:32', '2017-04-30 11:53:32', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-30 11:53:32', '2017-04-30 11:53:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-30 11:53:32', '2017-04-30 11:53:32')[0m
  [1m[35m (66.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-04-30 13:53:32 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-30 11:53:33', '2017-04-30 11:53:33')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (20.2ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (9.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (9.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (12.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (223.2ms)
  Rendered catalog/index.html.erb within layouts/application (248.0ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (23.5ms)
Completed 200 OK in 1277ms (Views: 1185.4ms | ActiveRecord: 54.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-04-30 13:53:34 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Suppliers Load (0.7ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (38.4ms)
  Rendered catalog/index.html.erb within layouts/application (39.5ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (1.9ms)
Completed 200 OK in 83ms (Views: 40.3ms | ActiveRecord: 5.1ms)
  [1m[35mArticle Load (17.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-04-30 13:53:34 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (12.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (50.3ms)
Completed 200 OK in 75ms (Views: 57.4ms | ActiveRecord: 13.8ms)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-04-30 13:53:34 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/_articles.html.erb (19.7ms)
  Rendered catalog/latest.html.erb within layouts/application (21.1ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (2.0ms)
Completed 200 OK in 44ms (Views: 38.5ms | ActiveRecord: 3.0ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (41.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 14:26:37', '2017-04-30 14:26:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 14:26:37', '2017-04-30 14:26:37', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-04-30', 100.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-04-30', 200.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-04-30', 300.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-04-30', 400.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-04-30', 500.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-04-30', 600.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-04-30', 700.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-04-30', 800.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-04-30', 900.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-04-30', 1000.0, 40, '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 16:26:37', '2017-04-30 16:26:37', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 16:26:37', '2017-04-30 16:26:37', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 16:26:37', '2017-04-30 16:26:37', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 16:26:37', '2017-04-30 16:26:37', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-04-30 16:26:37', '2017-04-30 16:26:37', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 14:26:37', '2017-04-30 14:26:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-04-30 14:26:37', '2017-04-30 14:26:37', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-04-30 14:26:37', '2017-04-30 14:26:37')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-04-30 14:26:37', '2017-04-30 14:26:37')[0m
  [1m[35m (74.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-30 14:26:38', '2017-04-30 14:26:38')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`article_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190964, '2017-04-30 14:26:38', '2017-04-30 14:26:38')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 35ms (ActiveRecord: 3.3ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190963 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190963[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35m (66.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-30 14:26:38', '2017-04-30 14:26:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190965, '2017-04-30 14:26:38', '2017-04-30 14:26:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 3.3ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965[0m
  [1m[35m (35.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-04-30 14:26:38', '2017-04-30 14:26:38')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`article_id` = 4
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190966, '2017-04-30 14:26:38', '2017-04-30 14:26:38')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 21ms (ActiveRecord: 5.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  [1m[35m (35.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (23.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (1325.8ms)[0m  [1mDROP DATABASE IF EXISTS `eshop6_test`[0m
  [1m[35m (0.5ms)[0m  CREATE DATABASE `eshop6_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (273.1ms)[0m  [1mCREATE TABLE `articles` (`id` int(11) auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `manufacturer_id` int(11) NOT NULL, `manufactured_at` datetime, `reference` varchar(13), `blurb` text, `size` int(11), `price` float(24), `created_at` datetime, `updated_at` datetime, `cover_image_file_name` varchar(255), `cover_image_content_type` varchar(255), `cover_image_file_size` int(11), `cover_image_updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (264.8ms)[0m  CREATE  INDEX `fk_articles_manufacturers` USING btree ON `articles` (`manufacturer_id`) 
  [1m[36m (287.0ms)[0m  [1mCREATE TABLE `articles_suppliers` (`id` int(11) auto_increment PRIMARY KEY, `supplier_id` int(11) NOT NULL, `article_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (264.6ms)[0m  CREATE  INDEX `fk_articles_suppliers_articles` USING btree ON `articles_suppliers` (`article_id`) 
  [1m[36m (265.4ms)[0m  [1mCREATE  INDEX `fk_articles_suppliers_suppliers` USING btree ON `articles_suppliers` (`supplier_id`) [0m
  [1m[35m (300.0ms)[0m  CREATE TABLE `cart_items` (`id` int(11) auto_increment PRIMARY KEY, `article_id` int(11), `cart_id` int(11), `price` float(24), `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (276.4ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (276.3ms)[0m  CREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (242.7ms)[0m  [1mCREATE TABLE `order_items` (`id` int(11) auto_increment PRIMARY KEY, `article_id` int(11), `order_id` int(11), `price` float(24), `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (253.7ms)[0m  CREATE  INDEX `fk_order_items_orders` USING btree ON `order_items` (`order_id`) 
  [1m[36m (297.7ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) auto_increment PRIMARY KEY, `email` varchar(255), `phone_number` varchar(255), `ship_to_first_name` varchar(255), `ship_to_last_name` varchar(255), `ship_to_address` varchar(255), `ship_to_city` varchar(255), `ship_to_postal_code` varchar(255), `ship_to_country_code` varchar(255), `customer_ip` varchar(255), `status` varchar(255), `error_message` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (399.3ms)[0m  CREATE TABLE `suppliers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255) NOT NULL, `last_name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (649.0ms)[0m  [1mALTER TABLE `articles` ADD CONSTRAINT `fk_articles_manufacturers`
FOREIGN KEY (`manufacturer_id`)
  REFERENCES `manufacturers` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (858.0ms)[0m  ALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_articles`
FOREIGN KEY (`article_id`)
  REFERENCES `articles` (`id`)
 ON DELETE CASCADE
  [1m[36m (694.9ms)[0m  [1mALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_suppliers`
FOREIGN KEY (`supplier_id`)
  REFERENCES `suppliers` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (759.1ms)[0m  ALTER TABLE `order_items` ADD CONSTRAINT `fk_order_items_orders`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 ON DELETE CASCADE
  [1m[36m (297.5ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (410.6ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (33.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170502091320')
  [1m[36m (33.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130630150644')[0m
  [1m[35m (33.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170502091305')
  [1m[36m (33.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170321100602')[0m
  [1m[35m (33.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170427122245')
  [1m[36m (33.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170328092851')[0m
  [1m[35m (35.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170427122257')
  [1m[36m (33.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170404092937')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.6ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:43', '2017-05-02 09:31:43', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')[0m
  [1m[35mFixture Insert (69.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 09:31:43', '2017-05-02 09:31:43')[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 11:31:43', '2017-05-02 11:31:43', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 11:31:43', '2017-05-02 11:31:43', 2, 1)
  [1m[36mFixture Insert (76.7ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 11:31:43', '2017-05-02 11:31:43', 3, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 11:31:43', '2017-05-02 11:31:43', 4, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 11:31:43', '2017-05-02 11:31:43', 5, 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:44', '2017-05-02 09:31:44', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 09:31:44', '2017-05-02 09:31:44', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 09:31:44', '2017-05-02 09:31:44')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 09:31:44', '2017-05-02 09:31:44')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `manufacturers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 09:31:44', '2017-05-02 09:31:44')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 09:31:44', '2017-05-02 09:31:44')
  [1m[36m (71.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-02 09:31:44', '2017-05-02 09:31:44')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190963, '2017-05-02 09:31:44', '2017-05-02 09:31:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (354.5ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 09:31:46' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.8ms)[0m  [1mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190963 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190963
  [1m[36mOrderItem Load (0.9ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190963[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-02 09:31:46' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (67.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (90.5ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:34:20', '2017-05-02 12:34:20', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:34:20', '2017-05-02 12:34:20', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:34:20', '2017-05-02 12:34:20', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:34:20', '2017-05-02 12:34:20', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:34:20', '2017-05-02 12:34:20', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:34:20', '2017-05-02 10:34:20', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 10:34:20', '2017-05-02 10:34:20')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 10:34:20', '2017-05-02 10:34:20')[0m
  [1m[35m (69.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-02 12:34:20 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 10:34:21', '2017-05-02 10:34:21')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963 AND `cart_items`.`article_id` = 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190963, '2017-05-02 10:34:21', '2017-05-02 10:34:21')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 108ms (ActiveRecord: 3.5ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 12:34:21 +0200
  [1m[36m (41.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 12:34:21 +0200
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (119.9ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:35:33', '2017-05-02 12:35:33', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:35:33', '2017-05-02 12:35:33', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:35:33', '2017-05-02 12:35:33', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:35:33', '2017-05-02 12:35:33', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 12:35:33', '2017-05-02 12:35:33', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 10:35:33', '2017-05-02 10:35:33')[0m
  [1m[35m (86.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 12:35:33 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.9ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 80ms (ActiveRecord: 1.4ms)
  [1m[36m (44.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-02 12:35:33 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 10:35:33', '2017-05-02 10:35:33')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`article_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190965, '2017-05-02 10:35:34', '2017-05-02 10:35:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 50ms (ActiveRecord: 3.5ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 12:35:34 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (41.6ms)
  Rendered cart/_cart_notice.html.erb (0.5ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.6ms)
  Rendered cart/_cart.html.erb (9.4ms)
Completed 200 OK in 1132ms (Views: 1126.3ms | ActiveRecord: 2.1ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-02 12:35:35 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190965"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-02 10:35:35', '2017-05-02 10:35:35')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190964, '2017-05-02 10:35:35', '2017-05-02 10:35:35')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 10:35:37' WHERE `orders`.`id` = 980190964[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1883ms (ActiveRecord: 5.3ms)
  [1m[35m (130.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (4.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (29.5ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (68.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:18', '2017-05-02 19:23:18', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:18', '2017-05-02 19:23:18', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:23:18', '2017-05-02 21:23:18', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:23:18', '2017-05-02 21:23:18', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:23:18', '2017-05-02 21:23:18', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:23:18', '2017-05-02 21:23:18', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:23:18', '2017-05-02 21:23:18', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 19:23:19', '2017-05-02 19:23:19')[0m
  [1m[35m (64.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:23:19 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (9.2ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190963 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 152ms (ActiveRecord: 10.3ms)
  [1m[36m (38.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-02 21:23:19 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`article_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190964, '2017-05-02 19:23:19', '2017-05-02 19:23:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 107ms (ActiveRecord: 3.2ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:23:19 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (46.6ms)
  Rendered cart/_cart_notice.html.erb (0.7ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.6ms)
  Rendered cart/_cart.html.erb (19.1ms)
Completed 200 OK in 1609ms (Views: 1604.5ms | ActiveRecord: 1.6ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-02 21:23:21 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190964"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-02 19:23:21', '2017-05-02 19:23:21')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190963, '2017-05-02 19:23:21', '2017-05-02 19:23:21')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (13.0ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:23:23' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190963
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1612ms (ActiveRecord: 18.2ms)
  [1m[35m (100.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (61.8ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:02', '2017-05-02 21:53:02', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:02', '2017-05-02 21:53:02', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:02', '2017-05-02 21:53:02', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:02', '2017-05-02 21:53:02', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:02', '2017-05-02 21:53:02', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:02', '2017-05-02 19:53:02', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35m (65.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-02 19:53:02', '2017-05-02 19:53:02')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190964, '2017-05-02 19:53:02', '2017-05-02 19:53:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:53:03' WHERE `orders`.`id` = 980190964
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190964 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190964[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190964
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-02 19:53:03' WHERE `orders`.`id` = 980190964
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (34.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:30', '2017-05-02 19:53:30', 298486374)[0m
  [1m[35mFixture Delete (85.1ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 19:53:30', '2017-05-02 19:53:30')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:30', '2017-05-02 21:53:30', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:30', '2017-05-02 21:53:30', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:30', '2017-05-02 21:53:30', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:30', '2017-05-02 21:53:30', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:53:30', '2017-05-02 21:53:30', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:31', '2017-05-02 19:53:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:53:31', '2017-05-02 19:53:31', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 19:53:31', '2017-05-02 19:53:31')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 19:53:31', '2017-05-02 19:53:31')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 19:53:31', '2017-05-02 19:53:31')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 19:53:31', '2017-05-02 19:53:31')[0m
  [1m[35m (86.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-02 19:53:31', '2017-05-02 19:53:31')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190965, '2017-05-02 19:53:31', '2017-05-02 19:53:31')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:53:33' WHERE `orders`.`id` = 980190965
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.8ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190965 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190965[0m
  [1m[35mOrderItem Load (0.7ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190965
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (220.5ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-02 19:53:33' WHERE `orders`.`id` = 980190965
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (33.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (76.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:54:25', '2017-05-02 21:54:25', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:54:25', '2017-05-02 21:54:25', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:54:25', '2017-05-02 21:54:25', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:54:25', '2017-05-02 21:54:25', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:54:25', '2017-05-02 21:54:25', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 19:54:25', '2017-05-02 19:54:25')[0m
  [1m[35m (70.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:54:25 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 58ms (ActiveRecord: 1.4ms)
  [1m[36m (40.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-02 21:54:25 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`article_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190966, '2017-05-02 19:54:25', '2017-05-02 19:54:25')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 44ms (ActiveRecord: 2.7ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:54:25 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190966 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (17.2ms)
  Rendered cart/_cart_notice.html.erb (0.2ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (0.9ms)
  Rendered cart/_cart.html.erb (4.8ms)
Completed 200 OK in 164ms (Views: 161.1ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-02 21:54:26 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190966"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-02 19:54:26', '2017-05-02 19:54:26')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190966, '2017-05-02 19:54:26', '2017-05-02 19:54:26')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:54:26' WHERE `orders`.`id` = 980190966[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 769ms (ActiveRecord: 4.1ms)
  [1m[35m (154.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (90.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-02', 100.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-02', 200.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-02', 300.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-02', 400.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-02', 500.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-02', 600.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-02', 700.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-02', 800.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-02', 900.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-02', 1000.0, 40, '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:55:15', '2017-05-02 21:55:15', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:55:15', '2017-05-02 21:55:15', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:55:15', '2017-05-02 21:55:15', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:55:15', '2017-05-02 21:55:15', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-02 21:55:15', '2017-05-02 21:55:15', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-02 19:55:15', '2017-05-02 19:55:15', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-02 19:55:15', '2017-05-02 19:55:15')[0m
  [1m[35m (84.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (9.0ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-05-02 19:55:15', '2017-05-02 19:55:15')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 34ms (ActiveRecord: 9.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (46.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (7.8ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (28.6ms)
Completed 200 OK in 281ms (Views: 279.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-05-02 19:55:16' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (99.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (5.0ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (15.9ms)
Completed 200 OK in 21ms (Views: 20.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (0.9ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (59.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::OrderControllerTest: test_should_get_show
------------------------------------------------
Processing by Admin::OrderController#show as HTML
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_close
-------------------------------------------------
Processing by Admin::OrderController#close as HTML
  [1m[35mOrder Load (0.5ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = NULL LIMIT 1
Completed 404 Not Found in 1ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_index
-------------------------------------------------
Processing by Admin::OrderController#index as HTML
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT  `orders`.* FROM `orders` LIMIT 10 OFFSET 0[0m
  Rendered admin/order/index.html.erb within layouts/application (20.8ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 13ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (2.5ms)
  Rendered admin/supplier/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-05-02 19:55:16' WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (31.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (2.4ms)
  Rendered admin/supplier/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.6ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-02 19:55:16', '2017-05-02 19:55:16')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 6ms (Views: 4.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (40.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/supplier/_form.html.erb (4.4ms)
  Rendered admin/supplier/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 35ms (Views: 8.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (0.5ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 28ms (ActiveRecord: 3.2ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (1.2ms)
  Rendered admin/supplier/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (38.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:55:16 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:16', '2017-05-02 19:55:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190967 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 35ms (ActiveRecord: 1.6ms)
  [1m[35m (37.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-02 21:55:17 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:17', '2017-05-02 19:55:17')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`article_id` = 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190968, '2017-05-02 19:55:17', '2017-05-02 19:55:17')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 56ms (ActiveRecord: 3.9ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-02 21:55:17 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190968 LIMIT 1[0m
  Rendered checkout/index.html.erb within layouts/application (58.1ms)
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.5ms)
  Rendered cart/_cart.html.erb (7.8ms)
Completed 200 OK in 77ms (Views: 71.2ms | ActiveRecord: 2.0ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-02 21:55:17 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190968"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-02 19:55:17', '2017-05-02 19:55:17')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190967, '2017-05-02 19:55:17', '2017-05-02 19:55:17')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:55:18' WHERE `orders`.`id` = 980190967
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190965[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 927ms (ActiveRecord: 5.4ms)
  [1m[36m (52.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-02 19:55:18', '2017-05-02 19:55:18')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-05-02 19:55:18', '2017-05-02 19:55:18')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-05-02 19:55:18', '2017-05-02 19:55:18')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (47.3ms)
  Rendered admin/article/new.html.erb within layouts/application (51.8ms)
Completed 200 OK in 75ms (Views: 71.9ms | ActiveRecord: 1.3ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"4", "supplier_ids"=>["5"], "manufactured_at"=>"2017-05-02 21:55:18 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.5ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 4, '2017-05-02 19:55:18', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-05-02 19:55:18', '2017-05-02 19:55:18')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (5, 11, '2017-05-02 19:55:18', '2017-05-02 19:55:18')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 30ms (ActiveRecord: 3.8ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (19.1ms)
Completed 200 OK in 23ms (Views: 19.9ms | ActiveRecord: 2.4ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=3" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 10
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 1.2ms)
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (19.2ms)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 2.4ms)
Started GET "/admin/article/show/11" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11
  Rendered admin/article/show.html.erb within layouts/application (8.7ms)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 2.2ms)
Started GET "/admin/article/edit?id=11" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (13.4ms)
  Rendered admin/article/edit.html.erb within layouts/application (15.9ms)
Completed 200 OK in 22ms (Views: 17.4ms | ActiveRecord: 2.7ms)
Started POST "/admin/article/update?id=11" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"4", "supplier_ids"=>["5"], "manufactured_at"=>"2017-05-02 21:55:18 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"11"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 5 LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 11) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-05-02 19:55:18' WHERE `articles`.`id` = 11[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/11
Completed 302 Found in 17ms (ActiveRecord: 3.9ms)
Started GET "/admin/article/show/11" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11[0m
  Rendered admin/article/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 1.7ms)
Started POST "/admin/article/destroy?id=11" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"11"}
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 11
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 11[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-05-02 21:55:18 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (18.1ms)
Completed 200 OK in 22ms (Views: 18.0ms | ActiveRecord: 2.5ms)
  [1m[35m (35.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.6ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-05-02 19:55:18', '2017-05-02 19:55:18')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (45.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-02 19:55:18', '2017-05-02 19:55:18')
  [1m[36mSQL (82.2ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190968, '2017-05-02 19:55:18', '2017-05-02 19:55:18')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-02 19:55:19' WHERE `orders`.`id` = 980190968
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190968 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190968[0m
  [1m[35mOrderItem Load (1.8ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190968
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-02 19:55:19' WHERE `orders`.`id` = 980190968
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (69.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-02 21:55:19 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:19', '2017-05-02 19:55:19')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (26.5ms)
  Rendered catalog/index.html.erb within layouts/application (29.6ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969[0m
  Rendered cart/_cart.html.erb (2.2ms)
Completed 200 OK in 45ms (Views: 37.6ms | ActiveRecord: 2.9ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-02 21:55:19 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (20.7ms)
  Rendered catalog/index.html.erb within layouts/application (21.2ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 2.4ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-02 21:55:19 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1[0m
  [1m[35mSupplier Load (0.9ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 1.9ms)
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-02 21:55:19 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.6ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (9.6ms)
  Rendered catalog/latest.html.erb within layouts/application (10.2ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969[0m
  Rendered cart/_cart.html.erb (1.4ms)
Completed 200 OK in 29ms (Views: 25.8ms | ActiveRecord: 2.4ms)
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.6ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (66.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
CatalogControllerTest: test_should_get_index
--------------------------------------------
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:19', '2017-05-02 19:55:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (18.3ms)
  Rendered catalog/index.html.erb within layouts/application (19.4ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970
  Rendered cart/_cart.html.erb (2.5ms)
Completed 200 OK in 31ms (Views: 22.5ms | ActiveRecord: 3.6ms)
  [1m[36m (40.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
CatalogControllerTest: test_should_get_latest
---------------------------------------------
Processing by CatalogController#latest as HTML
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:19', '2017-05-02 19:55:19')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.8ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (20.2ms)
  Rendered catalog/latest.html.erb within layouts/application (20.6ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971[0m
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 33ms (Views: 23.9ms | ActiveRecord: 4.5ms)
  [1m[35m (40.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
CatalogControllerTest: test_should_get_show
-------------------------------------------
Processing by CatalogController#show as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:19', '2017-05-02 19:55:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190972, '2017-05-02 19:55:19', '2017-05-02 19:55:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 17ms (ActiveRecord: 4.3ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972
  [1m[36m (41.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:19', '2017-05-02 19:55:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`article_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190973, '2017-05-02 19:55:19', '2017-05-02 19:55:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 18ms (ActiveRecord: 3.8ms)
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190973[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190967[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190973
  [1m[36m (38.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190974, '2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 4.7ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190974[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190968 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190968[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 3.7ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190974[0m
  [1m[35m (42.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutControllerTest: test_should_get_thank_you
-------------------------------------------------
Processing by CheckoutController#thank_you as HTML
  Rendered checkout/thank_you.html.erb within layouts/application (1.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
CheckoutControllerTest: test_should_get_index
---------------------------------------------
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190975 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
  [1m[35m (40.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------
CheckoutControllerTest: test_should_get_submit_order
----------------------------------------------------
Processing by CheckoutController#submit_order as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_create
----------------------------------------------------
Processing by Admin::ArticleController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_show
--------------------------------------------------
Processing by Admin::ArticleController#show as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_edit
--------------------------------------------------
Processing by Admin::ArticleController#edit as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::ArticleControllerTest: test_should_get_new
-------------------------------------------------
Processing by Admin::ArticleController#new as HTML
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/article/_form.html.erb (11.9ms)
  Rendered admin/article/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_destroy
-----------------------------------------------------
Processing by Admin::ArticleController#destroy as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
Admin::ArticleControllerTest: test_should_get_index
---------------------------------------------------
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.9ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (18.7ms)
Completed 200 OK in 23ms (Views: 17.2ms | ActiveRecord: 3.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_update
----------------------------------------------------
Processing by Admin::ArticleController#update as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 1ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-05-02 19:55:20', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 12, '2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 12, '2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 12 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 12[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (39.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-05-02 19:55:20', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 13, '2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 13, '2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-05-02 19:55:20', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 14, '2017-05-02 19:55:20', '2017-05-02 19:55:20')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 14, '2017-05-02 19:55:20', '2017-05-02 19:55:20')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (42.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (21.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (12.7ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (85.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:15', '2017-05-03 08:21:15', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:15', '2017-05-03 08:21:15', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:15', '2017-05-03 08:21:15', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:15', '2017-05-03 08:21:15', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:15', '2017-05-03 08:21:15', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:15', '2017-05-03 08:21:15', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-03', 100.0, 40, '2017-05-03 08:21:15', '2017-05-03 08:21:15')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-03', 200.0, 40, '2017-05-03 08:21:15', '2017-05-03 08:21:15')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-03', 300.0, 40, '2017-05-03 08:21:15', '2017-05-03 08:21:15')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-03', 400.0, 40, '2017-05-03 08:21:15', '2017-05-03 08:21:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-03', 500.0, 40, '2017-05-03 08:21:15', '2017-05-03 08:21:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-03', 600.0, 40, '2017-05-03 08:21:15', '2017-05-03 08:21:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-03', 700.0, 40, '2017-05-03 08:21:15', '2017-05-03 08:21:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-03', 800.0, 40, '2017-05-03 08:21:15', '2017-05-03 08:21:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-03', 900.0, 40, '2017-05-03 08:21:15', '2017-05-03 08:21:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-03', 1000.0, 40, '2017-05-03 08:21:15', '2017-05-03 08:21:15')
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:21:15', '2017-05-03 10:21:15', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:21:15', '2017-05-03 10:21:15', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:21:15', '2017-05-03 10:21:15', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:21:15', '2017-05-03 10:21:15', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:21:15', '2017-05-03 10:21:15', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:15', '2017-05-03 08:21:15', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:15', '2017-05-03 08:21:15', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-03 08:21:15', '2017-05-03 08:21:15')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-03 08:21:15', '2017-05-03 08:21:15')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-03 08:21:15', '2017-05-03 08:21:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-03 08:21:15', '2017-05-03 08:21:15')[0m
  [1m[35m (110.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-03 10:21:15 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-03 08:21:15', '2017-05-03 08:21:15')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.9ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190963 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 58ms (ActiveRecord: 2.2ms)
  [1m[36m (42.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-03 10:21:16 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-03 08:21:16', '2017-05-03 08:21:16')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`article_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190964, '2017-05-03 08:21:16', '2017-05-03 08:21:16')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 47ms (ActiveRecord: 2.6ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-03 10:21:16 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (51.2ms)
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (16.9ms)
Completed 200 OK in 311ms (Views: 307.7ms | ActiveRecord: 1.2ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-03 10:21:16 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190964"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-03 08:21:16', '2017-05-03 08:21:16')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190963, '2017-05-03 08:21:16', '2017-05-03 08:21:16')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (12.6ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-03 08:21:17' WHERE `orders`.`id` = 980190963[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190963
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1327ms (ActiveRecord: 16.5ms)
  [1m[35m (100.9ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (68.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:52', '2017-05-03 08:21:52', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:52', '2017-05-03 08:21:52', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:52', '2017-05-03 08:21:52', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:52', '2017-05-03 08:21:52', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:52', '2017-05-03 08:21:52', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:52', '2017-05-03 08:21:52', 298486374)[0m
  [1m[35mFixture Delete (75.2ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-03', 100.0, 40, '2017-05-03 08:21:52', '2017-05-03 08:21:52')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-03', 200.0, 40, '2017-05-03 08:21:52', '2017-05-03 08:21:52')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-03', 300.0, 40, '2017-05-03 08:21:52', '2017-05-03 08:21:52')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-03', 400.0, 40, '2017-05-03 08:21:52', '2017-05-03 08:21:52')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-03', 500.0, 40, '2017-05-03 08:21:52', '2017-05-03 08:21:52')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-03', 600.0, 40, '2017-05-03 08:21:52', '2017-05-03 08:21:52')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-03', 700.0, 40, '2017-05-03 08:21:52', '2017-05-03 08:21:52')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-03', 800.0, 40, '2017-05-03 08:21:52', '2017-05-03 08:21:52')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-03', 900.0, 40, '2017-05-03 08:21:52', '2017-05-03 08:21:52')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-03', 1000.0, 40, '2017-05-03 08:21:52', '2017-05-03 08:21:52')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:21:52', '2017-05-03 10:21:52', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:21:52', '2017-05-03 10:21:52', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:21:52', '2017-05-03 10:21:52', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:21:52', '2017-05-03 10:21:52', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:21:52', '2017-05-03 10:21:52', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:52', '2017-05-03 08:21:52', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:21:52', '2017-05-03 08:21:52', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-03 08:21:52', '2017-05-03 08:21:52')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-03 08:21:52', '2017-05-03 08:21:52')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-03 08:21:52', '2017-05-03 08:21:52')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-03 08:21:52', '2017-05-03 08:21:52')[0m
  [1m[35m (38.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-03 10:21:52 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-03 08:21:52', '2017-05-03 08:21:52')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 87ms (ActiveRecord: 1.3ms)
  [1m[36m (35.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-03 10:21:53 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-03 08:21:53', '2017-05-03 08:21:53')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`article_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190966, '2017-05-03 08:21:53', '2017-05-03 08:21:53')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 65ms (ActiveRecord: 3.1ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-03 10:21:53 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190966 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (24.7ms)
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (5.6ms)
Completed 200 OK in 196ms (Views: 190.7ms | ActiveRecord: 1.9ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-03 10:21:53 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190966"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-03 08:21:53', '2017-05-03 08:21:53')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190964, '2017-05-03 08:21:53', '2017-05-03 08:21:53')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (157.4ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-03 08:21:54' WHERE `orders`.`id` = 980190964[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1087ms (ActiveRecord: 162.8ms)
  [1m[35m (33.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (65.8ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:22:13', '2017-05-03 08:22:13', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:22:13', '2017-05-03 08:22:13', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:22:13', '2017-05-03 08:22:13', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:22:13', '2017-05-03 08:22:13', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:22:13', '2017-05-03 08:22:13', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:22:13', '2017-05-03 08:22:13', 298486374)[0m
  [1m[35mFixture Delete (71.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-03', 100.0, 40, '2017-05-03 08:22:13', '2017-05-03 08:22:13')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-03', 200.0, 40, '2017-05-03 08:22:13', '2017-05-03 08:22:13')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-03', 300.0, 40, '2017-05-03 08:22:13', '2017-05-03 08:22:13')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-03', 400.0, 40, '2017-05-03 08:22:13', '2017-05-03 08:22:13')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-03', 500.0, 40, '2017-05-03 08:22:13', '2017-05-03 08:22:13')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-03', 600.0, 40, '2017-05-03 08:22:13', '2017-05-03 08:22:13')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-03', 700.0, 40, '2017-05-03 08:22:13', '2017-05-03 08:22:13')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-03', 800.0, 40, '2017-05-03 08:22:13', '2017-05-03 08:22:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-03', 900.0, 40, '2017-05-03 08:22:13', '2017-05-03 08:22:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-03', 1000.0, 40, '2017-05-03 08:22:13', '2017-05-03 08:22:13')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:22:13', '2017-05-03 10:22:13', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:22:13', '2017-05-03 10:22:13', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:22:13', '2017-05-03 10:22:13', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:22:13', '2017-05-03 10:22:13', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:22:13', '2017-05-03 10:22:13', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:22:13', '2017-05-03 08:22:13', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:22:13', '2017-05-03 08:22:13', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-03 08:22:13', '2017-05-03 08:22:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-03 08:22:13', '2017-05-03 08:22:13')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-03 08:22:13', '2017-05-03 08:22:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-03 08:22:13', '2017-05-03 08:22:13')[0m
  [1m[35m (72.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-03 10:22:14 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-03 08:22:14', '2017-05-03 08:22:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190967 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 54ms (ActiveRecord: 1.3ms)
  [1m[36m (37.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-03 10:22:14 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-03 08:22:14', '2017-05-03 08:22:14')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`article_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190968, '2017-05-03 08:22:14', '2017-05-03 08:22:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 48ms (ActiveRecord: 2.9ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-03 10:22:14 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190968 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (21.1ms)
  Rendered cart/_cart_notice.html.erb (0.2ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.1ms)
  Rendered cart/_cart.html.erb (5.9ms)
Completed 200 OK in 179ms (Views: 174.3ms | ActiveRecord: 1.9ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-03 10:22:14 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190968"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-03 08:22:14', '2017-05-03 08:22:14')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190965, '2017-05-03 08:22:14', '2017-05-03 08:22:14')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-03 08:22:15' WHERE `orders`.`id` = 980190965[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190965
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1556ms (ActiveRecord: 5.8ms)
  [1m[35m (39.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (65.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:23:32', '2017-05-03 08:23:32', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:23:32', '2017-05-03 08:23:32', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:23:32', '2017-05-03 08:23:32', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:23:32', '2017-05-03 08:23:32', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:23:32', '2017-05-03 08:23:32', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:23:32', '2017-05-03 08:23:32', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-03', 100.0, 40, '2017-05-03 08:23:32', '2017-05-03 08:23:32')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-03', 200.0, 40, '2017-05-03 08:23:32', '2017-05-03 08:23:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-03', 300.0, 40, '2017-05-03 08:23:32', '2017-05-03 08:23:32')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-03', 400.0, 40, '2017-05-03 08:23:32', '2017-05-03 08:23:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-03', 500.0, 40, '2017-05-03 08:23:32', '2017-05-03 08:23:32')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-03', 600.0, 40, '2017-05-03 08:23:32', '2017-05-03 08:23:32')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-03', 700.0, 40, '2017-05-03 08:23:32', '2017-05-03 08:23:32')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-03', 800.0, 40, '2017-05-03 08:23:32', '2017-05-03 08:23:32')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-03', 900.0, 40, '2017-05-03 08:23:32', '2017-05-03 08:23:32')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-03', 1000.0, 40, '2017-05-03 08:23:32', '2017-05-03 08:23:32')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:23:32', '2017-05-03 10:23:32', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:23:32', '2017-05-03 10:23:32', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:23:32', '2017-05-03 10:23:32', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:23:32', '2017-05-03 10:23:32', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-03 10:23:32', '2017-05-03 10:23:32', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:23:32', '2017-05-03 08:23:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-03 08:23:32', '2017-05-03 08:23:32', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-03 08:23:32', '2017-05-03 08:23:32')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-03 08:23:32', '2017-05-03 08:23:32')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-03 08:23:32', '2017-05-03 08:23:32')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-03 08:23:32', '2017-05-03 08:23:32')[0m
  [1m[35m (69.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-03 08:23:33', '2017-05-03 08:23:33')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190966, '2017-05-03 08:23:33', '2017-05-03 08:23:33')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-03 08:23:33' WHERE `orders`.`id` = 980190966
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190966 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190966[0m
  [1m[35mOrderItem Load (0.5ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190966
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-03 08:23:33' WHERE `orders`.`id` = 980190966
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (32.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (8.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (92.9ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:48:15', '2017-05-05 09:48:15', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:48:15', '2017-05-05 09:48:15', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:48:15', '2017-05-05 09:48:15', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:48:15', '2017-05-05 09:48:15', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:48:15', '2017-05-05 09:48:15', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:48:15', '2017-05-05 09:48:15', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-05', 100.0, 40, '2017-05-05 09:48:15', '2017-05-05 09:48:15')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-05', 200.0, 40, '2017-05-05 09:48:15', '2017-05-05 09:48:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-05', 300.0, 40, '2017-05-05 09:48:15', '2017-05-05 09:48:15')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-05', 400.0, 40, '2017-05-05 09:48:15', '2017-05-05 09:48:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-05', 500.0, 40, '2017-05-05 09:48:15', '2017-05-05 09:48:15')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-05', 600.0, 40, '2017-05-05 09:48:15', '2017-05-05 09:48:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-05', 700.0, 40, '2017-05-05 09:48:15', '2017-05-05 09:48:15')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-05', 800.0, 40, '2017-05-05 09:48:15', '2017-05-05 09:48:15')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-05', 900.0, 40, '2017-05-05 09:48:15', '2017-05-05 09:48:15')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-05', 1000.0, 40, '2017-05-05 09:48:15', '2017-05-05 09:48:15')
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 11:48:15', '2017-05-05 11:48:15', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 11:48:15', '2017-05-05 11:48:15', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 11:48:15', '2017-05-05 11:48:15', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 11:48:15', '2017-05-05 11:48:15', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 11:48:15', '2017-05-05 11:48:15', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:48:15', '2017-05-05 09:48:15', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:48:15', '2017-05-05 09:48:15', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-05 09:48:15', '2017-05-05 09:48:15')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-05 09:48:15', '2017-05-05 09:48:15')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-05 09:48:15', '2017-05-05 09:48:15')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-05 09:48:15', '2017-05-05 09:48:15')[0m
  [1m[35m (87.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-05 09:48:15', '2017-05-05 09:48:15')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190963, '2017-05-05 09:48:15', '2017-05-05 09:48:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (9.6ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-05 09:48:18' WHERE `orders`.`id` = 980190963
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.8ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190963 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190963[0m
  [1m[35mOrderItem Load (0.6ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190963
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-05 09:48:18' WHERE `orders`.`id` = 980190963
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (33.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (68.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:49:58', '2017-05-05 09:49:58', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:49:58', '2017-05-05 09:49:58', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:49:58', '2017-05-05 09:49:58', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:49:58', '2017-05-05 09:49:58', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:49:58', '2017-05-05 09:49:58', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:49:58', '2017-05-05 09:49:58', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-05', 100.0, 40, '2017-05-05 09:49:58', '2017-05-05 09:49:58')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-05', 200.0, 40, '2017-05-05 09:49:58', '2017-05-05 09:49:58')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-05', 300.0, 40, '2017-05-05 09:49:58', '2017-05-05 09:49:58')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-05', 400.0, 40, '2017-05-05 09:49:58', '2017-05-05 09:49:58')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-05', 500.0, 40, '2017-05-05 09:49:58', '2017-05-05 09:49:58')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-05', 600.0, 40, '2017-05-05 09:49:58', '2017-05-05 09:49:58')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-05', 700.0, 40, '2017-05-05 09:49:58', '2017-05-05 09:49:58')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-05', 800.0, 40, '2017-05-05 09:49:58', '2017-05-05 09:49:58')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-05', 900.0, 40, '2017-05-05 09:49:58', '2017-05-05 09:49:58')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-05', 1000.0, 40, '2017-05-05 09:49:58', '2017-05-05 09:49:58')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 11:49:58', '2017-05-05 11:49:58', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 11:49:58', '2017-05-05 11:49:58', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 11:49:58', '2017-05-05 11:49:58', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 11:49:58', '2017-05-05 11:49:58', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 11:49:58', '2017-05-05 11:49:58', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:49:58', '2017-05-05 09:49:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 09:49:58', '2017-05-05 09:49:58', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-05 09:49:58', '2017-05-05 09:49:58')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-05 09:49:58', '2017-05-05 09:49:58')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-05 09:49:58', '2017-05-05 09:49:58')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-05 09:49:58', '2017-05-05 09:49:58')[0m
  [1m[35m (63.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-05 11:49:58 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 09:49:58', '2017-05-05 09:49:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (10.5ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190963 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 119ms (ActiveRecord: 11.3ms)
  [1m[36m (32.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-05 11:49:58 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 09:49:58', '2017-05-05 09:49:58')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`article_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190964, '2017-05-05 09:49:58', '2017-05-05 09:49:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 40ms (ActiveRecord: 2.7ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-05 11:49:58 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mArticle Exists (0.2ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (54.0ms)
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (5.7ms)
Completed 200 OK in 205ms (Views: 201.7ms | ActiveRecord: 1.4ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-05 11:49:59 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190964"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-05 09:49:59', '2017-05-05 09:49:59')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190964, '2017-05-05 09:49:59', '2017-05-05 09:49:59')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-05 09:50:01' WHERE `orders`.`id` = 980190964[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190963
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1930ms (ActiveRecord: 4.5ms)
  [1m[35m (117.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (73.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:17:56', '2017-05-05 16:17:56', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:17:56', '2017-05-05 16:17:56', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:17:57', '2017-05-05 16:17:57', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:17:57', '2017-05-05 16:17:57', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:17:57', '2017-05-05 16:17:57', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:17:57', '2017-05-05 16:17:57', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-05', 100.0, 40, '2017-05-05 16:17:57', '2017-05-05 16:17:57')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-05', 200.0, 40, '2017-05-05 16:17:57', '2017-05-05 16:17:57')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-05', 300.0, 40, '2017-05-05 16:17:57', '2017-05-05 16:17:57')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-05', 400.0, 40, '2017-05-05 16:17:57', '2017-05-05 16:17:57')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-05', 500.0, 40, '2017-05-05 16:17:57', '2017-05-05 16:17:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-05', 600.0, 40, '2017-05-05 16:17:57', '2017-05-05 16:17:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-05', 700.0, 40, '2017-05-05 16:17:57', '2017-05-05 16:17:57')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-05', 800.0, 40, '2017-05-05 16:17:57', '2017-05-05 16:17:57')
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-05', 900.0, 40, '2017-05-05 16:17:57', '2017-05-05 16:17:57')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-05', 1000.0, 40, '2017-05-05 16:17:57', '2017-05-05 16:17:57')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 18:17:56', '2017-05-05 18:17:56', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 18:17:56', '2017-05-05 18:17:56', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 18:17:56', '2017-05-05 18:17:56', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 18:17:56', '2017-05-05 18:17:56', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 18:17:56', '2017-05-05 18:17:56', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:17:57', '2017-05-05 16:17:57', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:17:57', '2017-05-05 16:17:57', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-05 16:17:57', '2017-05-05 16:17:57')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-05 16:17:57', '2017-05-05 16:17:57')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-05 16:17:57', '2017-05-05 16:17:57')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-05 16:17:57', '2017-05-05 16:17:57')[0m
  [1m[35m (72.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 309ms (Views: 308.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CatalogControllerTest: test_should_get_latest
---------------------------------------------
Processing by CatalogController#latest as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:17:57', '2017-05-05 16:17:57')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.4ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (93.4ms)
  Rendered catalog/latest.html.erb within layouts/application (97.9ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965[0m
  Rendered cart/_cart.html.erb (7.0ms)
Completed 200 OK in 133ms (Views: 122.2ms | ActiveRecord: 3.7ms)
  [1m[35m (38.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
CatalogControllerTest: test_should_get_index
--------------------------------------------
Processing by CatalogController#index as HTML
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:17:57', '2017-05-05 16:17:57')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (19.0ms)
  Rendered catalog/index.html.erb within layouts/application (21.1ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  Rendered cart/_cart.html.erb (1.7ms)
Completed 200 OK in 54ms (Views: 45.3ms | ActiveRecord: 3.7ms)
  [1m[35m (74.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CatalogControllerTest: test_should_get_show
-------------------------------------------
Processing by CatalogController#show as HTML
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 10ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.8ms)
  [1m[35mManufacturer Exists (38.9ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (4.2ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (14.9ms)
Completed 200 OK in 130ms (Views: 128.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (78.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManufacturer Load (0.8ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  Rendered admin/manufacturer/_form.html.erb (5.1ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (24.4ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-05-05 16:17:58', '2017-05-05 16:17:58')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (45.0ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-05-05 16:17:58' WHERE `manufacturers`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 12ms (ActiveRecord: 2.8ms)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (47.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (3.6ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (0.3ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_index
-------------------------------------------------
Processing by Admin::OrderController#index as HTML
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  `orders`.* FROM `orders` LIMIT 10 OFFSET 0[0m
  Rendered admin/order/index.html.erb within layouts/application (34.9ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::OrderControllerTest: test_should_get_show
------------------------------------------------
Processing by Admin::OrderController#show as HTML
  [1m[35mOrder Load (0.6ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_close
-------------------------------------------------
Processing by Admin::OrderController#close as HTML
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 1ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:17:58', '2017-05-05 16:17:58')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190967, '2017-05-05 16:17:58', '2017-05-05 16:17:58')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 21ms (ActiveRecord: 3.2ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190967
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 1.6ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190967[0m
  [1m[35m (38.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:17:58', '2017-05-05 16:17:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190968, '2017-05-05 16:17:58', '2017-05-05 16:17:58')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 4.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968[0m
  [1m[35m (48.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:17:58', '2017-05-05 16:17:58')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190969, '2017-05-05 16:17:58', '2017-05-05 16:17:58')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 22ms (ActiveRecord: 5.1ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190969
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190966 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190966
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 3.4ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190969
  [1m[36m (41.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-05 16:17:58', '2017-05-05 16:17:58')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190965, '2017-05-05 16:17:58', '2017-05-05 16:17:58')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (142.8ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-05 16:18:00' WHERE `orders`.`id` = 980190965
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.9ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190965 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190965[0m
  [1m[35mOrderItem Load (0.8ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190965
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-05 16:18:00' WHERE `orders`.`id` = 980190965
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (51.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-05 16:18:01', '2017-05-05 16:18:01')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (38.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-05-05 16:18:01', '2017-05-05 16:18:01')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-05-05 16:18:01', '2017-05-05 16:18:01')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/article/_form.html.erb (36.8ms)
  Rendered admin/article/new.html.erb within layouts/application (40.3ms)
Completed 200 OK in 84ms (Views: 66.7ms | ActiveRecord: 1.2ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"4", "supplier_ids"=>["4"], "manufactured_at"=>"2017-05-05 18:18:01 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 4, '2017-05-05 16:18:01', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-05-05 16:18:01', '2017-05-05 16:18:01')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (4, 11, '2017-05-05 16:18:01', '2017-05-05 16:18:01')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 27ms (ActiveRecord: 3.0ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (16.3ms)
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 1.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
Started GET "/admin/article/index/?page=3" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 10[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1
  Rendered admin/article/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1[0m
Started GET "/admin/article/index" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (12.5ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 1.4ms)
Started GET "/admin/article/show/11" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11[0m
  Rendered admin/article/show.html.erb within layouts/application (29.8ms)
Completed 200 OK in 36ms (Views: 33.5ms | ActiveRecord: 1.6ms)
Started GET "/admin/article/edit?id=11" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/article/_form.html.erb (15.0ms)
  Rendered admin/article/edit.html.erb within layouts/application (17.4ms)
Completed 200 OK in 33ms (Views: 20.1ms | ActiveRecord: 2.0ms)
Started POST "/admin/article/update?id=11" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"4", "supplier_ids"=>["4"], "manufactured_at"=>"2017-05-05 18:18:01 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"11"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 4 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 11) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-05-05 16:18:01' WHERE `articles`.`id` = 11
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article/show/11
Completed 302 Found in 16ms (ActiveRecord: 3.4ms)
Started GET "/admin/article/show/11" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 4 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 11
  Rendered admin/article/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.3ms)
Started POST "/admin/article/destroy?id=11" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"11"}
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 11[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `articles` WHERE `articles`.`id` = 11
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (1.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (27.8ms)
Completed 200 OK in 35ms (Views: 30.1ms | ActiveRecord: 3.4ms)
  [1m[36m (62.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------------
Admin::ArticleControllerTest: test_should_get_index
---------------------------------------------------
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (37.6ms)
Completed 200 OK in 44ms (Views: 38.8ms | ActiveRecord: 4.3ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_show
--------------------------------------------------
Processing by Admin::ArticleController#show as HTML
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_update
----------------------------------------------------
Processing by Admin::ArticleController#update as HTML
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_create
----------------------------------------------------
Processing by Admin::ArticleController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_destroy
-----------------------------------------------------
Processing by Admin::ArticleController#destroy as HTML
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_edit
--------------------------------------------------
Processing by Admin::ArticleController#edit as HTML
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
Admin::ArticleControllerTest: test_should_get_new
-------------------------------------------------
Processing by Admin::ArticleController#new as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/article/_form.html.erb (12.7ms)
  Rendered admin/article/new.html.erb within layouts/application (14.7ms)
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-05-05 16:18:01', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-05-05 16:18:01', '2017-05-05 16:18:01')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 12, '2017-05-05 16:18:01', '2017-05-05 16:18:01')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 12, '2017-05-05 16:18:01', '2017-05-05 16:18:01')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (34.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-05-05 16:18:01', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-05-05 16:18:01', '2017-05-05 16:18:01')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 13, '2017-05-05 16:18:01', '2017-05-05 16:18:01')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 13, '2017-05-05 16:18:01', '2017-05-05 16:18:01')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 13
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2
  [1m[36m (37.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-05-05 16:18:01', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-05-05 16:18:01', '2017-05-05 16:18:01')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 14, '2017-05-05 16:18:01', '2017-05-05 16:18:01')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 14, '2017-05-05 16:18:01', '2017-05-05 16:18:01')
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (31.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-05-05 16:18:01', '2017-05-05 16:18:01')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (33.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-05 18:18:01 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:18:01', '2017-05-05 16:18:01')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.6ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (27.8ms)
  Rendered catalog/index.html.erb within layouts/application (28.9ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970
  Rendered cart/_cart.html.erb (2.4ms)
Completed 200 OK in 43ms (Views: 32.1ms | ActiveRecord: 3.9ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-05 18:18:02 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Suppliers Load (0.7ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (16.9ms)
  Rendered catalog/index.html.erb within layouts/application (17.5ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970[0m
  Rendered cart/_cart.html.erb (1.8ms)
Completed 200 OK in 24ms (Views: 18.0ms | ActiveRecord: 4.3ms)
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-05 18:18:02 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.9ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (9.4ms)
Completed 200 OK in 26ms (Views: 22.6ms | ActiveRecord: 2.1ms)
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-05 18:18:02 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/_articles.html.erb (18.7ms)
  Rendered catalog/latest.html.erb within layouts/application (19.1ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970
  Rendered cart/_cart.html.erb (2.5ms)
Completed 200 OK in 28ms (Views: 22.8ms | ActiveRecord: 3.1ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (41.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.8ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 0.8ms)
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/supplier/_form.html.erb (4.8ms)
  Rendered admin/supplier/new.html.erb within layouts/application (8.1ms)
Completed 200 OK in 18ms (Views: 12.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.5ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 7ms (ActiveRecord: 2.7ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (2.8ms)
  Rendered admin/supplier/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (32.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/_form.html.erb (0.5ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (2.2ms)
  Rendered admin/supplier/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.4ms)
  Rendered admin/supplier/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-05 16:18:02', '2017-05-05 16:18:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 4ms (Views: 3.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (31.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-05-05 16:18:02' WHERE `suppliers`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (38.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
CheckoutControllerTest: test_should_get_index
---------------------------------------------
Processing by CheckoutController#index as HTML
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:18:02', '2017-05-05 16:18:02')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190971 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
  [1m[35m (38.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------------
CheckoutControllerTest: test_should_get_submit_order
----------------------------------------------------
Processing by CheckoutController#submit_order as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutControllerTest: test_should_get_thank_you
-------------------------------------------------
Processing by CheckoutController#thank_you as HTML
  Rendered checkout/thank_you.html.erb within layouts/application (1.0ms)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-05 18:18:02 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:18:02', '2017-05-05 16:18:02')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190972 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)
  [1m[35m (32.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-05 18:18:02 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:18:02', '2017-05-05 16:18:02')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`article_id` = 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190973, '2017-05-05 16:18:02', '2017-05-05 16:18:02')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 5.0ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-05 18:18:02 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mArticle Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190973 LIMIT 1[0m
  Rendered checkout/index.html.erb within layouts/application (30.8ms)
  Rendered cart/_cart_notice.html.erb (0.6ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.5ms)
  Rendered cart/_cart.html.erb (7.9ms)
Completed 200 OK in 48ms (Views: 41.2ms | ActiveRecord: 2.8ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-05 18:18:02 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190973"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-05 16:18:02', '2017-05-05 16:18:02')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190966, '2017-05-05 16:18:02', '2017-05-05 16:18:02')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-05 16:18:03' WHERE `orders`.`id` = 980190966
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190967[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 903ms (ActiveRecord: 5.5ms)
  [1m[36m (33.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (68.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:25:00', '2017-05-05 16:25:00', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:25:00', '2017-05-05 16:25:00', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:25:01', '2017-05-05 16:25:01', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:25:01', '2017-05-05 16:25:01', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:25:01', '2017-05-05 16:25:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:25:01', '2017-05-05 16:25:01', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-05', 100.0, 40, '2017-05-05 16:25:01', '2017-05-05 16:25:01')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-05', 200.0, 40, '2017-05-05 16:25:01', '2017-05-05 16:25:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-05', 300.0, 40, '2017-05-05 16:25:01', '2017-05-05 16:25:01')[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-05', 400.0, 40, '2017-05-05 16:25:01', '2017-05-05 16:25:01')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-05', 500.0, 40, '2017-05-05 16:25:01', '2017-05-05 16:25:01')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-05', 600.0, 40, '2017-05-05 16:25:01', '2017-05-05 16:25:01')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-05', 700.0, 40, '2017-05-05 16:25:01', '2017-05-05 16:25:01')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-05', 800.0, 40, '2017-05-05 16:25:01', '2017-05-05 16:25:01')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-05', 900.0, 40, '2017-05-05 16:25:01', '2017-05-05 16:25:01')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-05', 1000.0, 40, '2017-05-05 16:25:01', '2017-05-05 16:25:01')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 18:25:00', '2017-05-05 18:25:00', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 18:25:00', '2017-05-05 18:25:00', 2, 1)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 18:25:00', '2017-05-05 18:25:00', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 18:25:00', '2017-05-05 18:25:00', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-05 18:25:00', '2017-05-05 18:25:00', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:25:01', '2017-05-05 16:25:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-05 16:25:01', '2017-05-05 16:25:01', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-05 16:25:01', '2017-05-05 16:25:01')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-05 16:25:01', '2017-05-05 16:25:01')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-05 16:25:01', '2017-05-05 16:25:01')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-05 16:25:01', '2017-05-05 16:25:01')[0m
  [1m[35m (87.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (15.2ms)[0m  DELETE FROM `manufacturers` WHERE `manufacturers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 29ms (ActiveRecord: 15.8ms)
Processing by Admin::ManufacturerController#index as HTML
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  Rendered admin/manufacturer/_manufacturer.html.erb (1.7ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 176ms (Views: 175.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
  [1m[35m (41.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
  Rendered admin/manufacturer/_form.html.erb (2.9ms)
  Rendered admin/manufacturer/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 8ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.6ms)
  [1m[36mManufacturer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE (`manufacturers`.`name` = BINARY 'Adidas.com' AND `manufacturers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `manufacturers` SET `name` = 'Adidas.com', `updated_at` = '2017-05-05 16:25:01' WHERE `manufacturers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer/show/1
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (41.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'New Balance' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('New Balance', '2017-05-05 16:25:01', '2017-05-05 16:25:01')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/manufacturer
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36m (45.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  Rendered admin/manufacturer/_manufacturer.html.erb (4.3ms)
  Rendered admin/manufacturer/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `manufacturers`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  Rendered admin/manufacturer/_form.html.erb (0.5ms)
  Rendered admin/manufacturer/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-05 18:25:01 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:25:01', '2017-05-05 16:25:01')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (54.8ms)
  Rendered catalog/index.html.erb within layouts/application (56.6ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974
  Rendered cart/_cart.html.erb (3.7ms)
Completed 200 OK in 88ms (Views: 63.6ms | ActiveRecord: 3.9ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-05 18:25:01 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Suppliers Load (0.4ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (19.0ms)
  Rendered catalog/index.html.erb within layouts/application (19.5ms)
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974[0m
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 25ms (Views: 20.3ms | ActiveRecord: 2.6ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-05 18:25:02 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 1.2ms)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-05 18:25:02 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/_articles.html.erb (8.9ms)
  Rendered catalog/latest.html.erb within layouts/application (9.5ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974
  Rendered cart/_cart.html.erb (1.4ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 2.0ms)
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (45.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-05 16:25:02', '2017-05-05 16:25:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-05-05 16:25:02', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-05-05 16:25:02', '2017-05-05 16:25:02')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 15, '2017-05-05 16:25:02', '2017-05-05 16:25:02')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 15, '2017-05-05 16:25:02', '2017-05-05 16:25:02')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (45.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.8ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-05-05 16:25:02', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-05-05 16:25:02', '2017-05-05 16:25:02')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 16, '2017-05-05 16:25:02', '2017-05-05 16:25:02')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 16, '2017-05-05 16:25:02', '2017-05-05 16:25:02')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 16
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2
  [1m[36m (39.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.6ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-05-05 16:25:02', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-05-05 16:25:02', '2017-05-05 16:25:02')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 17, '2017-05-05 16:25:02', '2017-05-05 16:25:02')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 17, '2017-05-05 16:25:02', '2017-05-05 16:25:02')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (48.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.8ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-05-05 16:25:02', '2017-05-05 16:25:02')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (45.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-05 16:25:02', '2017-05-05 16:25:02')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190967, '2017-05-05 16:25:02', '2017-05-05 16:25:02')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-05 16:25:04' WHERE `orders`.`id` = 980190967[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190967 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190967
  [1m[36mOrderItem Load (0.6ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190967[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-05 16:25:04' WHERE `orders`.`id` = 980190967[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (26.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  Rendered admin/supplier/_form.html.erb (1.0ms)
  Rendered admin/supplier/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/supplier/_form.html.erb (2.4ms)
  Rendered admin/supplier/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `suppliers` WHERE `suppliers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 4ms (ActiveRecord: 1.4ms)
Processing by Admin::SupplierController#index as HTML
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/supplier/_supplier.html.erb (1.7ms)
  Rendered admin/supplier/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
  [1m[35m (62.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (1.0ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe", "last_name"=>"Mateo"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-05 16:25:04', '2017-05-05 16:25:04')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier
Completed 302 Found in 6ms (Views: 6.9ms | ActiveRecord: 1.4ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36m (32.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  Rendered admin/supplier/_supplier.html.erb (4.3ms)
  Rendered admin/supplier/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  Rendered admin/supplier/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
  Rendered admin/supplier/_form.html.erb (0.5ms)
  Rendered admin/supplier/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 17ms (Views: 16.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `suppliers` SET `first_name` = 'Gabriel', `updated_at` = '2017-05-05 16:25:04' WHERE `suppliers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/supplier/show/1
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 1 LIMIT 1
  [1m[36m (33.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-05 18:25:04 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:25:04', '2017-05-05 16:25:04')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975 AND `cart_items`.`article_id` = 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190975, '2017-05-05 16:25:04', '2017-05-05 16:25:04')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 40ms (ActiveRecord: 4.0ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-05 18:25:04 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190975 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (27.7ms)
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (1.7ms)
  Rendered cart/_cart.html.erb (7.7ms)
Completed 200 OK in 49ms (Views: 40.6ms | ActiveRecord: 1.7ms)
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-05 18:25:04 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190975"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-05 16:25:04', '2017-05-05 16:25:04')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190968, '2017-05-05 16:25:04', '2017-05-05 16:25:04')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-05 16:25:05' WHERE `orders`.`id` = 980190968[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190968
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 974ms (ActiveRecord: 4.2ms)
  [1m[35m (103.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:25:06', '2017-05-05 16:25:06')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190976 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 2.3ms)
  [1m[35m (38.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-05-05 16:25:06', '2017-05-05 16:25:06')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-05-05 16:25:06', '2017-05-05 16:25:06')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#new as HTML
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers`[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (23.8ms)
  Rendered admin/article/new.html.erb within layouts/application (27.8ms)
Completed 200 OK in 37ms (Views: 34.8ms | ActiveRecord: 0.8ms)
Started POST "/admin/article/create" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#create as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma", "manufacturer_id"=>"8", "supplier_ids"=>["8"], "manufactured_at"=>"2017-05-05 18:25:06 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma", "size"=>"40", "price"=>"45.5"}}
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-X' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `price`, `size`, `created_at`, `updated_at`) VALUES ('Zapatillas Joma', 8, '2017-05-05 16:25:06', '123-123-123-X', 'Nuevas zapatillas Joma', 45.5, 40, '2017-05-05 16:25:06', '2017-05-05 16:25:06')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (8, 18, '2017-05-05 16:25:06', '2017-05-05 16:25:06')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article
Completed 302 Found in 18ms (ActiveRecord: 2.6ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (20.5ms)
Completed 200 OK in 25ms (Views: 21.8ms | ActiveRecord: 1.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
Started GET "/admin/article/index/?page=3" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 10
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  Rendered admin/article/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.7ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Zapatillas Joma' LIMIT 1
Started GET "/admin/article/index" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (18.2ms)
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 1.5ms)
Started GET "/admin/article/show/18" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 18 LIMIT 1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 18
  Rendered admin/article/show.html.erb within layouts/application (4.2ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 1.1ms)
Started GET "/admin/article/edit?id=18" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#edit as HTML
  Parameters: {"id"=>"18"}
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 18 LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers`
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 18[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  Rendered admin/article/_form.html.erb (7.5ms)
  Rendered admin/article/edit.html.erb within layouts/application (8.8ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 1.8ms)
Started POST "/admin/article/update?id=18" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#update as HTML
  Parameters: {"article"=>{"title"=>"Zapatillas Joma - año 2017", "manufacturer_id"=>"8", "supplier_ids"=>["8"], "manufactured_at"=>"2017-05-05 18:25:06 +0200", "reference"=>"123-123-123-X", "blurb"=>"Nuevas zapatillas Joma. Edición Limitada", "size"=>"42", "price"=>"50"}, "id"=>"18"}
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` = 8 LIMIT 1[0m
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 18
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` WHERE (`articles`.`reference` = BINARY '123-123-123-X' AND `articles`.`id` != 18) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `articles` SET `title` = 'Zapatillas Joma - año 2017', `blurb` = 'Nuevas zapatillas Joma. Edición Limitada', `price` = 50.0, `size` = 42, `updated_at` = '2017-05-05 16:25:06' WHERE `articles`.`id` = 18[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/show/18
Completed 302 Found in 12ms (ActiveRecord: 4.6ms)
Started GET "/admin/article/show/18" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 18 LIMIT 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 8 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 18[0m
  Rendered admin/article/show.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 1.7ms)
Started POST "/admin/article/destroy?id=18" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#destroy as HTML
  Parameters: {"id"=>"18"}
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 18 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` = 18
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `articles` WHERE `articles`.`id` = 18[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article
Completed 302 Found in 5ms (ActiveRecord: 2.4ms)
Started GET "/admin/article" for 127.0.0.1 at 2017-05-05 18:25:06 +0200
Processing by Admin::ArticleController#index as HTML
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `articles`
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m  [["id", 2]]
  Rendered admin/article/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 2.2ms)
  [1m[35m (38.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:25:06', '2017-05-05 16:25:06')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190977 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190977, '2017-05-05 16:25:06', '2017-05-05 16:25:06')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 3.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190977 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190977[0m
  [1m[35m (32.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:25:06', '2017-05-05 16:25:06')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190978 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190978, '2017-05-05 16:25:06', '2017-05-05 16:25:06')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 4.4ms)
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190978 LIMIT 1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190978
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190978 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190978 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190970 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190970
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 3.7ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190978 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190978
  [1m[36m (43.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-05 16:25:06', '2017-05-05 16:25:06')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190979 AND `cart_items`.`article_id` = 4
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190979, '2017-05-05 16:25:06', '2017-05-05 16:25:06')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 22ms (ActiveRecord: 5.6ms)
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190979 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190979[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190979 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190979[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190971[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190979 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190979
  [1m[36m (33.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (30.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (1706.4ms)[0m  [1mDROP DATABASE IF EXISTS `eshop6_test`[0m
  [1m[35m (0.5ms)[0m  CREATE DATABASE `eshop6_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (284.8ms)[0m  [1mCREATE TABLE `articles` (`id` int(11) auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `manufacturer_id` int(11) NOT NULL, `manufactured_at` datetime, `reference` varchar(13), `blurb` text, `size` int(11), `price` float(24), `created_at` datetime, `updated_at` datetime, `cover_image_file_name` varchar(255), `cover_image_content_type` varchar(255), `cover_image_file_size` int(11), `cover_image_updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (298.0ms)[0m  CREATE  INDEX `fk_articles_manufacturers` USING btree ON `articles` (`manufacturer_id`) 
  [1m[36m (320.3ms)[0m  [1mCREATE TABLE `articles_suppliers` (`id` int(11) auto_increment PRIMARY KEY, `supplier_id` int(11) NOT NULL, `article_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (253.5ms)[0m  CREATE  INDEX `fk_articles_suppliers_articles` USING btree ON `articles_suppliers` (`article_id`) 
  [1m[36m (265.6ms)[0m  [1mCREATE  INDEX `fk_articles_suppliers_suppliers` USING btree ON `articles_suppliers` (`supplier_id`) [0m
  [1m[35m (321.9ms)[0m  CREATE TABLE `cart_items` (`id` int(11) auto_increment PRIMARY KEY, `article_id` int(11), `cart_id` int(11), `price` float(24), `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (279.4ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (276.2ms)[0m  CREATE TABLE `manufacturers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (309.4ms)[0m  [1mCREATE TABLE `order_items` (`id` int(11) auto_increment PRIMARY KEY, `article_id` int(11), `order_id` int(11), `price` float(24), `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (275.8ms)[0m  CREATE  INDEX `fk_order_items_orders` USING btree ON `order_items` (`order_id`) 
  [1m[36m (309.9ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) auto_increment PRIMARY KEY, `email` varchar(255), `phone_number` varchar(255), `ship_to_first_name` varchar(255), `ship_to_last_name` varchar(255), `ship_to_address` varchar(255), `ship_to_city` varchar(255), `ship_to_postal_code` varchar(255), `ship_to_country_code` varchar(255), `customer_ip` varchar(255), `status` varchar(255), `error_message` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (298.3ms)[0m  CREATE TABLE `suppliers` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255) NOT NULL, `last_name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (276.5ms)[0m  [1mCREATE TABLE `user_sessions` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (287.5ms)[0m  CREATE TABLE `users` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `login` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `crypted_password` varchar(255) NOT NULL, `password_salt` varchar(255) NOT NULL, `persistence_token` varchar(255) NOT NULL, `perishable_token` varchar(255) NOT NULL, `login_count` int(11) DEFAULT 0 NOT NULL, `failed_login_count` int(11) DEFAULT 0 NOT NULL, `last_request_at` datetime, `current_login_at` datetime, `last_login_at` datetime, `current_login_ip` varchar(255), `last_login_ip` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (746.6ms)[0m  [1mALTER TABLE `articles` ADD CONSTRAINT `fk_articles_manufacturers`
FOREIGN KEY (`manufacturer_id`)
  REFERENCES `manufacturers` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (825.8ms)[0m  ALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_articles`
FOREIGN KEY (`article_id`)
  REFERENCES `articles` (`id`)
 ON DELETE CASCADE
  [1m[36m (716.6ms)[0m  [1mALTER TABLE `articles_suppliers` ADD CONSTRAINT `fk_articles_suppliers_suppliers`
FOREIGN KEY (`supplier_id`)
  REFERENCES `suppliers` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (836.1ms)[0m  ALTER TABLE `order_items` ADD CONSTRAINT `fk_order_items_orders`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
 ON DELETE CASCADE
  [1m[36m (273.9ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (465.9ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (31.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170509090942')
  [1m[36m (33.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170502091320')[0m
  [1m[35m (33.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130630150644')
  [1m[36m (33.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170502091305')[0m
  [1m[35m (33.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170321100602')
  [1m[36m (34.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170427122245')[0m
  [1m[35m (45.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170328092851')
  [1m[36m (44.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170509090901')[0m
  [1m[35m (44.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20170427122257')
  [1m[36m (44.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20170404092937')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.6ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `order_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:25:49', '2017-05-09 10:25:49', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:25:49', '2017-05-09 10:25:49', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:25:49', '2017-05-09 10:25:49', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:25:49', '2017-05-09 10:25:49', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:25:49', '2017-05-09 10:25:49', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:25:49', '2017-05-09 10:25:49', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 10:25:49', '2017-05-09 10:25:49')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 10:25:49', '2017-05-09 10:25:49')[0m
  [1m[35mFixture Insert (85.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 10:25:49', '2017-05-09 10:25:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 10:25:49', '2017-05-09 10:25:49')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 10:25:49', '2017-05-09 10:25:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 10:25:49', '2017-05-09 10:25:49')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 10:25:49', '2017-05-09 10:25:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 10:25:49', '2017-05-09 10:25:49')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 10:25:49', '2017-05-09 10:25:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 10:25:49', '2017-05-09 10:25:49')[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles_suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:25:49', '2017-05-09 12:25:49', 1, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:25:49', '2017-05-09 12:25:49', 2, 1)
  [1m[36mFixture Insert (85.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:25:49', '2017-05-09 12:25:49', 3, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:25:49', '2017-05-09 12:25:49', 4, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:25:49', '2017-05-09 12:25:49', 5, 1)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:25:50', '2017-05-09 10:25:50', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:25:50', '2017-05-09 10:25:50', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 10:25:50', '2017-05-09 10:25:50')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 10:25:50', '2017-05-09 10:25:50')[0m
  [1m[35mFixture Delete (89.5ms)[0m  DELETE FROM `user_sessions`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `user_sessions` () VALUES ()[0m
  [1m[35m (42.3ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:26:28', '2017-05-09 10:26:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:26:28', '2017-05-09 10:26:28', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:26:28', '2017-05-09 10:26:28', 980190962)[0m
  [1m[35mFixture Insert (1.9ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:26:28', '2017-05-09 10:26:28', 298486374)
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:26:28', '2017-05-09 10:26:28', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:26:28', '2017-05-09 10:26:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 10:26:28', '2017-05-09 10:26:28')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 10:26:28', '2017-05-09 10:26:28')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 10:26:28', '2017-05-09 10:26:28')[0m
  [1m[35mFixture Insert (88.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 10:26:28', '2017-05-09 10:26:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 10:26:28', '2017-05-09 10:26:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 10:26:28', '2017-05-09 10:26:28')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 10:26:28', '2017-05-09 10:26:28')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 10:26:28', '2017-05-09 10:26:28')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 10:26:28', '2017-05-09 10:26:28')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 10:26:28', '2017-05-09 10:26:28')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:26:28', '2017-05-09 12:26:28', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:26:28', '2017-05-09 12:26:28', 2, 1)[0m
  [1m[35mFixture Insert (90.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:26:28', '2017-05-09 12:26:28', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:26:28', '2017-05-09 12:26:28', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:26:28', '2017-05-09 12:26:28', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:26:29', '2017-05-09 10:26:29', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:26:29', '2017-05-09 10:26:29', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 10:26:29', '2017-05-09 10:26:29')[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 10:26:29', '2017-05-09 10:26:29')
  [1m[36mFixture Delete (81.7ms)[0m  [1mDELETE FROM `user_sessions`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `user_sessions` () VALUES ()
  [1m[36m (42.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:27:11', '2017-05-09 10:27:11', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:27:11', '2017-05-09 10:27:11', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:27:11', '2017-05-09 10:27:11', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:27:11', '2017-05-09 10:27:11', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:27:11', '2017-05-09 10:27:11', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:27:11', '2017-05-09 10:27:11', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 10:27:11', '2017-05-09 10:27:11')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 10:27:11', '2017-05-09 10:27:11')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 10:27:11', '2017-05-09 10:27:11')[0m
  [1m[35mFixture Insert (73.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 10:27:11', '2017-05-09 10:27:11')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 10:27:11', '2017-05-09 10:27:11')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 10:27:11', '2017-05-09 10:27:11')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 10:27:11', '2017-05-09 10:27:11')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 10:27:11', '2017-05-09 10:27:11')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 10:27:11', '2017-05-09 10:27:11')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 10:27:11', '2017-05-09 10:27:11')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:27:11', '2017-05-09 12:27:11', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:27:11', '2017-05-09 12:27:11', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:27:11', '2017-05-09 12:27:11', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:27:11', '2017-05-09 12:27:11', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:27:11', '2017-05-09 12:27:11', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:27:11', '2017-05-09 10:27:11', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:27:11', '2017-05-09 10:27:11', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 10:27:11', '2017-05-09 10:27:11')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 10:27:11', '2017-05-09 10:27:11')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (1.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-09 10:27:11', '2017-05-09 10:27:11')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-09 10:27:11', '2017-05-09 10:27:11')[0m
  [1m[35m (71.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-09 12:27:11 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.8ms)
  Rendered user/new.html.erb within layouts/application (18.9ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 485ms (Views: 428.8ms | ActiveRecord: 1.5ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-09 12:27:12 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (9.6ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'c1fb948dd7e0037e7636c0104220cba642890c2d502a533794fbcb175f1638cd242f079cef2e2edd5702b2ac016b446750033cb24b3b9741120eeb82d5499e67' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'Ifuab5hGRDIgaJXArnla', '400$8$1e$3990c5df7c5e0d2f$03a8ed7210852869e17fdb289002954268406d19afd8bd2eab88fc3aeebd83f1', 'c1fb948dd7e0037e7636c0104220cba642890c2d502a533794fbcb175f1638cd242f079cef2e2edd5702b2ac016b446750033cb24b3b9741120eeb82d5499e67', '2haqehyFBodUxOd0Ydqm', 1, '2017-05-09 10:27:12', '127.0.0.1', '2017-05-09 10:27:12', '2017-05-09 10:27:12', '2017-05-09 10:27:12')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 299ms (ActiveRecord: 13.4ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-09 12:27:12 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = 'c1fb948dd7e0037e7636c0104220cba642890c2d502a533794fbcb175f1638cd242f079cef2e2edd5702b2ac016b446750033cb24b3b9741120eeb82d5499e67' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-09 10:27:12', `perishable_token` = 'tQbe3o4INd1L51YWGDq', `updated_at` = '2017-05-09 10:27:12' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (2.9ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 63ms (Views: 9.2ms | ActiveRecord: 9.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35m (32.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (68.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:28', '2017-05-09 10:28:28', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:28', '2017-05-09 10:28:28', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:28', '2017-05-09 10:28:28', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:28', '2017-05-09 10:28:28', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:28', '2017-05-09 10:28:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:28', '2017-05-09 10:28:28', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (1.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 10:28:28', '2017-05-09 10:28:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 10:28:28', '2017-05-09 10:28:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 10:28:28', '2017-05-09 10:28:28')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 10:28:28', '2017-05-09 10:28:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 10:28:28', '2017-05-09 10:28:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 10:28:28', '2017-05-09 10:28:28')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 10:28:28', '2017-05-09 10:28:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 10:28:28', '2017-05-09 10:28:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 10:28:28', '2017-05-09 10:28:28')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 10:28:28', '2017-05-09 10:28:28')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:28:28', '2017-05-09 12:28:28', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:28:28', '2017-05-09 12:28:28', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:28:28', '2017-05-09 12:28:28', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:28:28', '2017-05-09 12:28:28', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:28:28', '2017-05-09 12:28:28', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:29', '2017-05-09 10:28:29', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:29', '2017-05-09 10:28:29', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 10:28:29', '2017-05-09 10:28:29')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 10:28:29', '2017-05-09 10:28:29')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-09 10:28:29', '2017-05-09 10:28:29')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-09 10:28:29', '2017-05-09 10:28:29')[0m
  [1m[35m (67.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-09 12:28:29 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.4ms)
  Rendered user/new.html.erb within layouts/application (16.9ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 204ms (Views: 159.6ms | ActiveRecord: 2.5ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-09 12:28:29 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '911eafcfc0669ee30b5396515ccfcd40f7e43d7bf064e9cab668a6b63ab6180c0247350c31297000a55453f3b9af6d3502aa7ec5212b5007975bf9c121708bca' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'JbgLVcygnbGNJemE7Me', '400$8$38$69db5125612bec20$73c47fbea7c99b6a3734005706ec5ed9d23857780f45c6d9479695a03a57e3c2', '911eafcfc0669ee30b5396515ccfcd40f7e43d7bf064e9cab668a6b63ab6180c0247350c31297000a55453f3b9af6d3502aa7ec5212b5007975bf9c121708bca', '8Pmo3KgPIh7K9VNBCl', 1, '2017-05-09 10:28:29', '127.0.0.1', '2017-05-09 10:28:29', '2017-05-09 10:28:29', '2017-05-09 10:28:29')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 176ms (ActiveRecord: 2.9ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-09 12:28:29 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = '911eafcfc0669ee30b5396515ccfcd40f7e43d7bf064e9cab668a6b63ab6180c0247350c31297000a55453f3b9af6d3502aa7ec5212b5007975bf9c121708bca' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-09 10:28:29', `perishable_token` = 'kdayBghEkSPRHKks1e8', `updated_at` = '2017-05-09 10:28:29' WHERE `users`.`id` = 2[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 2.9ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=2" for 127.0.0.1 at 2017-05-09 12:28:29 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"2"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 10:28:29', `perishable_token` = 'Lj9Np3pZEm8AyBBjgkJt', `updated_at` = '2017-05-09 10:28:29' WHERE `users`.`id` = 2
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Started GET "/user/edit?id=2" for 127.0.0.1 at 2017-05-09 12:28:29 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"2"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 10:28:29', `perishable_token` = 'GiXqeMMZGniiZUwAvSQ', `updated_at` = '2017-05-09 10:28:29' WHERE `users`.`id` = 2
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.4ms)
  Rendered user/edit.html.erb within layouts/application (1.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.0ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-09 12:28:29 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-09 10:28:29', `perishable_token` = 'QLTNFYszLKbkLjc4l1', `updated_at` = '2017-05-09 10:28:29' WHERE `users`.`id` = 2[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY 'dad5f500b02ddbef03a202820f5c549b0a7b0cc70f5e955469481a3a3ca28e2223781333c26057dc4e082f029ee783b701c4db9f086634116a0eb001b78bb98f' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 2) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 2) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'alC6LHZ62Qspv6WyP2mQ', `crypted_password` = '400$8$38$f050e50d52273b85$7015c12a14e31531bfde5aa2bbe531e2b5a76c2488d915a87f2203657a16bce0', `persistence_token` = 'dad5f500b02ddbef03a202820f5c549b0a7b0cc70f5e955469481a3a3ca28e2223781333c26057dc4e082f029ee783b701c4db9f086634116a0eb001b78bb98f', `perishable_token` = 'qmYuiDlj65K55ORJ7j', `last_request_at` = '2017-05-09 10:28:29', `login_count` = 2, `last_login_at` = '2017-05-09 10:28:29', `current_login_at` = '2017-05-09 10:28:29', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-09 10:28:29' WHERE `users`.`id` = 2
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 148ms (ActiveRecord: 3.1ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-09 12:28:29 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 10:28:29', `perishable_token` = 'uh3e5wnp8tc2zAAXRlLY', `updated_at` = '2017-05-09 10:28:29' WHERE `users`.`id` = 2
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (41.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (64.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:57', '2017-05-09 10:28:57', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:57', '2017-05-09 10:28:57', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:57', '2017-05-09 10:28:57', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:57', '2017-05-09 10:28:57', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:57', '2017-05-09 10:28:57', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:57', '2017-05-09 10:28:57', 298486374)[0m
  [1m[35mFixture Delete (74.4ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 10:28:57', '2017-05-09 10:28:57')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 10:28:57', '2017-05-09 10:28:57')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 10:28:57', '2017-05-09 10:28:57')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 10:28:57', '2017-05-09 10:28:57')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 10:28:57', '2017-05-09 10:28:57')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 10:28:57', '2017-05-09 10:28:57')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 10:28:57', '2017-05-09 10:28:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 10:28:57', '2017-05-09 10:28:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 10:28:57', '2017-05-09 10:28:57')[0m
  [1m[35mFixture Insert (1.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 10:28:57', '2017-05-09 10:28:57')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:28:57', '2017-05-09 12:28:57', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:28:57', '2017-05-09 12:28:57', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:28:57', '2017-05-09 12:28:57', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:28:57', '2017-05-09 12:28:57', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:28:57', '2017-05-09 12:28:57', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:57', '2017-05-09 10:28:57', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:28:57', '2017-05-09 10:28:57', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 10:28:57', '2017-05-09 10:28:57')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 10:28:57', '2017-05-09 10:28:57')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-09 10:28:57', '2017-05-09 10:28:57')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-09 10:28:57', '2017-05-09 10:28:57')[0m
  [1m[35m (74.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-09 12:28:58 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.4ms)
  Rendered user/new.html.erb within layouts/application (16.2ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 201ms (Views: 157.3ms | ActiveRecord: 1.7ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-09 12:28:58 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'a074ca1a77b6c87511d87fc3a3117bb622ee9d6854dd36e215811408fbe1b59ab9af93f0943093a418baf5699efafab6bf4645d6d1f69bb81fbb1c0454d9edc5' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'vcKmP3Fu7JCr5PBnEplF', '400$8$3a$f0b4a73226756a4c$c6c27cb5ee55e4aa5411e885441a6df721e82fb62911065a3d43ba61cf2d0c40', 'a074ca1a77b6c87511d87fc3a3117bb622ee9d6854dd36e215811408fbe1b59ab9af93f0943093a418baf5699efafab6bf4645d6d1f69bb81fbb1c0454d9edc5', '106FZfNRki0zJJjEAic', 1, '2017-05-09 10:28:58', '127.0.0.1', '2017-05-09 10:28:58', '2017-05-09 10:28:58', '2017-05-09 10:28:58')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 180ms (ActiveRecord: 3.3ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-09 12:28:58 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = 'a074ca1a77b6c87511d87fc3a3117bb622ee9d6854dd36e215811408fbe1b59ab9af93f0943093a418baf5699efafab6bf4645d6d1f69bb81fbb1c0454d9edc5' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-09 10:28:58', `perishable_token` = 'un63pHLyQ0FXo9H3MMZ', `updated_at` = '2017-05-09 10:28:58' WHERE `users`.`id` = 3[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.9ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 2.9ms | ActiveRecord: 2.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=3" for 127.0.0.1 at 2017-05-09 12:28:58 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"3"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 10:28:58', `perishable_token` = 'Hx49GbsIv8ic1XfSmTiT', `updated_at` = '2017-05-09 10:28:58' WHERE `users`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 1.8ms | ActiveRecord: 1.6ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Started GET "/user/edit?id=3" for 127.0.0.1 at 2017-05-09 12:28:58 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"3"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 10:28:58', `perishable_token` = 'oNQzow90nklSPVVRCIJ', `updated_at` = '2017-05-09 10:28:58' WHERE `users`.`id` = 3
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.4ms)
  Rendered user/edit.html.erb within layouts/application (1.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 1.3ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-09 12:28:58 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-09 10:28:58', `perishable_token` = '6wabUFQ9WtObmVnFj4l', `updated_at` = '2017-05-09 10:28:58' WHERE `users`.`id` = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY '664969d51f136c64b30f75269f6e2366c12926e68f7b7fdb40cbc23cc651cc8a3a2db8e7b6983e69d00f2d9ae129c85e394e07f71942652816f37763b6ab4d87' AND `users`.`id` != 3) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 3) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 3) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 3) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'xyVsSLgjk8t4PjZJ79Gi', `crypted_password` = '400$8$38$753a262e810b825f$538881751f698543bf7cf4f5717d13d218e369feffb10e65cb04d9fd2c4a75bf', `persistence_token` = '664969d51f136c64b30f75269f6e2366c12926e68f7b7fdb40cbc23cc651cc8a3a2db8e7b6983e69d00f2d9ae129c85e394e07f71942652816f37763b6ab4d87', `perishable_token` = 'CkU0efUvHa0f0u4yYar', `last_request_at` = '2017-05-09 10:28:58', `login_count` = 2, `last_login_at` = '2017-05-09 10:28:58', `current_login_at` = '2017-05-09 10:28:58', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-09 10:28:58' WHERE `users`.`id` = 3
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 160ms (ActiveRecord: 5.2ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-09 12:28:58 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 10:28:58', `perishable_token` = 'wrIrupMCr3TBU1l9No5', `updated_at` = '2017-05-09 10:28:58' WHERE `users`.`id` = 3
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 1.8ms | ActiveRecord: 1.9ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (37.7ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (72.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:03', '2017-05-09 10:30:03', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:03', '2017-05-09 10:30:03', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:03', '2017-05-09 10:30:03', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:03', '2017-05-09 10:30:03', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:03', '2017-05-09 10:30:03', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:03', '2017-05-09 10:30:03', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 10:30:03', '2017-05-09 10:30:03')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 10:30:03', '2017-05-09 10:30:03')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 10:30:03', '2017-05-09 10:30:03')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 10:30:03', '2017-05-09 10:30:03')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 10:30:03', '2017-05-09 10:30:03')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 10:30:03', '2017-05-09 10:30:03')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 10:30:03', '2017-05-09 10:30:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 10:30:03', '2017-05-09 10:30:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 10:30:03', '2017-05-09 10:30:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 10:30:03', '2017-05-09 10:30:03')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:30:03', '2017-05-09 12:30:03', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:30:03', '2017-05-09 12:30:03', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:30:03', '2017-05-09 12:30:03', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:30:03', '2017-05-09 12:30:03', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:30:03', '2017-05-09 12:30:03', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:04', '2017-05-09 10:30:04', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:04', '2017-05-09 10:30:04', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 10:30:04', '2017-05-09 10:30:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 10:30:04', '2017-05-09 10:30:04')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-09 10:30:04', '2017-05-09 10:30:04')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-09 10:30:04', '2017-05-09 10:30:04')[0m
  [1m[35m (66.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'ccbc77f13ec7f2af9ce33f483062980d6b5d686d56e3343b7fecf00c50b5f1b202810773b6cc6484b26f1cd19fc5c6b52ff0157c0b1b1d4e20cb68a8425a6d36' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'LOlfUwuVn1vugbrcMBgc', '400$8$3a$5765fcafb3d5b2ea$56546863b9384cdeb3b4d00b72cce4fc643b39059de7c9a080b4487b3fcc9063', 'ccbc77f13ec7f2af9ce33f483062980d6b5d686d56e3343b7fecf00c50b5f1b202810773b6cc6484b26f1cd19fc5c6b52ff0157c0b1b1d4e20cb68a8425a6d36', '4gF5WyKyTpxoocnpz59f', '2017-05-09 10:30:04', '2017-05-09 10:30:04')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/book/new" for 127.0.0.1 at 2017-05-09 12:30:04 +0200
  [1m[35m (129.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '6dd14b68e4a72ffd94e4dcc742bf06d1e77362a879f7075b58e024749d6ac6c5fb619e19b52a398e3e1d26bdf97b680f2853b9b0f800feaf3efbbfd5bc06ce20' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'DzyGOFzXdYph1V29jqy', '400$8$16$4a181160d90a2b61$3ceddb7aa1926a24c547bd3f29d6f7e0f9f6e64c4e6eebf9236502f26f1751f7', '6dd14b68e4a72ffd94e4dcc742bf06d1e77362a879f7075b58e024749d6ac6c5fb619e19b52a398e3e1d26bdf97b680f2853b9b0f800feaf3efbbfd5bc06ce20', 'xnPSiTNe18FcX6xGMeI', '2017-05-09 10:30:04', '2017-05-09 10:30:04')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/book/new" for 127.0.0.1 at 2017-05-09 12:30:04 +0200
  [1m[36m (37.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (73.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:50', '2017-05-09 10:30:50', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:50', '2017-05-09 10:30:50', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:50', '2017-05-09 10:30:50', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:50', '2017-05-09 10:30:50', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:50', '2017-05-09 10:30:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:50', '2017-05-09 10:30:50', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 10:30:50', '2017-05-09 10:30:50')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 10:30:50', '2017-05-09 10:30:50')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 10:30:50', '2017-05-09 10:30:50')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 10:30:50', '2017-05-09 10:30:50')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 10:30:50', '2017-05-09 10:30:50')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 10:30:50', '2017-05-09 10:30:50')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 10:30:50', '2017-05-09 10:30:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 10:30:50', '2017-05-09 10:30:50')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 10:30:50', '2017-05-09 10:30:50')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 10:30:50', '2017-05-09 10:30:50')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:30:50', '2017-05-09 12:30:50', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:30:50', '2017-05-09 12:30:50', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:30:50', '2017-05-09 12:30:50', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:30:50', '2017-05-09 12:30:50', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:30:50', '2017-05-09 12:30:50', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:50', '2017-05-09 10:30:50', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:30:50', '2017-05-09 10:30:50', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 10:30:50', '2017-05-09 10:30:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 10:30:50', '2017-05-09 10:30:50')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-09 10:30:50', '2017-05-09 10:30:50')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-09 10:30:50', '2017-05-09 10:30:50')[0m
  [1m[35m (74.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '0ca2902dbab8874806d4c8790742a55d445e730d4d9cddc71bfeef1cfb27928407959e02e8e6ce728feb1c8240f9587aacf97fae5214f78fa173822e2973a639' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', '60vx3TUEht2YS4F109xt', '400$8$3a$356fbe65b8d6e505$8ecde768bf4637cbe9837affd572efb91ab561dfee9083570daea90dfc8bbf9d', '0ca2902dbab8874806d4c8790742a55d445e730d4d9cddc71bfeef1cfb27928407959e02e8e6ce728feb1c8240f9587aacf97fae5214f78fa173822e2973a639', 'J7TZUYoSGkhvY9BWX6w', '2017-05-09 10:30:51', '2017-05-09 10:30:51')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-09 12:30:51 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-09 12:30:51 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `login_count` = 1, `current_login_at` = '2017-05-09 10:30:51', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-09 10:30:51', `perishable_token` = '0fgpd2dG1LxRvT8vsN', `updated_at` = '2017-05-09 10:30:51' WHERE `users`.`id` = 6
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 147ms (ActiveRecord: 1.6ms)
  [1m[35m (41.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'a813eb9b9e53985b42af24130fea17f9e03d644ba9512f57a95e5c0db861543dc56c05c361969f212f3c9775c7e57f5a872049c9809faf4beb4c79e95739f918' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', '7cz0gWolI3x32XmWH5jk', '400$8$1a$ccf07c01968a520a$aff7517942e8bbba4f51164ca7e4043d56306bbd4298dfc62989290af6f4d416', 'a813eb9b9e53985b42af24130fea17f9e03d644ba9512f57a95e5c0db861543dc56c05c361969f212f3c9775c7e57f5a872049c9809faf4beb4c79e95739f918', 'UyMsa03HZXmzijotAga', '2017-05-09 10:30:51', '2017-05-09 10:30:51')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-09 12:30:51 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-09 12:30:51 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (5.0ms)
  Rendered user_sessions/new.html.erb within layouts/application (9.0ms)
ApplicationController::current_user
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 159ms (Views: 155.8ms | ActiveRecord: 1.1ms)
  [1m[36m (43.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (72.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:32', '2017-05-09 10:32:32', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:32', '2017-05-09 10:32:32', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:32', '2017-05-09 10:32:32', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:32', '2017-05-09 10:32:32', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:32', '2017-05-09 10:32:32', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:32', '2017-05-09 10:32:32', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 10:32:33', '2017-05-09 10:32:33')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 10:32:33', '2017-05-09 10:32:33')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 10:32:33', '2017-05-09 10:32:33')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 10:32:33', '2017-05-09 10:32:33')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 10:32:33', '2017-05-09 10:32:33')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 10:32:33', '2017-05-09 10:32:33')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 10:32:33', '2017-05-09 10:32:33')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 10:32:33', '2017-05-09 10:32:33')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 10:32:33', '2017-05-09 10:32:33')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 10:32:33', '2017-05-09 10:32:33')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:32:32', '2017-05-09 12:32:32', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:32:32', '2017-05-09 12:32:32', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:32:32', '2017-05-09 12:32:32', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:32:32', '2017-05-09 12:32:32', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:32:32', '2017-05-09 12:32:32', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:33', '2017-05-09 10:32:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:33', '2017-05-09 10:32:33', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 10:32:33', '2017-05-09 10:32:33')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 10:32:33', '2017-05-09 10:32:33')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-09 10:32:33', '2017-05-09 10:32:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-09 10:32:33', '2017-05-09 10:32:33')[0m
  [1m[35m (64.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-09 12:32:33 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.5ms)
  Rendered user/new.html.erb within layouts/application (17.2ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 200ms (Views: 158.4ms | ActiveRecord: 1.4ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-09 12:32:33 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '6e2df638c8d45e3a2e5d0247fde5457d0d2ce3decf758d2368e0e96d5c77b56bfed0fc08cb9ab9d5b63ab61757b6ceb5c4bf49f004c0ad5478e659b9c0c5d0b5' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'j6A9kVIZxhtAnW4RJSl', '400$8$39$5417de93906a1504$2544d94162e1db247afd59776d586b3cb7229c595f830dcd7d74a451bec2a2ef', '6e2df638c8d45e3a2e5d0247fde5457d0d2ce3decf758d2368e0e96d5c77b56bfed0fc08cb9ab9d5b63ab61757b6ceb5c4bf49f004c0ad5478e659b9c0c5d0b5', 'NjuWLhMfFheOrligceNn', 1, '2017-05-09 10:32:33', '127.0.0.1', '2017-05-09 10:32:33', '2017-05-09 10:32:33', '2017-05-09 10:32:33')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 174ms (ActiveRecord: 2.0ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-09 12:32:33 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = '6e2df638c8d45e3a2e5d0247fde5457d0d2ce3decf758d2368e0e96d5c77b56bfed0fc08cb9ab9d5b63ab61757b6ceb5c4bf49f004c0ad5478e659b9c0c5d0b5' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-09 10:32:33', `perishable_token` = 'klc2yXc65B2gYCY8njcp', `updated_at` = '2017-05-09 10:32:33' WHERE `users`.`id` = 8[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.9ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 2.9ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=8" for 127.0.0.1 at 2017-05-09 12:32:33 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"8"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 10:32:33', `perishable_token` = 'RujLSTmio2pvc7gLyjmL', `updated_at` = '2017-05-09 10:32:33' WHERE `users`.`id` = 8
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
Started GET "/user/edit?id=8" for 127.0.0.1 at 2017-05-09 12:32:33 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"8"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 10:32:33', `perishable_token` = '9DzqrELp1HDtyyUTyLwr', `updated_at` = '2017-05-09 10:32:33' WHERE `users`.`id` = 8
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.4ms)
  Rendered user/edit.html.erb within layouts/application (1.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 1.0ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-09 12:32:33 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-09 10:32:33', `perishable_token` = 'zex82JgHrdQc14FIDmtE', `updated_at` = '2017-05-09 10:32:33' WHERE `users`.`id` = 8[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY '948619fc7c8bd077fe66c7bdba470868f9fe04cec24d39b4abf96566aaba169c391dfd857a6a0a2a24d9c43c67afb180040e4b645aa1c1137d7cb198f4c9d1ae' AND `users`.`id` != 8) LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 8) LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 8) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 8) LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'gnmzqHF72luwbK81tc', `crypted_password` = '400$8$39$32dd1b50423adc93$fac2fc959f66e54f5e9d869b735d4f3c62ad4e9cfe79035f47e76dce3eda9778', `persistence_token` = '948619fc7c8bd077fe66c7bdba470868f9fe04cec24d39b4abf96566aaba169c391dfd857a6a0a2a24d9c43c67afb180040e4b645aa1c1137d7cb198f4c9d1ae', `perishable_token` = 'XM2wzgqwy82Ah0wuUfc', `last_request_at` = '2017-05-09 10:32:33', `login_count` = 2, `last_login_at` = '2017-05-09 10:32:33', `current_login_at` = '2017-05-09 10:32:33', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-09 10:32:33' WHERE `users`.`id` = 8
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 154ms (ActiveRecord: 6.5ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-09 12:32:33 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 10:32:33', `perishable_token` = 'c0KMYfQgFX3GtvKgTaSM', `updated_at` = '2017-05-09 10:32:33' WHERE `users`.`id` = 8
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (33.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:40', '2017-05-09 10:32:40', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:40', '2017-05-09 10:32:40', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:40', '2017-05-09 10:32:40', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:40', '2017-05-09 10:32:40', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:40', '2017-05-09 10:32:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:40', '2017-05-09 10:32:40', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 10:32:40', '2017-05-09 10:32:40')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 10:32:40', '2017-05-09 10:32:40')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 10:32:40', '2017-05-09 10:32:40')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 10:32:40', '2017-05-09 10:32:40')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 10:32:40', '2017-05-09 10:32:40')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 10:32:40', '2017-05-09 10:32:40')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 10:32:40', '2017-05-09 10:32:40')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 10:32:40', '2017-05-09 10:32:40')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 10:32:40', '2017-05-09 10:32:40')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 10:32:40', '2017-05-09 10:32:40')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:32:40', '2017-05-09 12:32:40', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:32:40', '2017-05-09 12:32:40', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:32:40', '2017-05-09 12:32:40', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:32:40', '2017-05-09 12:32:40', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 12:32:40', '2017-05-09 12:32:40', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:40', '2017-05-09 10:32:40', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 10:32:40', '2017-05-09 10:32:40', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 10:32:40', '2017-05-09 10:32:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 10:32:40', '2017-05-09 10:32:40')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-09 10:32:40', '2017-05-09 10:32:40')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-09 10:32:40', '2017-05-09 10:32:40')[0m
  [1m[35m (48.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'dd2779a3579e27d8c9191933c187c4da38e3461b9e8b0f0e021778f539e09af0c367f3a0b89abc4f1398e094bce78615e249ac0c5eec95c88d2874a0ec77208d' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'cz8cOodngZ9QN4yST0si', '400$8$26$9a11d1f2befbe601$84682d63e0bb230d3b1b596188910603b463aeb26c873b3523bb6bbb5e52a2ac', 'dd2779a3579e27d8c9191933c187c4da38e3461b9e8b0f0e021778f539e09af0c367f3a0b89abc4f1398e094bce78615e249ac0c5eec95c88d2874a0ec77208d', 'Ak6e1APzLAsiceEuSWLc', '2017-05-09 10:32:41', '2017-05-09 10:32:41')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-09 12:32:41 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-09 12:32:41 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `users` SET `login_count` = 1, `current_login_at` = '2017-05-09 10:32:41', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-09 10:32:41', `perishable_token` = 'G5lAcqw5ODDM9kYvO83w', `updated_at` = '2017-05-09 10:32:41' WHERE `users`.`id` = 9
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 99ms (ActiveRecord: 2.0ms)
  [1m[35m (39.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '3fed696803b2bf95e281705e3de1edec54accebf5172057629328cbc945b2b93c48c8eeda3c3db674c989145cd906e8ab9ce1a19f5fa6a95ab474aef43a6eb9a' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'tru9UF5wbK6yB6JtbFY', '400$8$1a$ef0783fa248d0245$318043446aa57c61f1378ae3f4ba7d1c12511a193f68a84bbc113ae48bf670c4', '3fed696803b2bf95e281705e3de1edec54accebf5172057629328cbc945b2b93c48c8eeda3c3db674c989145cd906e8ab9ce1a19f5fa6a95ab474aef43a6eb9a', '2waZJ8BQ9GelamkpOz', '2017-05-09 10:32:41', '2017-05-09 10:32:41')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-09 12:32:41 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-09 12:32:41 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (5.0ms)
  Rendered user_sessions/new.html.erb within layouts/application (9.0ms)
ApplicationController::current_user
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 160ms (Views: 156.3ms | ActiveRecord: 1.6ms)
  [1m[36m (46.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (85.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (28.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (71.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:22:53', '2017-05-09 20:22:53', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:22:53', '2017-05-09 20:22:53', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:22:53', '2017-05-09 20:22:53', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:22:53', '2017-05-09 20:22:53', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:22:53', '2017-05-09 20:22:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:22:53', '2017-05-09 20:22:53', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 20:22:53', '2017-05-09 20:22:53')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 20:22:53', '2017-05-09 20:22:53')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 20:22:53', '2017-05-09 20:22:53')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 20:22:53', '2017-05-09 20:22:53')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 20:22:53', '2017-05-09 20:22:53')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 20:22:53', '2017-05-09 20:22:53')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 20:22:53', '2017-05-09 20:22:53')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 20:22:53', '2017-05-09 20:22:53')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 20:22:53', '2017-05-09 20:22:53')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 20:22:53', '2017-05-09 20:22:53')
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 22:22:53', '2017-05-09 22:22:53', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 22:22:53', '2017-05-09 22:22:53', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 22:22:53', '2017-05-09 22:22:53', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 22:22:53', '2017-05-09 22:22:53', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 22:22:53', '2017-05-09 22:22:53', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:22:54', '2017-05-09 20:22:54', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:22:54', '2017-05-09 20:22:54', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 20:22:54', '2017-05-09 20:22:54')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 20:22:54', '2017-05-09 20:22:54')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-09 20:22:54', '2017-05-09 20:22:54')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-09 20:22:54', '2017-05-09 20:22:54')[0m
  [1m[35m (63.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (11.6ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'b00fcbf1149e45c88ef4af1fd4a715e27e616c78b950653e1bad10909ca307534495b9966e77bb764153bf14aa37876437d1e017bf31c2c17cae2789b6944ee1' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'BvLmXLdk1YqA34cRwiF', '400$8$1f$c177a58b0ba9794f$f652f022756647f4256cd1a94ac1d7bbaabd2378259652034f41b4f647a1b363', 'b00fcbf1149e45c88ef4af1fd4a715e27e616c78b950653e1bad10909ca307534495b9966e77bb764153bf14aa37876437d1e017bf31c2c17cae2789b6944ee1', '4uDQz8bzLmVbEvRlSJF', '2017-05-09 20:22:54', '2017-05-09 20:22:54')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-09 22:22:54 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 30ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-09 22:22:54 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (19.9ms)
  Rendered user_sessions/new.html.erb within layouts/application (38.5ms)
ApplicationController::current_user
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 884ms (Views: 878.5ms | ActiveRecord: 1.4ms)
  [1m[35m (38.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '87d79ff0b83543736452249442957666f55789ec5e3f213b60eede140af3ceacf89c1369883ffb981084a123112e9e66853bea9273787bf859a35b38b4df6565' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'dRgZwyCEuX0BfA5pagoD', '400$8$10$0d350a5cbff66c19$44f77b51c19b0f7242cef0cc2bd33959239c9fde5b98c246aa8f9c8fef3fcd3c', '87d79ff0b83543736452249442957666f55789ec5e3f213b60eede140af3ceacf89c1369883ffb981084a123112e9e66853bea9273787bf859a35b38b4df6565', 'Cr61LTp9V64Ql1IrDF1', '2017-05-09 20:22:55', '2017-05-09 20:22:55')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-09 22:22:55 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-09 22:22:55 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (13.1ms)[0m  [1mUPDATE `users` SET `login_count` = 1, `current_login_at` = '2017-05-09 20:22:55', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-09 20:22:55', `perishable_token` = 'RNy5FeVogJYiiUrQIGyM', `updated_at` = '2017-05-09 20:22:55' WHERE `users`.`id` = 2[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 119ms (ActiveRecord: 14.4ms)
  [1m[36m (45.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:23:06', '2017-05-09 20:23:06', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:23:06', '2017-05-09 20:23:06', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:23:06', '2017-05-09 20:23:06', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:23:06', '2017-05-09 20:23:06', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:23:06', '2017-05-09 20:23:06', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:23:06', '2017-05-09 20:23:06', 298486374)[0m
  [1m[35mFixture Delete (69.7ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-09', 100.0, 40, '2017-05-09 20:23:06', '2017-05-09 20:23:06')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-09', 200.0, 40, '2017-05-09 20:23:06', '2017-05-09 20:23:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-09', 300.0, 40, '2017-05-09 20:23:06', '2017-05-09 20:23:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-09', 400.0, 40, '2017-05-09 20:23:06', '2017-05-09 20:23:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-09', 500.0, 40, '2017-05-09 20:23:06', '2017-05-09 20:23:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-09', 600.0, 40, '2017-05-09 20:23:06', '2017-05-09 20:23:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-09', 700.0, 40, '2017-05-09 20:23:06', '2017-05-09 20:23:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-09', 800.0, 40, '2017-05-09 20:23:06', '2017-05-09 20:23:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-09', 900.0, 40, '2017-05-09 20:23:06', '2017-05-09 20:23:06')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-09', 1000.0, 40, '2017-05-09 20:23:06', '2017-05-09 20:23:06')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 22:23:06', '2017-05-09 22:23:06', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 22:23:06', '2017-05-09 22:23:06', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 22:23:06', '2017-05-09 22:23:06', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 22:23:06', '2017-05-09 22:23:06', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-09 22:23:06', '2017-05-09 22:23:06', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:23:06', '2017-05-09 20:23:06', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-09 20:23:06', '2017-05-09 20:23:06', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-09 20:23:06', '2017-05-09 20:23:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-09 20:23:06', '2017-05-09 20:23:06')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-09 20:23:06', '2017-05-09 20:23:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-09 20:23:06', '2017-05-09 20:23:06')[0m
  [1m[35m (70.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-09 22:23:06 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.4ms)
  Rendered user/new.html.erb within layouts/application (16.8ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 202ms (Views: 158.1ms | ActiveRecord: 1.2ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-09 22:23:07 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'f0f9e39f4974420c3cb1fa89b03a0925ba0ff059f5ce52c219dd414ba910b90e13fb4212858bfa5bc2ac8ffc51c99fc317ee6014ac4cd074c9e6951c7e65e863' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', '0p4w5SeLrhlt2csqPiy', '400$8$3a$e72509bae94457f5$d3235dd5f257ecb5e9f6a7952dd34707600bba8a6166a2391b09f4d3bdbe2f94', 'f0f9e39f4974420c3cb1fa89b03a0925ba0ff059f5ce52c219dd414ba910b90e13fb4212858bfa5bc2ac8ffc51c99fc317ee6014ac4cd074c9e6951c7e65e863', 'dsvBiSQTNJqu60Ur9l', 1, '2017-05-09 20:23:07', '127.0.0.1', '2017-05-09 20:23:07', '2017-05-09 20:23:07', '2017-05-09 20:23:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 182ms (ActiveRecord: 3.6ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-09 22:23:07 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = 'f0f9e39f4974420c3cb1fa89b03a0925ba0ff059f5ce52c219dd414ba910b90e13fb4212858bfa5bc2ac8ffc51c99fc317ee6014ac4cd074c9e6951c7e65e863' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-09 20:23:07', `perishable_token` = '6NZZgdzpB2TLrk7rqht', `updated_at` = '2017-05-09 20:23:07' WHERE `users`.`id` = 3[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.9ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 3.0ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=3" for 127.0.0.1 at 2017-05-09 22:23:07 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"3"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 20:23:07', `perishable_token` = 'TWzh6RyG8nKa1EhyqDR', `updated_at` = '2017-05-09 20:23:07' WHERE `users`.`id` = 3
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 1.9ms | ActiveRecord: 1.9ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Started GET "/user/edit?id=3" for 127.0.0.1 at 2017-05-09 22:23:07 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"3"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 20:23:07', `perishable_token` = 'FoS5vAnHdZYsPJbWfV', `updated_at` = '2017-05-09 20:23:07' WHERE `users`.`id` = 3
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
  Rendered user/edit.html.erb within layouts/application (1.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 3.3ms | ActiveRecord: 2.3ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-09 22:23:07 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-09 20:23:07', `perishable_token` = 'j2uDJvYCvaGdqrYtE5TQ', `updated_at` = '2017-05-09 20:23:07' WHERE `users`.`id` = 3[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY 'abd455de603ea7609a423745c487c77dd3bd77f4b7802f93baabd57088a6d9bb0aa535fdec9d1a34b0ce5171e94f8c4ef370a13e817f68f9fcc2afa3d23083c5' AND `users`.`id` != 3) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 3) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 3) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 3) LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'i325NKKja45IUi6KGLOs', `crypted_password` = '400$8$35$f6ccb30e64032857$b576eb9ed2259186ac277062165a0c744f618e5542935bae835e770cb6550ccf', `persistence_token` = 'abd455de603ea7609a423745c487c77dd3bd77f4b7802f93baabd57088a6d9bb0aa535fdec9d1a34b0ce5171e94f8c4ef370a13e817f68f9fcc2afa3d23083c5', `perishable_token` = 'x8Vovcd8pajuCq5SMvRY', `last_request_at` = '2017-05-09 20:23:07', `login_count` = 2, `last_login_at` = '2017-05-09 20:23:07', `current_login_at` = '2017-05-09 20:23:07', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-09 20:23:07' WHERE `users`.`id` = 3
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 146ms (ActiveRecord: 6.1ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-09 22:23:07 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-09 20:23:07', `perishable_token` = '0qPmlxLXKebxsTMp6Zb', `updated_at` = '2017-05-09 20:23:07' WHERE `users`.`id` = 3
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 1.8ms | ActiveRecord: 2.0ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (40.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (39.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (12.8ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (76.6ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:45:14', '2017-05-16 09:45:14', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:45:14', '2017-05-16 09:45:14', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:45:14', '2017-05-16 09:45:14', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:45:14', '2017-05-16 09:45:14', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:45:14', '2017-05-16 09:45:14', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:45:14', '2017-05-16 09:45:14', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 09:45:14', '2017-05-16 09:45:14')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 09:45:14', '2017-05-16 09:45:14')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 09:45:14', '2017-05-16 09:45:14')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 09:45:14', '2017-05-16 09:45:14')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 09:45:14', '2017-05-16 09:45:14')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 09:45:14', '2017-05-16 09:45:14')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 09:45:14', '2017-05-16 09:45:14')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 09:45:14', '2017-05-16 09:45:14')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 09:45:14', '2017-05-16 09:45:14')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 09:45:14', '2017-05-16 09:45:14')
  [1m[36mFixture Delete (43.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:45:14', '2017-05-16 11:45:14', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:45:14', '2017-05-16 11:45:14', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:45:14', '2017-05-16 11:45:14', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:45:14', '2017-05-16 11:45:14', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:45:14', '2017-05-16 11:45:14', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:45:14', '2017-05-16 09:45:14', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:45:14', '2017-05-16 09:45:14', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 09:45:14', '2017-05-16 09:45:14')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 09:45:14', '2017-05-16 09:45:14')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 09:45:14', '2017-05-16 09:45:14')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 09:45:14', '2017-05-16 09:45:14')[0m
  [1m[35m (95.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-16 11:45:14 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 09:45:14', '2017-05-16 09:45:14')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.6ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (95.8ms)
  Rendered catalog/index.html.erb within layouts/application (106.8ms)
ApplicationController::current_user
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (6.8ms)
Completed 200 OK in 2609ms (Views: 2524.1ms | ActiveRecord: 32.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-16 11:45:17 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (20.5ms)
  Rendered catalog/index.html.erb within layouts/application (21.1ms)
ApplicationController::current_user
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (1.5ms)
Completed 200 OK in 31ms (Views: 20.9ms | ActiveRecord: 5.5ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.9ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-16 11:45:17 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (15.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (42.7ms)
ApplicationController::current_user
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 51ms (Views: 30.9ms | ActiveRecord: 17.7ms)
  [1m[35mSupplier Load (0.9ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-16 11:45:17 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.7ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (15.8ms)
  Rendered catalog/latest.html.erb within layouts/application (16.7ms)
ApplicationController::current_user
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (2.1ms)
Completed 200 OK in 28ms (Views: 20.9ms | ActiveRecord: 3.8ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-16 11:45:17 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (15.4ms)
Completed 200 OK in 20ms (Views: 14.8ms | ActiveRecord: 2.4ms)
  [1m[35m (43.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (123.6ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:47:33', '2017-05-16 09:47:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:47:33', '2017-05-16 09:47:33', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:47:34', '2017-05-16 09:47:34', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:47:34', '2017-05-16 09:47:34', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:47:34', '2017-05-16 09:47:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:47:34', '2017-05-16 09:47:34', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 09:47:34', '2017-05-16 09:47:34')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 09:47:34', '2017-05-16 09:47:34')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 09:47:34', '2017-05-16 09:47:34')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 09:47:34', '2017-05-16 09:47:34')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 09:47:34', '2017-05-16 09:47:34')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 09:47:34', '2017-05-16 09:47:34')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 09:47:34', '2017-05-16 09:47:34')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 09:47:34', '2017-05-16 09:47:34')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 09:47:34', '2017-05-16 09:47:34')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 09:47:34', '2017-05-16 09:47:34')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:47:33', '2017-05-16 11:47:33', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:47:33', '2017-05-16 11:47:33', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:47:33', '2017-05-16 11:47:33', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:47:33', '2017-05-16 11:47:33', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:47:33', '2017-05-16 11:47:33', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:47:34', '2017-05-16 09:47:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:47:34', '2017-05-16 09:47:34', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 09:47:34', '2017-05-16 09:47:34')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 09:47:34', '2017-05-16 09:47:34')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 09:47:34', '2017-05-16 09:47:34')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 09:47:34', '2017-05-16 09:47:34')[0m
  [1m[35m (86.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-16 11:47:34 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 09:47:34', '2017-05-16 09:47:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (53.2ms)
  Rendered catalog/index.html.erb within layouts/application (58.0ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  Rendered cart/_cart.html.erb (3.5ms)
Completed 200 OK in 245ms (Views: 209.2ms | ActiveRecord: 5.2ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-16 11:47:34 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (14.1ms)
  Rendered catalog/index.html.erb within layouts/application (14.5ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  Rendered cart/_cart.html.erb (0.9ms)
Completed 200 OK in 22ms (Views: 15.5ms | ActiveRecord: 2.2ms)
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-16 11:47:34 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (6.9ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 1.1ms)
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-16 11:47:34 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.4ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (7.2ms)
  Rendered catalog/latest.html.erb within layouts/application (7.7ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 13ms (Views: 9.3ms | ActiveRecord: 2.3ms)
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-16 11:47:34 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (7.5ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 1.5ms)
  [1m[35m (90.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (72.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:53:02', '2017-05-16 09:53:02', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:53:02', '2017-05-16 09:53:02', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:53:02', '2017-05-16 09:53:02', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:53:02', '2017-05-16 09:53:02', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:53:02', '2017-05-16 09:53:02', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:53:02', '2017-05-16 09:53:02', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 09:53:02', '2017-05-16 09:53:02')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 09:53:02', '2017-05-16 09:53:02')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 09:53:02', '2017-05-16 09:53:02')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 09:53:02', '2017-05-16 09:53:02')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 09:53:02', '2017-05-16 09:53:02')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 09:53:02', '2017-05-16 09:53:02')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 09:53:02', '2017-05-16 09:53:02')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 09:53:02', '2017-05-16 09:53:02')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 09:53:02', '2017-05-16 09:53:02')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 09:53:02', '2017-05-16 09:53:02')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:53:02', '2017-05-16 11:53:02', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:53:02', '2017-05-16 11:53:02', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:53:02', '2017-05-16 11:53:02', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:53:02', '2017-05-16 11:53:02', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:53:02', '2017-05-16 11:53:02', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:53:02', '2017-05-16 09:53:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:53:02', '2017-05-16 09:53:02', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 09:53:02', '2017-05-16 09:53:02')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 09:53:02', '2017-05-16 09:53:02')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 09:53:02', '2017-05-16 09:53:02')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 09:53:02', '2017-05-16 09:53:02')[0m
  [1m[35m (65.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-16 11:53:03 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 09:53:03', '2017-05-16 09:53:03')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.7ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (54.9ms)
  Rendered catalog/index.html.erb within layouts/application (59.2ms)
ApplicationController::current_user
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965[0m
  Rendered cart/_cart.html.erb (4.0ms)
Completed 200 OK in 250ms (Views: 208.8ms | ActiveRecord: 8.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-16 11:53:03 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (16.5ms)
  Rendered catalog/index.html.erb within layouts/application (16.9ms)
ApplicationController::current_user
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965[0m
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 25ms (Views: 15.8ms | ActiveRecord: 5.5ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-16 11:53:03 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.7ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 2.5ms)
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-16 11:53:03 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (7.4ms)
  Rendered catalog/latest.html.erb within layouts/application (7.8ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 2.4ms)
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-16 11:53:03 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (7.1ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.9ms)
  [1m[35m (42.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (89.7ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:08', '2017-05-16 09:55:08', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:08', '2017-05-16 09:55:08', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:08', '2017-05-16 09:55:08', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:08', '2017-05-16 09:55:08', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:08', '2017-05-16 09:55:08', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:08', '2017-05-16 09:55:08', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 09:55:08', '2017-05-16 09:55:08')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 09:55:08', '2017-05-16 09:55:08')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 09:55:08', '2017-05-16 09:55:08')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 09:55:08', '2017-05-16 09:55:08')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 09:55:08', '2017-05-16 09:55:08')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 09:55:08', '2017-05-16 09:55:08')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 09:55:08', '2017-05-16 09:55:08')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 09:55:08', '2017-05-16 09:55:08')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 09:55:08', '2017-05-16 09:55:08')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 09:55:08', '2017-05-16 09:55:08')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:55:08', '2017-05-16 11:55:08', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:55:08', '2017-05-16 11:55:08', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:55:08', '2017-05-16 11:55:08', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:55:08', '2017-05-16 11:55:08', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:55:08', '2017-05-16 11:55:08', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:08', '2017-05-16 09:55:08', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:08', '2017-05-16 09:55:08', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 09:55:08', '2017-05-16 09:55:08')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 09:55:08', '2017-05-16 09:55:08')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 09:55:08', '2017-05-16 09:55:08')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 09:55:08', '2017-05-16 09:55:08')[0m
  [1m[35m (69.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-16 11:55:08 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 09:55:08', '2017-05-16 09:55:08')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.4ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (52.9ms)
  Rendered catalog/index.html.erb within layouts/application (57.5ms)
ApplicationController::current_user
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  Rendered cart/_cart.html.erb (4.1ms)
Completed 200 OK in 275ms (Views: 215.1ms | ActiveRecord: 5.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-16 11:55:09 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (14.2ms)
  Rendered catalog/index.html.erb within layouts/application (14.6ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966[0m
  Rendered cart/_cart.html.erb (0.9ms)
Completed 200 OK in 22ms (Views: 15.8ms | ActiveRecord: 2.2ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-16 11:55:09 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (6.8ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 1.1ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-16 11:55:09 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.2ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (6.4ms)
  Rendered catalog/latest.html.erb within layouts/application (6.8ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966
  Rendered cart/_cart.html.erb (0.8ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.2ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-16 11:55:09 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.2ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (6.9ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.9ms)
  [1m[35m (35.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:27', '2017-05-16 09:55:27', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:27', '2017-05-16 09:55:27', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:27', '2017-05-16 09:55:27', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:27', '2017-05-16 09:55:27', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:27', '2017-05-16 09:55:27', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:27', '2017-05-16 09:55:27', 298486374)[0m
  [1m[35mFixture Delete (72.4ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 09:55:27', '2017-05-16 09:55:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 09:55:27', '2017-05-16 09:55:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 09:55:27', '2017-05-16 09:55:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 09:55:27', '2017-05-16 09:55:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 09:55:27', '2017-05-16 09:55:27')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 09:55:27', '2017-05-16 09:55:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 09:55:27', '2017-05-16 09:55:27')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 09:55:27', '2017-05-16 09:55:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 09:55:27', '2017-05-16 09:55:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 09:55:27', '2017-05-16 09:55:27')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:55:27', '2017-05-16 11:55:27', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:55:27', '2017-05-16 11:55:27', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:55:27', '2017-05-16 11:55:27', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:55:27', '2017-05-16 11:55:27', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:55:27', '2017-05-16 11:55:27', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:27', '2017-05-16 09:55:27', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:55:27', '2017-05-16 09:55:27', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 09:55:27', '2017-05-16 09:55:27')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 09:55:27', '2017-05-16 09:55:27')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 09:55:27', '2017-05-16 09:55:27')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 09:55:27', '2017-05-16 09:55:27')[0m
  [1m[35m (83.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-16 11:55:28 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 09:55:28', '2017-05-16 09:55:28')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (39.9ms)
  Rendered catalog/index.html.erb within layouts/application (42.9ms)
ApplicationController::current_user
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967[0m
  Rendered cart/_cart.html.erb (4.6ms)
Completed 200 OK in 226ms (Views: 189.4ms | ActiveRecord: 14.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-16 11:55:28 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (16.9ms)
  Rendered catalog/index.html.erb within layouts/application (17.3ms)
ApplicationController::current_user
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967[0m
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 26ms (Views: 16.5ms | ActiveRecord: 5.4ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-16 11:55:28 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.8ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (8.6ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 2.4ms)
  [1m[35mSupplier Load (0.7ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-16 11:55:28 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.6ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (7.9ms)
  Rendered catalog/latest.html.erb within layouts/application (8.4ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 3.3ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.7ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-16 11:55:28 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (30.2ms)
Completed 200 OK in 33ms (Views: 29.3ms | ActiveRecord: 2.2ms)
  [1m[35m (41.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (74.6ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:58:03', '2017-05-16 09:58:03', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:58:03', '2017-05-16 09:58:03', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:58:03', '2017-05-16 09:58:03', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:58:03', '2017-05-16 09:58:03', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:58:03', '2017-05-16 09:58:03', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:58:03', '2017-05-16 09:58:03', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 09:58:03', '2017-05-16 09:58:03')[0m
  [1m[35mFixture Insert (1.9ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 09:58:03', '2017-05-16 09:58:03')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 09:58:03', '2017-05-16 09:58:03')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 09:58:03', '2017-05-16 09:58:03')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 09:58:03', '2017-05-16 09:58:03')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 09:58:03', '2017-05-16 09:58:03')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 09:58:03', '2017-05-16 09:58:03')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 09:58:03', '2017-05-16 09:58:03')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 09:58:03', '2017-05-16 09:58:03')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 09:58:03', '2017-05-16 09:58:03')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:58:03', '2017-05-16 11:58:03', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:58:03', '2017-05-16 11:58:03', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:58:03', '2017-05-16 11:58:03', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:58:03', '2017-05-16 11:58:03', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 11:58:03', '2017-05-16 11:58:03', 5, 1)
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:58:03', '2017-05-16 09:58:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 09:58:03', '2017-05-16 09:58:03', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 09:58:03', '2017-05-16 09:58:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 09:58:03', '2017-05-16 09:58:03')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 09:58:03', '2017-05-16 09:58:03')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 09:58:03', '2017-05-16 09:58:03')[0m
  [1m[35m (67.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-16 11:58:03 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 09:58:03', '2017-05-16 09:58:03')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.7ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.8ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (54.5ms)
  Rendered catalog/index.html.erb within layouts/application (59.8ms)
ApplicationController::current_user
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968[0m
  Rendered cart/_cart.html.erb (4.0ms)
Completed 200 OK in 246ms (Views: 208.9ms | ActiveRecord: 6.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-16 11:58:04 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (15.8ms)
  Rendered catalog/index.html.erb within layouts/application (16.3ms)
ApplicationController::current_user
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968[0m
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 24ms (Views: 15.8ms | ActiveRecord: 4.7ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-16 11:58:04 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.6ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 2.0ms)
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-16 11:58:04 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.6ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (7.9ms)
  Rendered catalog/latest.html.erb within layouts/application (8.4ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 3.4ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-16 11:58:04 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (8.1ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 2.3ms)
  [1m[35m (37.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (72.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:01:27', '2017-05-16 10:01:27', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:01:27', '2017-05-16 10:01:27', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:01:27', '2017-05-16 10:01:27', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:01:27', '2017-05-16 10:01:27', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:01:27', '2017-05-16 10:01:27', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:01:27', '2017-05-16 10:01:27', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 10:01:27', '2017-05-16 10:01:27')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 10:01:27', '2017-05-16 10:01:27')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 10:01:27', '2017-05-16 10:01:27')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 10:01:27', '2017-05-16 10:01:27')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 10:01:27', '2017-05-16 10:01:27')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 10:01:27', '2017-05-16 10:01:27')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 10:01:27', '2017-05-16 10:01:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 10:01:27', '2017-05-16 10:01:27')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 10:01:27', '2017-05-16 10:01:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 10:01:27', '2017-05-16 10:01:27')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:01:27', '2017-05-16 12:01:27', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:01:27', '2017-05-16 12:01:27', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:01:27', '2017-05-16 12:01:27', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:01:27', '2017-05-16 12:01:27', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:01:27', '2017-05-16 12:01:27', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:01:27', '2017-05-16 10:01:27', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:01:27', '2017-05-16 10:01:27', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 10:01:27', '2017-05-16 10:01:27')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 10:01:27', '2017-05-16 10:01:27')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 10:01:27', '2017-05-16 10:01:27')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 10:01:27', '2017-05-16 10:01:27')[0m
  [1m[35m (63.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-16 12:01:27 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 10:01:27', '2017-05-16 10:01:27')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (52.2ms)
  Rendered catalog/index.html.erb within layouts/application (56.5ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969[0m
  Rendered cart/_cart.html.erb (3.6ms)
Completed 200 OK in 247ms (Views: 207.4ms | ActiveRecord: 5.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-16 12:01:28 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (14.0ms)
  Rendered catalog/index.html.erb within layouts/application (14.4ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969[0m
  Rendered cart/_cart.html.erb (0.9ms)
Completed 200 OK in 22ms (Views: 15.6ms | ActiveRecord: 2.2ms)
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-16 12:01:28 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.3ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 1.5ms)
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-16 12:01:28 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (7.4ms)
  Rendered catalog/latest.html.erb within layouts/application (7.9ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 2.5ms)
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-16 12:01:28 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (7.5ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 1.5ms)
  [1m[35m (39.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (72.7ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:13', '2017-05-16 10:05:13', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:13', '2017-05-16 10:05:13', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:13', '2017-05-16 10:05:13', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:13', '2017-05-16 10:05:13', 298486374)
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:13', '2017-05-16 10:05:13', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:13', '2017-05-16 10:05:13', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 10:05:13', '2017-05-16 10:05:13')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 10:05:13', '2017-05-16 10:05:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 10:05:13', '2017-05-16 10:05:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 10:05:13', '2017-05-16 10:05:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 10:05:13', '2017-05-16 10:05:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 10:05:13', '2017-05-16 10:05:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 10:05:13', '2017-05-16 10:05:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 10:05:13', '2017-05-16 10:05:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 10:05:13', '2017-05-16 10:05:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 10:05:13', '2017-05-16 10:05:13')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:13', '2017-05-16 12:05:13', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:13', '2017-05-16 12:05:13', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:13', '2017-05-16 12:05:13', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:13', '2017-05-16 12:05:13', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:13', '2017-05-16 12:05:13', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:13', '2017-05-16 10:05:13', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:13', '2017-05-16 10:05:13', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 10:05:13', '2017-05-16 10:05:13')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 10:05:13', '2017-05-16 10:05:13')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 10:05:14', '2017-05-16 10:05:14')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 10:05:14', '2017-05-16 10:05:14')[0m
  [1m[35m (73.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-16 12:05:14 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 10:05:14', '2017-05-16 10:05:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (40.0ms)
  Rendered catalog/index.html.erb within layouts/application (43.0ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970[0m
  Rendered cart/_cart.html.erb (3.6ms)
Completed 200 OK in 228ms (Views: 191.8ms | ActiveRecord: 3.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-16 12:05:14 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (14.2ms)
  Rendered catalog/index.html.erb within layouts/application (14.6ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970[0m
  Rendered cart/_cart.html.erb (0.9ms)
Completed 200 OK in 22ms (Views: 15.8ms | ActiveRecord: 2.2ms)
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-16 12:05:14 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (6.8ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.9ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-16 12:05:14 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (6.6ms)
  Rendered catalog/latest.html.erb within layouts/application (7.0ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970
  Rendered cart/_cart.html.erb (0.9ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 1.4ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-16 12:05:14 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.2ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (6.8ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.9ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.2ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (38.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:28', '2017-05-16 10:05:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:28', '2017-05-16 10:05:28', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:28', '2017-05-16 10:05:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:28', '2017-05-16 10:05:28', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:28', '2017-05-16 10:05:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:28', '2017-05-16 10:05:28', 298486374)[0m
  [1m[35mFixture Delete (69.5ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 10:05:28', '2017-05-16 10:05:28')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 10:05:28', '2017-05-16 10:05:28')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 10:05:28', '2017-05-16 10:05:28')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 10:05:28', '2017-05-16 10:05:28')
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 10:05:28', '2017-05-16 10:05:28')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 10:05:28', '2017-05-16 10:05:28')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 10:05:28', '2017-05-16 10:05:28')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 10:05:28', '2017-05-16 10:05:28')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 10:05:28', '2017-05-16 10:05:28')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 10:05:28', '2017-05-16 10:05:28')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:28', '2017-05-16 12:05:28', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:28', '2017-05-16 12:05:28', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:28', '2017-05-16 12:05:28', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:28', '2017-05-16 12:05:28', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:28', '2017-05-16 12:05:28', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:28', '2017-05-16 10:05:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:28', '2017-05-16 10:05:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 10:05:28', '2017-05-16 10:05:28')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 10:05:28', '2017-05-16 10:05:28')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 10:05:28', '2017-05-16 10:05:28')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 10:05:28', '2017-05-16 10:05:28')[0m
  [1m[35m (61.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-16 12:05:28 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 10:05:28', '2017-05-16 10:05:28')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.7ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (54.4ms)
  Rendered catalog/index.html.erb within layouts/application (59.1ms)
ApplicationController::current_user
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971[0m
  Rendered cart/_cart.html.erb (4.2ms)
Completed 200 OK in 249ms (Views: 208.1ms | ActiveRecord: 8.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-16 12:05:29 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (16.1ms)
  Rendered catalog/index.html.erb within layouts/application (16.5ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971[0m
  Rendered cart/_cart.html.erb (2.2ms)
Completed 200 OK in 26ms (Views: 16.8ms | ActiveRecord: 4.9ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-16 12:05:29 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.7ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 2.1ms)
  [1m[35mSupplier Load (0.6ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-16 12:05:29 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (7.4ms)
  Rendered catalog/latest.html.erb within layouts/application (7.8ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 2.4ms)
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-16 12:05:29 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (7.8ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 1.8ms)
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (34.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (129.6ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:54', '2017-05-16 10:05:54', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:54', '2017-05-16 10:05:54', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:54', '2017-05-16 10:05:54', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:54', '2017-05-16 10:05:54', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:54', '2017-05-16 10:05:54', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:54', '2017-05-16 10:05:54', 298486374)[0m
  [1m[35mFixture Delete (84.1ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 10:05:54', '2017-05-16 10:05:54')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 10:05:54', '2017-05-16 10:05:54')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 10:05:54', '2017-05-16 10:05:54')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 10:05:54', '2017-05-16 10:05:54')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 10:05:54', '2017-05-16 10:05:54')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 10:05:54', '2017-05-16 10:05:54')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 10:05:54', '2017-05-16 10:05:54')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 10:05:54', '2017-05-16 10:05:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 10:05:54', '2017-05-16 10:05:54')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 10:05:54', '2017-05-16 10:05:54')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:54', '2017-05-16 12:05:54', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:54', '2017-05-16 12:05:54', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:54', '2017-05-16 12:05:54', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:54', '2017-05-16 12:05:54', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:05:54', '2017-05-16 12:05:54', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:55', '2017-05-16 10:05:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:05:55', '2017-05-16 10:05:55', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 10:05:55', '2017-05-16 10:05:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 10:05:55', '2017-05-16 10:05:55')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 10:05:55', '2017-05-16 10:05:55')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 10:05:55', '2017-05-16 10:05:55')[0m
  [1m[35m (39.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-16 12:05:55 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 10:05:55', '2017-05-16 10:05:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.4ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (53.5ms)
  Rendered catalog/index.html.erb within layouts/application (58.0ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972[0m
  Rendered cart/_cart.html.erb (3.9ms)
Completed 200 OK in 257ms (Views: 213.2ms | ActiveRecord: 4.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-16 12:05:55 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (15.7ms)
  Rendered catalog/index.html.erb within layouts/application (16.1ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972[0m
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 24ms (Views: 16.3ms | ActiveRecord: 3.7ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-16 12:05:55 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (7.8ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 1.9ms)
  [1m[35mSupplier Load (0.8ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-16 12:05:55 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.6ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (7.7ms)
  Rendered catalog/latest.html.erb within layouts/application (8.2ms)
ApplicationController::current_user
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 3.4ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-16 12:05:55 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (31.0ms)
Completed 200 OK in 34ms (Views: 29.7ms | ActiveRecord: 2.5ms)
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.7ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (33.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (65.9ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 10:52:34', '2017-05-16 10:52:34')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 10:52:34', '2017-05-16 10:52:34')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 10:52:34', '2017-05-16 10:52:34')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 10:52:34', '2017-05-16 10:52:34')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 10:52:34', '2017-05-16 10:52:34')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:52:34', '2017-05-16 12:52:34', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:52:34', '2017-05-16 12:52:34', 2, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:52:34', '2017-05-16 12:52:34', 3, 2)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:52:34', '2017-05-16 12:52:34', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 12:52:34', '2017-05-16 12:52:34', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 10:52:34', '2017-05-16 10:52:34')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 10:52:34', '2017-05-16 10:52:34')[0m
  [1m[35m (65.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190973, '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 57ms (ActiveRecord: 4.6ms)
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190973[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190963 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190963[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 3.0ms)
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190973[0m
  [1m[35m (39.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190974, '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 3.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974[0m
  [1m[35m (112.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------
CartControllerTest: test_add_xhr
--------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975 AND `cart_items`.`article_id` = 5
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 1, 500.0, 980190975, '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  Rendered cart/_cart_notice.html.erb (0.6ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975[0m
  Rendered cart/_item.html.erb (1.6ms)
  Rendered cart/_cart.html.erb (15.8ms)
  Rendered cart/add_with_ajax.js.erb (30.8ms)
Completed 200 OK in 69ms (Views: 49.0ms | ActiveRecord: 6.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975
  [1m[36m (75.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190976 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190976, '2017-05-16 10:52:34', '2017-05-16 10:52:34')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 4.2ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190976 LIMIT 1
  [1m[36mArticle Load (0.9ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190976[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190976 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190976[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190966[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190976 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190976
  [1m[36m (46.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (65.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:36', '2017-05-16 17:40:36', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:36', '2017-05-16 17:40:36', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:36', '2017-05-16 17:40:36', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:36', '2017-05-16 17:40:36', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:36', '2017-05-16 17:40:36', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:36', '2017-05-16 17:40:36', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 17:40:36', '2017-05-16 17:40:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 17:40:36', '2017-05-16 17:40:36')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 17:40:36', '2017-05-16 17:40:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 17:40:36', '2017-05-16 17:40:36')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 17:40:36', '2017-05-16 17:40:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 17:40:36', '2017-05-16 17:40:36')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 17:40:36', '2017-05-16 17:40:36')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 17:40:36', '2017-05-16 17:40:36')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 17:40:36', '2017-05-16 17:40:36')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 17:40:36', '2017-05-16 17:40:36')
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 19:40:36', '2017-05-16 19:40:36', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 19:40:36', '2017-05-16 19:40:36', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 19:40:36', '2017-05-16 19:40:36', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 19:40:36', '2017-05-16 19:40:36', 4, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 19:40:36', '2017-05-16 19:40:36', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:36', '2017-05-16 17:40:36', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:36', '2017-05-16 17:40:36', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 17:40:36', '2017-05-16 17:40:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 17:40:36', '2017-05-16 17:40:36')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 17:40:36', '2017-05-16 17:40:36')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 17:40:36', '2017-05-16 17:40:36')[0m
  [1m[35m (73.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '1dfeaa2cdd14b4032ba32a2663d15bbf08afeed6ef5688aedd29f529143b888eb66fb2de154f79ed8b9ee41a1906cb3d914c7b655d79e37becc088a656a6eab8' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'xajlB73Kf7mDpaxN3I62', '400$8$39$0d9070d263497b34$16aff98973d8f660c26d2b93b5fed276a55b2f53a4eb8faf7d321642acc7a2fa', '1dfeaa2cdd14b4032ba32a2663d15bbf08afeed6ef5688aedd29f529143b888eb66fb2de154f79ed8b9ee41a1906cb3d914c7b655d79e37becc088a656a6eab8', 'pgzytQ0PJvDhnvtYQNT', '2017-05-16 17:40:36', '2017-05-16 17:40:36')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-16 19:40:36 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-16 19:40:37 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `login_count` = 1, `current_login_at` = '2017-05-16 17:40:37', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-16 17:40:37', `perishable_token` = '6S9YRocp6NFDyJgPwxQ', `updated_at` = '2017-05-16 17:40:37' WHERE `users`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 147ms (ActiveRecord: 1.1ms)
  [1m[35m (38.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '67519cf6394c7c0288c7c7d4f62f28c233c342660b0c491509273523bc2c1454f68a8c3799507ee82e4a23986db7a546b9c92338cd049f5e37cf3cb9f237896d' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', '1muWAoBGaLvdYMpmrlfT', '400$8$16$4d3ddc91eaa45d0d$97f59f8f41b376784f6d49909584fce42daae5d707d47e7df5a925586cf12798', '67519cf6394c7c0288c7c7d4f62f28c233c342660b0c491509273523bc2c1454f68a8c3799507ee82e4a23986db7a546b9c92338cd049f5e37cf3cb9f237896d', 'cWrW6diD8SRZbHnwvOht', '2017-05-16 17:40:37', '2017-05-16 17:40:37')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-16 19:40:37 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-16 19:40:37 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (7.8ms)
  Rendered user_sessions/new.html.erb within layouts/application (14.1ms)
ApplicationController::current_user
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 305ms (Views: 301.3ms | ActiveRecord: 1.2ms)
  [1m[36m (45.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:52', '2017-05-16 17:40:52', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:52', '2017-05-16 17:40:52', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:52', '2017-05-16 17:40:52', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:52', '2017-05-16 17:40:52', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:52', '2017-05-16 17:40:52', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:52', '2017-05-16 17:40:52', 298486374)[0m
  [1m[35mFixture Delete (72.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-16', 100.0, 40, '2017-05-16 17:40:52', '2017-05-16 17:40:52')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-16', 200.0, 40, '2017-05-16 17:40:52', '2017-05-16 17:40:52')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-16', 300.0, 40, '2017-05-16 17:40:52', '2017-05-16 17:40:52')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-16', 400.0, 40, '2017-05-16 17:40:52', '2017-05-16 17:40:52')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-16', 500.0, 40, '2017-05-16 17:40:52', '2017-05-16 17:40:52')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-16', 600.0, 40, '2017-05-16 17:40:52', '2017-05-16 17:40:52')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-16', 700.0, 40, '2017-05-16 17:40:52', '2017-05-16 17:40:52')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-16', 800.0, 40, '2017-05-16 17:40:52', '2017-05-16 17:40:52')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-16', 900.0, 40, '2017-05-16 17:40:52', '2017-05-16 17:40:52')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-16', 1000.0, 40, '2017-05-16 17:40:52', '2017-05-16 17:40:52')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 19:40:52', '2017-05-16 19:40:52', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 19:40:52', '2017-05-16 19:40:52', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 19:40:52', '2017-05-16 19:40:52', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 19:40:52', '2017-05-16 19:40:52', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-16 19:40:52', '2017-05-16 19:40:52', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:52', '2017-05-16 17:40:52', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-16 17:40:52', '2017-05-16 17:40:52', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-16 17:40:52', '2017-05-16 17:40:52')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-16 17:40:52', '2017-05-16 17:40:52')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-16 17:40:52', '2017-05-16 17:40:52')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-16 17:40:52', '2017-05-16 17:40:52')[0m
  [1m[35m (72.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-16 19:40:53 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.4ms)
  Rendered user/new.html.erb within layouts/application (6.3ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 184ms (Views: 151.9ms | ActiveRecord: 2.9ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-16 19:40:53 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'f83ed7d6734c1772a79a4192873b17739f3157711fdb26a33135b0fae4a5ec035fdf5145c317a9a8012a87ab09c7adebe7ecd8b027b565d471e0662e0393d94d' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'KTw2pUwdnyOR28zRhZFO', '400$8$3a$38e003127eca8ce1$eff7b3a2293cb54d9945032679a781d52f6dce898d741e64ad730da89278bb29', 'f83ed7d6734c1772a79a4192873b17739f3157711fdb26a33135b0fae4a5ec035fdf5145c317a9a8012a87ab09c7adebe7ecd8b027b565d471e0662e0393d94d', 'Bg6PfyR96w88iH0by6AM', 1, '2017-05-16 17:40:53', '127.0.0.1', '2017-05-16 17:40:53', '2017-05-16 17:40:53', '2017-05-16 17:40:53')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 180ms (ActiveRecord: 3.8ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-16 19:40:53 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = 'f83ed7d6734c1772a79a4192873b17739f3157711fdb26a33135b0fae4a5ec035fdf5145c317a9a8012a87ab09c7adebe7ecd8b027b565d471e0662e0393d94d' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-16 17:40:53', `perishable_token` = 'kTV1WMjjJMMdVSR4sA', `updated_at` = '2017-05-16 17:40:53' WHERE `users`.`id` = 3[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.1ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 13ms (Views: 3.4ms | ActiveRecord: 2.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=3" for 127.0.0.1 at 2017-05-16 19:40:53 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"3"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-16 17:40:53', `perishable_token` = 'VTYRjoGDGKiev0T1QfL', `updated_at` = '2017-05-16 17:40:53' WHERE `users`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 2.3ms | ActiveRecord: 1.7ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Started GET "/user/edit?id=3" for 127.0.0.1 at 2017-05-16 19:40:53 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"3"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-16 17:40:53', `perishable_token` = 's0IdGUPvK1VzDJz01IxG', `updated_at` = '2017-05-16 17:40:53' WHERE `users`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
  Rendered user/edit.html.erb within layouts/application (1.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 1.3ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-16 19:40:53 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-16 17:40:53', `perishable_token` = 'aNWiuvxM8Pnactngpn6', `updated_at` = '2017-05-16 17:40:53' WHERE `users`.`id` = 3[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY '127b5ef58cc96d09495a8add5882535743eff3d7aa134b4831ca6e45e3c0f88a52bfe6828c379919dfdca038fa971006f66b123e69cad069cd5d2130a1617300' AND `users`.`id` != 3) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 3) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 3) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 3) LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'Luj11xFgAHSRyetvGzN', `crypted_password` = '400$8$34$b3ca865019e3c648$b91f64ddee1540a9effd0c94d8c98956946b53893c8c33fc590bedb99e65690a', `persistence_token` = '127b5ef58cc96d09495a8add5882535743eff3d7aa134b4831ca6e45e3c0f88a52bfe6828c379919dfdca038fa971006f66b123e69cad069cd5d2130a1617300', `perishable_token` = 'Fy5hO2b7E8pWlEV25fp', `last_request_at` = '2017-05-16 17:40:53', `login_count` = 2, `last_login_at` = '2017-05-16 17:40:53', `current_login_at` = '2017-05-16 17:40:53', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-16 17:40:53' WHERE `users`.`id` = 3
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 144ms (ActiveRecord: 6.2ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-16 19:40:53 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-16 17:40:53', `perishable_token` = 'L1swE7rWMzKPeSAj4R8B', `updated_at` = '2017-05-16 17:40:53' WHERE `users`.`id` = 3
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 1.9ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (67.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (16.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (73.5ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:01:50', '2017-05-17 08:01:50', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:01:50', '2017-05-17 08:01:50', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:01:50', '2017-05-17 08:01:50', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:01:50', '2017-05-17 08:01:50', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:01:50', '2017-05-17 08:01:50', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:01:50', '2017-05-17 08:01:50', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 08:01:50', '2017-05-17 08:01:50')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 08:01:50', '2017-05-17 08:01:50')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 08:01:50', '2017-05-17 08:01:50')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 08:01:50', '2017-05-17 08:01:50')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 08:01:50', '2017-05-17 08:01:50')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 08:01:50', '2017-05-17 08:01:50')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 08:01:50', '2017-05-17 08:01:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 08:01:50', '2017-05-17 08:01:50')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 08:01:50', '2017-05-17 08:01:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 08:01:50', '2017-05-17 08:01:50')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:01:50', '2017-05-17 10:01:50', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:01:50', '2017-05-17 10:01:50', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:01:50', '2017-05-17 10:01:50', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:01:50', '2017-05-17 10:01:50', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:01:50', '2017-05-17 10:01:50', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:01:50', '2017-05-17 08:01:50', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:01:50', '2017-05-17 08:01:50', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 08:01:50', '2017-05-17 08:01:50')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 08:01:50', '2017-05-17 08:01:50')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 08:01:50', '2017-05-17 08:01:50')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 08:01:50', '2017-05-17 08:01:50')[0m
  [1m[35m (69.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-17 10:01:50 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.5ms)
  Rendered user/new.html.erb within layouts/application (7.0ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 262ms (Views: 230.8ms | ActiveRecord: 1.3ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-17 10:01:51 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (10.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '636642c3c33d12bc6d3a3353bfd67dcf71bffee6b45a2c00df791aac3c813eb53b67077d75a4660f745b1ec772289c3214c4324dbc987bfbac8af943ae6d40d6' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'AJAYNQyVywwpDAdnj7f', '400$8$31$f434ff0cb51071d9$e4ab48a854c17aa813640a678036dbbfd99539ffb1a44f272dbbcc41a6a8fdba', '636642c3c33d12bc6d3a3353bfd67dcf71bffee6b45a2c00df791aac3c813eb53b67077d75a4660f745b1ec772289c3214c4324dbc987bfbac8af943ae6d40d6', 'uu682x2dDCU4CgrDRx2J', 1, '2017-05-17 08:01:51', '127.0.0.1', '2017-05-17 08:01:51', '2017-05-17 08:01:51', '2017-05-17 08:01:51')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 216ms (ActiveRecord: 12.4ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 10:01:51 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = '636642c3c33d12bc6d3a3353bfd67dcf71bffee6b45a2c00df791aac3c813eb53b67077d75a4660f745b1ec772289c3214c4324dbc987bfbac8af943ae6d40d6' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 08:01:51', `perishable_token` = 'nhFv9vNexISzJfnRIZTH', `updated_at` = '2017-05-17 08:01:51' WHERE `users`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 3.4ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=1" for 127.0.0.1 at 2017-05-17 10:01:51 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 08:01:51', `perishable_token` = 'erVauoSbv2y3bxcjqb50', `updated_at` = '2017-05-17 08:01:51' WHERE `users`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 2.6ms | ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Started GET "/user/edit?id=1" for 127.0.0.1 at 2017-05-17 10:01:51 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 08:01:51', `perishable_token` = 'P0IFV2dbofgo585W5Irl', `updated_at` = '2017-05-17 08:01:51' WHERE `users`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
  Rendered user/edit.html.erb within layouts/application (1.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 3.9ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-17 10:01:51 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 08:01:51', `perishable_token` = 'ru2t592UHZPm7Jo37M', `updated_at` = '2017-05-17 08:01:51' WHERE `users`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY '0d30a1d1c154f89c8a585a8d508adc6a046dfd4f112bcd21f5dc9e16f5adfcd5befce93e5b0e1bc17664f7ba0e5d8507932ab65f424ec6c5b1095a332d272273' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 1) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = '5LBzdd1lV7SJi1ThcbyB', `crypted_password` = '400$8$35$142749c70593403f$98aabdfdca5de9f140feb001ce5ecde08a7a95b97b0d531efd46fb9033e1314b', `persistence_token` = '0d30a1d1c154f89c8a585a8d508adc6a046dfd4f112bcd21f5dc9e16f5adfcd5befce93e5b0e1bc17664f7ba0e5d8507932ab65f424ec6c5b1095a332d272273', `perishable_token` = 'AFLwBIsFO7Z6wpSQr08x', `last_request_at` = '2017-05-17 08:01:51', `login_count` = 2, `last_login_at` = '2017-05-17 08:01:51', `current_login_at` = '2017-05-17 08:01:51', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-17 08:01:51' WHERE `users`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 152ms (ActiveRecord: 3.5ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 10:01:51 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 08:01:51', `perishable_token` = '72Qtczt3qQfOZ6uIv', `updated_at` = '2017-05-17 08:01:51' WHERE `users`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (43.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:05', '2017-05-17 08:02:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:05', '2017-05-17 08:02:05', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:05', '2017-05-17 08:02:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:05', '2017-05-17 08:02:05', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:05', '2017-05-17 08:02:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:05', '2017-05-17 08:02:05', 298486374)[0m
  [1m[35mFixture Delete (87.1ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 08:02:05', '2017-05-17 08:02:05')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 08:02:05', '2017-05-17 08:02:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 08:02:05', '2017-05-17 08:02:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 08:02:05', '2017-05-17 08:02:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 08:02:05', '2017-05-17 08:02:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 08:02:05', '2017-05-17 08:02:05')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 08:02:05', '2017-05-17 08:02:05')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 08:02:05', '2017-05-17 08:02:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 08:02:05', '2017-05-17 08:02:05')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 08:02:05', '2017-05-17 08:02:05')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:05', '2017-05-17 10:02:05', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:05', '2017-05-17 10:02:05', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:05', '2017-05-17 10:02:05', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:05', '2017-05-17 10:02:05', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:05', '2017-05-17 10:02:05', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:05', '2017-05-17 08:02:05', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:05', '2017-05-17 08:02:05', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 08:02:05', '2017-05-17 08:02:05')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 08:02:05', '2017-05-17 08:02:05')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 08:02:05', '2017-05-17 08:02:05')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 08:02:05', '2017-05-17 08:02:05')[0m
  [1m[35m (63.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'e9f9a7dbd2727c8e151800bd8dc95e933525f640bc3665f496afbae062a9fdfc0aca9fa0abb876acda0f7ec817b762e26f561738bc1c3e0c4a92a207412fba72' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'niy4PFwj7rub4amvy7R', '400$8$38$5069ed24e1085cf1$7c69d159632087647e164d13857b711b2a5da541231b4c9980bb0be93bd966a9', 'e9f9a7dbd2727c8e151800bd8dc95e933525f640bc3665f496afbae062a9fdfc0aca9fa0abb876acda0f7ec817b762e26f561738bc1c3e0c4a92a207412fba72', 'x0RSLX8rA7bcQCrWjPur', '2017-05-17 08:02:06', '2017-05-17 08:02:06')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 10:02:06 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 10:02:06 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (4.2ms)
  Rendered user_sessions/new.html.erb within layouts/application (7.5ms)
ApplicationController::current_user
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 178ms (Views: 174.6ms | ActiveRecord: 1.0ms)
  [1m[35m (32.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '756b91aff29125e882c1a24e6ca825f1a108e6efcae91a3cf2e63565db85da99c800db11b99e6417bf52e854915b56ddb5b9b8e7dbd4667483b1db5bed6986b7' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'aIjrXDuXjDnVEmnSQua', '400$8$37$b06e1670600a3f76$dba21ef8f6a225c40bb19b00cf371887ca4732b8eb6b4bf030eb3b8339cfdafc', '756b91aff29125e882c1a24e6ca825f1a108e6efcae91a3cf2e63565db85da99c800db11b99e6417bf52e854915b56ddb5b9b8e7dbd4667483b1db5bed6986b7', 'JpUTHWcR0RnlfpdoQ9O', '2017-05-17 08:02:06', '2017-05-17 08:02:06')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 10:02:06 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 10:02:06 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `login_count` = 1, `current_login_at` = '2017-05-17 08:02:06', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-17 08:02:06', `perishable_token` = 'crVMWYUNgsDruv7Y9MNI', `updated_at` = '2017-05-17 08:02:06' WHERE `users`.`id` = 3[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 147ms (ActiveRecord: 1.6ms)
  [1m[36m (39.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (308.8ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:19', '2017-05-17 08:02:19', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:19', '2017-05-17 08:02:19', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:19', '2017-05-17 08:02:19', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:19', '2017-05-17 08:02:19', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:19', '2017-05-17 08:02:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:19', '2017-05-17 08:02:19', 298486374)[0m
  [1m[35mFixture Delete (83.4ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 08:02:19', '2017-05-17 08:02:19')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 08:02:19', '2017-05-17 08:02:19')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 08:02:19', '2017-05-17 08:02:19')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 08:02:19', '2017-05-17 08:02:19')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 08:02:19', '2017-05-17 08:02:19')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 08:02:19', '2017-05-17 08:02:19')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 08:02:19', '2017-05-17 08:02:19')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 08:02:19', '2017-05-17 08:02:19')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 08:02:19', '2017-05-17 08:02:19')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 08:02:19', '2017-05-17 08:02:19')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:19', '2017-05-17 10:02:19', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:19', '2017-05-17 10:02:19', 2, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:19', '2017-05-17 10:02:19', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:19', '2017-05-17 10:02:19', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:19', '2017-05-17 10:02:19', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:20', '2017-05-17 08:02:20', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:20', '2017-05-17 08:02:20', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 08:02:20', '2017-05-17 08:02:20')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 08:02:20', '2017-05-17 08:02:20')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 08:02:20', '2017-05-17 08:02:20')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 08:02:20', '2017-05-17 08:02:20')[0m
  [1m[35m (62.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'a21d14b55dac5a71b2cf3542361189e314117f6e0485fc6c9eaa06b26d3adb5e65123a5d15a8783a8a7cc5ea5b203a383f3269853498a65bf50ce48a32ce95c7' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'uNXQI9uhb9CKN1dayZJ5', '400$8$33$f4ee83c7ff6615e4$9b5f63c8eafd05b40dc9f52bf91d6368abbc7afdf5ce7f3836af2ad710ba2f6f', 'a21d14b55dac5a71b2cf3542361189e314117f6e0485fc6c9eaa06b26d3adb5e65123a5d15a8783a8a7cc5ea5b203a383f3269853498a65bf50ce48a32ce95c7', 'RM4REK81p0Ub7mCTNd', '2017-05-17 08:02:20', '2017-05-17 08:02:20')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 10:02:20 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 10:02:20 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (4.9ms)
  Rendered user_sessions/new.html.erb within layouts/application (8.4ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 173ms (Views: 169.6ms | ActiveRecord: 0.9ms)
  [1m[35m (35.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'c0576793f9cbaa3fb84e70cc634d435a47eb4578f92dce37bb87766f2f40bbf6e58e89fd5b2eccee9507ee6981953b929635764753310d1b206d7bcf78dc8b55' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'O4VZnDBtEXBjzUh0EhN', '400$8$34$cbe530aa56a9914e$addedda6bbd7db7c947b9c6fde0ce4aba4e633ecd9c2d20372e2063a982e2c1a', 'c0576793f9cbaa3fb84e70cc634d435a47eb4578f92dce37bb87766f2f40bbf6e58e89fd5b2eccee9507ee6981953b929635764753310d1b206d7bcf78dc8b55', 'Gz6E5OGiuEQMmMO98GY', '2017-05-17 08:02:20', '2017-05-17 08:02:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 10:02:20 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 10:02:20 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `login_count` = 1, `current_login_at` = '2017-05-17 08:02:21', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-17 08:02:21', `perishable_token` = 'o936htSW1roJbiyfr1o', `updated_at` = '2017-05-17 08:02:21' WHERE `users`.`id` = 5[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 179ms (ActiveRecord: 1.6ms)
  [1m[36m (36.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (70.7ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:27', '2017-05-17 08:02:27', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:27', '2017-05-17 08:02:27', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:27', '2017-05-17 08:02:27', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:27', '2017-05-17 08:02:27', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:27', '2017-05-17 08:02:27', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:27', '2017-05-17 08:02:27', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 08:02:27', '2017-05-17 08:02:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 08:02:27', '2017-05-17 08:02:27')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 08:02:27', '2017-05-17 08:02:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 08:02:27', '2017-05-17 08:02:27')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 08:02:27', '2017-05-17 08:02:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 08:02:27', '2017-05-17 08:02:27')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 08:02:27', '2017-05-17 08:02:27')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 08:02:27', '2017-05-17 08:02:27')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 08:02:27', '2017-05-17 08:02:27')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 08:02:27', '2017-05-17 08:02:27')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:27', '2017-05-17 10:02:27', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:27', '2017-05-17 10:02:27', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:27', '2017-05-17 10:02:27', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:27', '2017-05-17 10:02:27', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 10:02:27', '2017-05-17 10:02:27', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:27', '2017-05-17 08:02:27', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 08:02:27', '2017-05-17 08:02:27', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 08:02:27', '2017-05-17 08:02:27')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 08:02:27', '2017-05-17 08:02:27')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 08:02:27', '2017-05-17 08:02:27')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 08:02:27', '2017-05-17 08:02:27')[0m
  [1m[35m (38.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-17 10:02:27 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.4ms)
  Rendered user/new.html.erb within layouts/application (6.6ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 238ms (Views: 187.6ms | ActiveRecord: 2.3ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-17 10:02:27 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '9d6a469922d1142d54d31d818356a4ab3bdcbd9a665c986da018a8d904c53440cd7e19ba90e2ac566839047d7755c726adfc0940ae26254ecc79f92d485f167a' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'wXudQVW4EvAuPq5o6J3', '400$8$34$a5893b52c9cadfb1$6a5b7bfb0a8eb9b02efd4dda8c625c696e52b9020c2a6e455acad3541ac48d0f', '9d6a469922d1142d54d31d818356a4ab3bdcbd9a665c986da018a8d904c53440cd7e19ba90e2ac566839047d7755c726adfc0940ae26254ecc79f92d485f167a', 'HA5Enyfr754QS1oUsp', 1, '2017-05-17 08:02:27', '127.0.0.1', '2017-05-17 08:02:27', '2017-05-17 08:02:27', '2017-05-17 08:02:27')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 188ms (ActiveRecord: 2.1ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 10:02:27 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = '9d6a469922d1142d54d31d818356a4ab3bdcbd9a665c986da018a8d904c53440cd7e19ba90e2ac566839047d7755c726adfc0940ae26254ecc79f92d485f167a' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 08:02:27', `perishable_token` = '09jhrsa2nABPbq37KG', `updated_at` = '2017-05-17 08:02:27' WHERE `users`.`id` = 6[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 3.2ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=6" for 127.0.0.1 at 2017-05-17 10:02:27 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"6"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 08:02:27', `perishable_token` = 'kXEtXmFZoByj9LN7bt3q', `updated_at` = '2017-05-17 08:02:27' WHERE `users`.`id` = 6
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
Started GET "/user/edit?id=6" for 127.0.0.1 at 2017-05-17 10:02:27 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"6"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 08:02:27', `perishable_token` = 'NoZOK2CAJVLYBNJgSHv', `updated_at` = '2017-05-17 08:02:27' WHERE `users`.`id` = 6
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
  Rendered user/edit.html.erb within layouts/application (1.7ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-17 10:02:27 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 08:02:27', `perishable_token` = 'iM1zyTvHMNBDPikQq2mF', `updated_at` = '2017-05-17 08:02:27' WHERE `users`.`id` = 6[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY '27015c39269a96e1b9ed2de993e7a968175d69b7eaa2dfcb47016152982dbaafb4c323a4a95a3b4399e712cf91d18e4cb321120fdc2c25618224d7b280137052' AND `users`.`id` != 6) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 6) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 6) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 6) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'SYjeDtr3HA03wCnBxfJW', `crypted_password` = '400$8$35$6547cef9b25f6580$dd7ea720fa9026b8dc9879fe556030c3de5d95fbe48ba457f602a140125e29fa', `persistence_token` = '27015c39269a96e1b9ed2de993e7a968175d69b7eaa2dfcb47016152982dbaafb4c323a4a95a3b4399e712cf91d18e4cb321120fdc2c25618224d7b280137052', `perishable_token` = 'oQxVhs7MzNtiGEMwLy', `last_request_at` = '2017-05-17 08:02:27', `login_count` = 2, `last_login_at` = '2017-05-17 08:02:27', `current_login_at` = '2017-05-17 08:02:27', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-17 08:02:27' WHERE `users`.`id` = 6
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 150ms (ActiveRecord: 3.4ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 10:02:27 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 08:02:27', `perishable_token` = 'yW8g0SuzhFXAt5vmElW', `updated_at` = '2017-05-17 08:02:27' WHERE `users`.`id` = 6
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (79.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (107.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:46:55', '2017-05-17 09:46:55', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:46:55', '2017-05-17 09:46:55', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:46:55', '2017-05-17 09:46:55', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:46:55', '2017-05-17 09:46:55', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:46:55', '2017-05-17 09:46:55', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:46:55', '2017-05-17 09:46:55', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 09:46:55', '2017-05-17 09:46:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 09:46:55', '2017-05-17 09:46:55')
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 09:46:55', '2017-05-17 09:46:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 09:46:55', '2017-05-17 09:46:55')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 09:46:55', '2017-05-17 09:46:55')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 09:46:55', '2017-05-17 09:46:55')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 09:46:55', '2017-05-17 09:46:55')[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 09:46:55', '2017-05-17 09:46:55')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 09:46:55', '2017-05-17 09:46:55')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 09:46:55', '2017-05-17 09:46:55')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:46:55', '2017-05-17 11:46:55', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:46:55', '2017-05-17 11:46:55', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:46:55', '2017-05-17 11:46:55', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:46:55', '2017-05-17 11:46:55', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:46:55', '2017-05-17 11:46:55', 5, 1)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:46:56', '2017-05-17 09:46:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:46:56', '2017-05-17 09:46:56', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 09:46:56', '2017-05-17 09:46:56')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 09:46:56', '2017-05-17 09:46:56')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 09:46:56', '2017-05-17 09:46:56')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 09:46:56', '2017-05-17 09:46:56')[0m
  [1m[35m (68.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-17 11:46:56 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.5ms)
  Rendered user/new.html.erb within layouts/application (6.7ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 237ms (Views: 186.6ms | ActiveRecord: 1.2ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-17 11:46:56 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '871609608f9cdc5ec5b23052168016d8e429807da3b9d81c131e144df7b3575b366ba04cb1017be6c13cbaa455679d49d98b264898029e8a791a44dbe4fba9e0' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'tcZpaoEAuQOVClhsgVB', '400$8$3c$eaa56c9240a00df9$cf7b6a09154a9978843cddbad13353ce6047a1a0d88c20de9eef8db31326524a', '871609608f9cdc5ec5b23052168016d8e429807da3b9d81c131e144df7b3575b366ba04cb1017be6c13cbaa455679d49d98b264898029e8a791a44dbe4fba9e0', 'BFrSfyMadUQWMic0Mrl', 1, '2017-05-17 09:46:56', '127.0.0.1', '2017-05-17 09:46:56', '2017-05-17 09:46:56', '2017-05-17 09:46:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 194ms (ActiveRecord: 2.9ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:46:56 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = '871609608f9cdc5ec5b23052168016d8e429807da3b9d81c131e144df7b3575b366ba04cb1017be6c13cbaa455679d49d98b264898029e8a791a44dbe4fba9e0' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:46:56', `perishable_token` = '6MJMLQh7TOhMZSWCNyiu', `updated_at` = '2017-05-17 09:46:56' WHERE `users`.`id` = 7[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 3.2ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=7" for 127.0.0.1 at 2017-05-17 11:46:56 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"7"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:46:56', `perishable_token` = 'IgFHEPhEqX7jb76sZ', `updated_at` = '2017-05-17 09:46:56' WHERE `users`.`id` = 7
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 2.2ms | ActiveRecord: 1.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Started GET "/user/edit?id=7" for 127.0.0.1 at 2017-05-17 11:46:56 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"7"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:46:56', `perishable_token` = 'qPOXPFh6kFQshgUXf', `updated_at` = '2017-05-17 09:46:56' WHERE `users`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
  Rendered user/edit.html.erb within layouts/application (1.7ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-17 11:46:56 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:46:56', `perishable_token` = 'zHzymvE3sxefYVKkhqbu', `updated_at` = '2017-05-17 09:46:56' WHERE `users`.`id` = 7[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c1669f96f791ce8f029a1fbcdbab05663ac1a487169c7752172105d68dd2311d313f9ce8f31b37c1375b6395db88b539c39e1a3ccdf438aebf71e6796064b112' AND `users`.`id` != 7) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 7) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 7) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 7) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'pgvjPxnkTjH6bFYxU9F', `crypted_password` = '400$8$38$5d06a01d8e7538c5$1486ec4b40c2e0aeb4c7b945fddfada16c581b5aa05c68b51439a443fd4e7f56', `persistence_token` = 'c1669f96f791ce8f029a1fbcdbab05663ac1a487169c7752172105d68dd2311d313f9ce8f31b37c1375b6395db88b539c39e1a3ccdf438aebf71e6796064b112', `perishable_token` = 'MOrss8CBgy1cT2M4zcXL', `last_request_at` = '2017-05-17 09:46:56', `login_count` = 2, `last_login_at` = '2017-05-17 09:46:56', `current_login_at` = '2017-05-17 09:46:56', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-17 09:46:56' WHERE `users`.`id` = 7
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 160ms (ActiveRecord: 3.2ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:46:56 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:46:56', `perishable_token` = 'apKl2nCw2HeGVUmpoIJq', `updated_at` = '2017-05-17 09:46:56' WHERE `users`.`id` = 7
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (36.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (71.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:33', '2017-05-17 09:48:33', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:33', '2017-05-17 09:48:33', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:33', '2017-05-17 09:48:33', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:33', '2017-05-17 09:48:33', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:33', '2017-05-17 09:48:33', 980190962)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:33', '2017-05-17 09:48:33', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 09:48:33', '2017-05-17 09:48:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 09:48:33', '2017-05-17 09:48:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 09:48:33', '2017-05-17 09:48:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 09:48:33', '2017-05-17 09:48:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 09:48:33', '2017-05-17 09:48:33')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 09:48:33', '2017-05-17 09:48:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 09:48:33', '2017-05-17 09:48:33')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 09:48:33', '2017-05-17 09:48:33')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 09:48:33', '2017-05-17 09:48:33')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 09:48:33', '2017-05-17 09:48:33')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:48:33', '2017-05-17 11:48:33', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:48:33', '2017-05-17 11:48:33', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:48:33', '2017-05-17 11:48:33', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:48:33', '2017-05-17 11:48:33', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:48:33', '2017-05-17 11:48:33', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:33', '2017-05-17 09:48:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:33', '2017-05-17 09:48:33', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 09:48:33', '2017-05-17 09:48:33')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 09:48:33', '2017-05-17 09:48:33')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 09:48:33', '2017-05-17 09:48:33')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 09:48:33', '2017-05-17 09:48:33')[0m
  [1m[35m (66.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-17 11:48:33 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.4ms)
  Rendered user/new.html.erb within layouts/application (6.6ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 233ms (Views: 186.7ms | ActiveRecord: 1.5ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-17 11:48:33 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'a382b8345f9cf1e1acccd163a78ac8f6061b78cbe0b0569ee815f7f00d89675ec3ffe760f0d383a1cc7bfb78dc52c5e90756cd5f89708749c44d795a4fe5a352' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', '9f3f9MogDGeDERfCP70d', '400$8$39$52f71b22a0ec3faf$d094a7bb3e34ec96cfc4f1b705606d28bcf64e1b57842072cbf7df885a20111c', 'a382b8345f9cf1e1acccd163a78ac8f6061b78cbe0b0569ee815f7f00d89675ec3ffe760f0d383a1cc7bfb78dc52c5e90756cd5f89708749c44d795a4fe5a352', 'IhgIkCUCm3CarqxWw', 1, '2017-05-17 09:48:33', '127.0.0.1', '2017-05-17 09:48:33', '2017-05-17 09:48:33', '2017-05-17 09:48:33')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 212ms (ActiveRecord: 3.3ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:48:33 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = 'a382b8345f9cf1e1acccd163a78ac8f6061b78cbe0b0569ee815f7f00d89675ec3ffe760f0d383a1cc7bfb78dc52c5e90756cd5f89708749c44d795a4fe5a352' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:48:33', `perishable_token` = 'w5UP8rcOPDDTtO1ZnvJf', `updated_at` = '2017-05-17 09:48:34' WHERE `users`.`id` = 8[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 22ms (Views: 6.0ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=8" for 127.0.0.1 at 2017-05-17 11:48:34 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"8"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:48:34', `perishable_token` = 'sXE2gyB7ktyRmF1pMSv', `updated_at` = '2017-05-17 09:48:34' WHERE `users`.`id` = 8
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 2.6ms | ActiveRecord: 1.4ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
Started GET "/user/edit?id=8" for 127.0.0.1 at 2017-05-17 11:48:34 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"8"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:48:34', `perishable_token` = 'LS9Bz1fwU2olAuPPZw4U', `updated_at` = '2017-05-17 09:48:34' WHERE `users`.`id` = 8
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
  Rendered user/edit.html.erb within layouts/application (2.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 4.5ms | ActiveRecord: 1.4ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-17 11:48:34 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:48:34', `perishable_token` = 'QtWi8LHifWWiVeHteJh', `updated_at` = '2017-05-17 09:48:34' WHERE `users`.`id` = 8[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY '25a1dbc5ccf95195cb7a2041fbbe9570b68f56f29571e19e805d960c50f5de047dc50911609fc3068e45f8a6c90d769c8df2a8801774d45f7f65d61456b96760' AND `users`.`id` != 8) LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 8) LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 8) LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 8) LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'GfRfRGXz98NGIaXAuEH', `crypted_password` = '400$8$2c$51674830603c3f06$96c67f7929592656ac8da0db857ffb7493ea5408cdab75c9f83bac26d18bf98e', `persistence_token` = '25a1dbc5ccf95195cb7a2041fbbe9570b68f56f29571e19e805d960c50f5de047dc50911609fc3068e45f8a6c90d769c8df2a8801774d45f7f65d61456b96760', `perishable_token` = 'G3dSVcGfjrrequSRamH', `last_request_at` = '2017-05-17 09:48:34', `login_count` = 2, `last_login_at` = '2017-05-17 09:48:33', `current_login_at` = '2017-05-17 09:48:34', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-17 09:48:34' WHERE `users`.`id` = 8
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 142ms (ActiveRecord: 6.3ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:48:34 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:48:34', `perishable_token` = 'Rznt9eUOlXIsa6rwBkGZ', `updated_at` = '2017-05-17 09:48:34' WHERE `users`.`id` = 8
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (50.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:40', '2017-05-17 09:48:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:40', '2017-05-17 09:48:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:40', '2017-05-17 09:48:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:40', '2017-05-17 09:48:40', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:40', '2017-05-17 09:48:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:40', '2017-05-17 09:48:40', 298486374)[0m
  [1m[35mFixture Delete (84.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 09:48:41', '2017-05-17 09:48:41')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 09:48:41', '2017-05-17 09:48:41')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 09:48:41', '2017-05-17 09:48:41')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 09:48:41', '2017-05-17 09:48:41')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 09:48:41', '2017-05-17 09:48:41')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 09:48:41', '2017-05-17 09:48:41')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 09:48:41', '2017-05-17 09:48:41')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 09:48:41', '2017-05-17 09:48:41')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 09:48:41', '2017-05-17 09:48:41')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 09:48:41', '2017-05-17 09:48:41')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:48:40', '2017-05-17 11:48:40', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:48:40', '2017-05-17 11:48:40', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:48:40', '2017-05-17 11:48:40', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:48:40', '2017-05-17 11:48:40', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:48:40', '2017-05-17 11:48:40', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:41', '2017-05-17 09:48:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:48:41', '2017-05-17 09:48:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 09:48:41', '2017-05-17 09:48:41')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 09:48:41', '2017-05-17 09:48:41')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 09:48:41', '2017-05-17 09:48:41')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 09:48:41', '2017-05-17 09:48:41')[0m
  [1m[35m (43.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '00db31f9cd013b0bac6f31650e2b6ab62ea5508ec7f90005aa4b6cf00e0e59eb49045e1cbdd55c4a8270c0097bf92b0230913efe296162837b16604c8edcdbd1' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'MeKW4W0fhvE11l7iwvr4', '400$8$39$63f505ab837b326b$2bdc61a06a590ef7eb760af8cf57ef0ece1ae0ec80e4de242be5cd090ffe11ba', '00db31f9cd013b0bac6f31650e2b6ab62ea5508ec7f90005aa4b6cf00e0e59eb49045e1cbdd55c4a8270c0097bf92b0230913efe296162837b16604c8edcdbd1', 'O1BNW6qZR9IHW993MUn', '2017-05-17 09:48:41', '2017-05-17 09:48:41')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:48:41 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 11:48:41 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (4.1ms)
  Rendered user_sessions/new.html.erb within layouts/application (7.4ms)
ApplicationController::current_user
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 171ms (Views: 168.0ms | ActiveRecord: 1.0ms)
  [1m[35m (40.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'f688920611006f03f8ab074d403283bf10acf50c14589dcb74281273269fdbf65234c1633728473353cbdc8fe7f95f95bd3f39b898e81df878c99efc12134dc9' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', '1s3FEatKhvIekV83jBOt', '400$8$34$70393c9d06544113$4515dd4c7f7bfd990252c1117d0b6f7f7554215d099c6956dc1c471fd871fced', 'f688920611006f03f8ab074d403283bf10acf50c14589dcb74281273269fdbf65234c1633728473353cbdc8fe7f95f95bd3f39b898e81df878c99efc12134dc9', 'iAlxjSKFx7zj0OA4ftG', '2017-05-17 09:48:41', '2017-05-17 09:48:41')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:48:41 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 11:48:41 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `users` SET `login_count` = 1, `current_login_at` = '2017-05-17 09:48:42', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-17 09:48:42', `perishable_token` = 'rPpUTnVgd29JE7BIOgE', `updated_at` = '2017-05-17 09:48:42' WHERE `users`.`id` = 10[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 142ms (ActiveRecord: 2.3ms)
  [1m[36m (36.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (98.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:51:29', '2017-05-17 09:51:29', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:51:29', '2017-05-17 09:51:29', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:51:30', '2017-05-17 09:51:30', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:51:30', '2017-05-17 09:51:30', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:51:30', '2017-05-17 09:51:30', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:51:30', '2017-05-17 09:51:30', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 09:51:30', '2017-05-17 09:51:30')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 09:51:30', '2017-05-17 09:51:30')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 09:51:30', '2017-05-17 09:51:30')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 09:51:30', '2017-05-17 09:51:30')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 09:51:30', '2017-05-17 09:51:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 09:51:30', '2017-05-17 09:51:30')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 09:51:30', '2017-05-17 09:51:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 09:51:30', '2017-05-17 09:51:30')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 09:51:30', '2017-05-17 09:51:30')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 09:51:30', '2017-05-17 09:51:30')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:51:29', '2017-05-17 11:51:29', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:51:29', '2017-05-17 11:51:29', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:51:29', '2017-05-17 11:51:29', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:51:29', '2017-05-17 11:51:29', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:51:29', '2017-05-17 11:51:29', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:51:30', '2017-05-17 09:51:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:51:30', '2017-05-17 09:51:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 09:51:30', '2017-05-17 09:51:30')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 09:51:30', '2017-05-17 09:51:30')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 09:51:30', '2017-05-17 09:51:30')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 09:51:30', '2017-05-17 09:51:30')[0m
  [1m[35m (83.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 14ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
UserControllerTest: test_should_get_show
----------------------------------------
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_should_get_update
------------------------------------------
Processing by UserController#update as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
UserControllerTest: test_should_get_edit
----------------------------------------
Processing by UserController#edit as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
UserControllerTest: test_should_get_new
---------------------------------------
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (6.3ms)
  Rendered user/new.html.erb within layouts/application (9.7ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 182ms (Views: 169.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_should_get_create
------------------------------------------
Processing by UserController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-17 11:51:30 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:51:30', '2017-05-17 09:51:30')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (40.2ms)
  Rendered catalog/index.html.erb within layouts/application (41.3ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (3.9ms)
Completed 200 OK in 62ms (Views: 48.7ms | ActiveRecord: 2.4ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-17 11:51:30 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Suppliers Load (0.2ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (16.6ms)
  Rendered catalog/index.html.erb within layouts/application (17.1ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 49ms (Views: 18.8ms | ActiveRecord: 2.1ms)
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-17 11:51:30 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1[0m
  [1m[35mSupplier Load (10.1ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (21.5ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 45ms (Views: 32.5ms | ActiveRecord: 10.9ms)
  [1m[36mSupplier Load (0.7ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-17 11:51:30 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.4ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/_articles.html.erb (10.5ms)
  Rendered catalog/latest.html.erb within layouts/application (11.1ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 18ms (Views: 14.5ms | ActiveRecord: 2.0ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-17 11:51:30 +0200
Processing by CatalogController#rss as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/rss.builder (9.0ms)
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (35.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-17 11:51:31 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (1.2ms)
  Rendered user/new.html.erb within layouts/application (2.6ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-17 11:51:31 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '9250f954b2869a92c9ec6c35ab68d307a0548188956794393c8aa55a83848c31e7a7b9f80e7209ac3cd440cf05c3f349d674b845c388747721732fc25956d45b' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'o7uJPTr9iyRmh3v80F2', '400$8$30$9ffb51d9c621a21d$b858257dca146889454c504d47d7210f44dc767fe96a6ded0a1d1cfb0aac8bef', '9250f954b2869a92c9ec6c35ab68d307a0548188956794393c8aa55a83848c31e7a7b9f80e7209ac3cd440cf05c3f349d674b845c388747721732fc25956d45b', 'lUmIOI0FLCj681kwUk6', 1, '2017-05-17 09:51:31', '127.0.0.1', '2017-05-17 09:51:31', '2017-05-17 09:51:31', '2017-05-17 09:51:31')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 187ms (ActiveRecord: 1.8ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:51:31 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = '9250f954b2869a92c9ec6c35ab68d307a0548188956794393c8aa55a83848c31e7a7b9f80e7209ac3cd440cf05c3f349d674b845c388747721732fc25956d45b' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:51:31', `perishable_token` = 'FGMfhaoZVjUQFWUSptJR', `updated_at` = '2017-05-17 09:51:31' WHERE `users`.`id` = 11
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 4.2ms | ActiveRecord: 1.3ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
Started GET "/user/show/?id=11" for 127.0.0.1 at 2017-05-17 11:51:31 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"11"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:51:31', `perishable_token` = 'MStsdlK5UDpciiNiOXR', `updated_at` = '2017-05-17 09:51:31' WHERE `users`.`id` = 11[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 2.9ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
Started GET "/user/edit?id=11" for 127.0.0.1 at 2017-05-17 11:51:31 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"11"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:51:31', `perishable_token` = 'wRbgZOQWlKhkLNCmq0cO', `updated_at` = '2017-05-17 09:51:31' WHERE `users`.`id` = 11[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.8ms)
  Rendered user/edit.html.erb within layouts/application (2.2ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 5.1ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-17 11:51:31 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:51:31', `perishable_token` = 'bR5NZVGJqfYRugVSh3b', `updated_at` = '2017-05-17 09:51:31' WHERE `users`.`id` = 11
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY 'dbe7c58bcdc8ebd77c7169d67231e1b840be90afff63e3acecce17333f13dfd03d381aeb138bc46ab8c824c3c1a9e3585701021e782cf0b528c812f0f3e3917b' AND `users`.`id` != 11) LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 11) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 11) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 11) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `name` = 'George Jackson', `password_salt` = '1tqKVszuy0dQ6AWvqcrI', `crypted_password` = '400$8$33$924126a9eeb5256a$1595aed4e02d3d94f2350315da9505128eb1b50e7115c212f042bf3777df9eaf', `persistence_token` = 'dbe7c58bcdc8ebd77c7169d67231e1b840be90afff63e3acecce17333f13dfd03d381aeb138bc46ab8c824c3c1a9e3585701021e782cf0b528c812f0f3e3917b', `perishable_token` = 'taQ22xyGW0XFH7eQGkQp', `last_request_at` = '2017-05-17 09:51:31', `login_count` = 2, `last_login_at` = '2017-05-17 09:51:31', `current_login_at` = '2017-05-17 09:51:31', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-17 09:51:31' WHERE `users`.`id` = 11[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 147ms (ActiveRecord: 3.1ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:51:31 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:51:31', `perishable_token` = 'zkoCQ3NNAHY2L1frhjX', `updated_at` = '2017-05-17 09:51:31' WHERE `users`.`id` = 11[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.7ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 3.8ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35m (42.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-05-17 09:51:31', '2017-05-17 09:51:31')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (48.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
UserSessionsControllerTest: test_should_get_create
--------------------------------------------------
Processing by UserSessionsController#create as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  Rendered user_sessions/_form.html.erb (4.6ms)
  Rendered user_sessions/new.html.erb within layouts/application (7.1ms)
ApplicationController::current_user
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
UserSessionsControllerTest: test_should_get_new
-----------------------------------------------
Processing by UserSessionsController#new as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  Rendered user_sessions/_form.html.erb (0.8ms)
  Rendered user_sessions/new.html.erb within layouts/application (1.5ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
UserSessionsControllerTest: test_should_get_destroy
---------------------------------------------------
Processing by UserSessionsController#destroy as HTML
ApplicationController::current_user_session
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (1.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-05-17 09:51:31', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-05-17 09:51:31', '2017-05-17 09:51:31')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 11, '2017-05-17 09:51:31', '2017-05-17 09:51:31')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 11, '2017-05-17 09:51:31', '2017-05-17 09:51:31')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (132.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.7ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-05-17 09:51:31', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-05-17 09:51:31', '2017-05-17 09:51:31')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 12, '2017-05-17 09:51:31', '2017-05-17 09:51:31')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 12, '2017-05-17 09:51:31', '2017-05-17 09:51:31')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 12 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 12[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (55.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-05-17 09:51:31', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-05-17 09:51:31', '2017-05-17 09:51:31')[0m
  [1m[35mSQL (69.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 13, '2017-05-17 09:51:31', '2017-05-17 09:51:31')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 13, '2017-05-17 09:51:31', '2017-05-17 09:51:31')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.6ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 13 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (28.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'a85cc9c4505bcb192f763b07ab5d75a733fa1f3029fd7cdfc2bc0803168416bd3be1e1ca66e8e63d5b4076d83905ce9994a93f9f69f128a0c051ee8974b23919' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'hJIhGkG1At0WyAIPeDkN', '400$8$f$1486351090978f62$25e90ffe8ab8e986fe278f47761578b09fd44b36378c481ce9edb484da303b81', 'a85cc9c4505bcb192f763b07ab5d75a733fa1f3029fd7cdfc2bc0803168416bd3be1e1ca66e8e63d5b4076d83905ce9994a93f9f69f128a0c051ee8974b23919', 'nuKnDUl66XNRjTp8lvd', 1, '2017-05-17 09:51:32', '0.0.0.0', '2017-05-17 09:51:32', '2017-05-17 09:51:32', '2017-05-17 09:51:32')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:51:32 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 11:51:32 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.6ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `login_count` = 2, `last_login_at` = '2017-05-17 09:51:32', `current_login_at` = '2017-05-17 09:51:32', `last_login_ip` = '0.0.0.0', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-17 09:51:32', `perishable_token` = 'BerNr7Hlk3Ztlppqc', `updated_at` = '2017-05-17 09:51:32' WHERE `users`.`id` = 12
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 48ms (ActiveRecord: 1.4ms)
  [1m[35m (38.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '3d1ed075c4a19cc73414b8c60949890ac8740e5bf128ecb29547008df42876fc6fcb27abbd9cde7fe56c87292e19e468c87265dd4caea6c1f6949686f05a3d06' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'yygyhUo1s7h9oObY7sd', '400$8$38$c8c9baba092863e4$5d1431d9361a4ef0ae8ae2edfa57629e8af5d53bdcb0e200d1966d663627626a', '3d1ed075c4a19cc73414b8c60949890ac8740e5bf128ecb29547008df42876fc6fcb27abbd9cde7fe56c87292e19e468c87265dd4caea6c1f6949686f05a3d06', 'U2c8ZRnJyEPn3AJO4Xt', '2017-05-17 09:51:32', '2017-05-17 09:51:32')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:51:32 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 11:51:32 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (1.1ms)
  Rendered user_sessions/new.html.erb within layouts/application (1.6ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.6ms)
  [1m[36m (36.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-17 09:51:32', '2017-05-17 09:51:32')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190963, '2017-05-17 09:51:32', '2017-05-17 09:51:32')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 09:51:33' WHERE `orders`.`id` = 980190963
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.7ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190963 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190963[0m
  [1m[35mOrderItem Load (0.4ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190963
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-17 09:51:33' WHERE `orders`.`id` = 980190963
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (34.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-17 09:51:33', '2017-05-17 09:51:33')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (40.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 11:51:33 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:51:33', '2017-05-17 09:51:33')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190964 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[36m (91.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-17 11:51:33 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:51:33', '2017-05-17 09:51:33')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`article_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190965, '2017-05-17 09:51:34', '2017-05-17 09:51:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 3.8ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 11:51:34 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190965 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (28.5ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.6ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.2ms)
  Rendered cart/_cart.html.erb (17.3ms)
Completed 200 OK in 65ms (Views: 59.1ms | ActiveRecord: 2.5ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-17 11:51:34 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190965"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-17 09:51:34', '2017-05-17 09:51:34')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190964, '2017-05-17 09:51:34', '2017-05-17 09:51:34')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 09:51:34' WHERE `orders`.`id` = 980190964
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190963[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 712ms (ActiveRecord: 5.4ms)
  [1m[36m (39.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:51:34', '2017-05-17 09:51:34')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190966, '2017-05-17 09:51:34', '2017-05-17 09:51:34')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 4.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966
  [1m[36m (43.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------
CartControllerTest: test_add_xhr
--------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:51:34', '2017-05-17 09:51:34')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967 AND `cart_items`.`article_id` = 5[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 1, 500.0, 980190967, '2017-05-17 09:51:34', '2017-05-17 09:51:34')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  Rendered cart/_cart_notice.html.erb (0.5ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967
  Rendered cart/_item.html.erb (1.9ms)
  Rendered cart/_cart.html.erb (18.1ms)
  Rendered cart/add_with_ajax.js.erb (24.3ms)
Completed 200 OK in 59ms (Views: 46.6ms | ActiveRecord: 4.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967[0m
  [1m[35m (30.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:51:35', '2017-05-17 09:51:35')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190968, '2017-05-17 09:51:35', '2017-05-17 09:51:35')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 3.8ms)
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190968
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190966 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190966
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 3.4ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190968
  [1m[36m (42.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:51:35', '2017-05-17 09:51:35')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969 AND `cart_items`.`article_id` = 4
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190969, '2017-05-17 09:51:35', '2017-05-17 09:51:35')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.8ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 5.3ms)
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190969[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190967[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 2.2ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190969
  [1m[36m (40.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.5ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-05-17 09:51:35', '2017-05-17 09:51:35')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-05-17 09:51:35', '2017-05-17 09:51:35')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:51:35 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (86.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (78.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:52:36', '2017-05-17 09:52:36', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:52:36', '2017-05-17 09:52:36', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:52:36', '2017-05-17 09:52:36', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:52:36', '2017-05-17 09:52:36', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:52:36', '2017-05-17 09:52:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:52:36', '2017-05-17 09:52:36', 298486374)[0m
  [1m[35mFixture Delete (85.6ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 09:52:36', '2017-05-17 09:52:36')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 09:52:36', '2017-05-17 09:52:36')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 09:52:36', '2017-05-17 09:52:36')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 09:52:36', '2017-05-17 09:52:36')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 09:52:36', '2017-05-17 09:52:36')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 09:52:36', '2017-05-17 09:52:36')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 09:52:36', '2017-05-17 09:52:36')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 09:52:36', '2017-05-17 09:52:36')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 09:52:36', '2017-05-17 09:52:36')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 09:52:36', '2017-05-17 09:52:36')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:52:36', '2017-05-17 11:52:36', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:52:36', '2017-05-17 11:52:36', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:52:36', '2017-05-17 11:52:36', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:52:36', '2017-05-17 11:52:36', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:52:36', '2017-05-17 11:52:36', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:52:36', '2017-05-17 09:52:36', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:52:36', '2017-05-17 09:52:36', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 09:52:36', '2017-05-17 09:52:36')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 09:52:36', '2017-05-17 09:52:36')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 09:52:36', '2017-05-17 09:52:36')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 09:52:36', '2017-05-17 09:52:36')[0m
  [1m[35m (81.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-05-17 09:52:36', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-05-17 09:52:36', '2017-05-17 09:52:36')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 14, '2017-05-17 09:52:36', '2017-05-17 09:52:36')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 14, '2017-05-17 09:52:36', '2017-05-17 09:52:36')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 14 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (43.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.7ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-05-17 09:52:36', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-05-17 09:52:36', '2017-05-17 09:52:36')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 15, '2017-05-17 09:52:36', '2017-05-17 09:52:36')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 15, '2017-05-17 09:52:36', '2017-05-17 09:52:36')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (36.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.7ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-05-17 09:52:37', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-05-17 09:52:37', '2017-05-17 09:52:37')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 16, '2017-05-17 09:52:37', '2017-05-17 09:52:37')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 16, '2017-05-17 09:52:37', '2017-05-17 09:52:37')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 16 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 16[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.6ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (43.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '9897ed4668062b78670d84adb749535ff56aea9ff0135cef33d872fd81da6f6953afc2c75879150c4a3b98dfa225f3721461f7a57a93486605da4f1cb9a268ed' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'Y3PIFxWwqeWzux42bxB0', '400$8$30$7d2d5e8fca7bf648$6a640a0bd5ba9666d84b7096e136cbc730bb4c7871c68e5139b8ffe203d17f41', '9897ed4668062b78670d84adb749535ff56aea9ff0135cef33d872fd81da6f6953afc2c75879150c4a3b98dfa225f3721461f7a57a93486605da4f1cb9a268ed', 'cGZSFTq4lgCCI4RiEsL', '2017-05-17 09:52:37', '2017-05-17 09:52:37')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:52:37 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 11:52:37 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.5ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (5.9ms)
  Rendered user_sessions/new.html.erb within layouts/application (11.1ms)
ApplicationController::current_user
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 190ms (Views: 185.2ms | ActiveRecord: 0.9ms)
  [1m[35m (41.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '0797d223dac57eb0b6e861741cdd11b4d2ae2b0eb4aa2a520a038eb4ab84cb778db6ae31cb19ed5da3014cd9d5f7b22a2ebe4d850a1de33c282686d4a6e31dfe' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'ASLIv4NzaqQ1WkeFWBU', '400$8$38$5746941fda5431b5$5c7938bbe5e493cae286d07bdaa14e6f566c8fe8a87bdd705d0c529eb2116d19', '0797d223dac57eb0b6e861741cdd11b4d2ae2b0eb4aa2a520a038eb4ab84cb778db6ae31cb19ed5da3014cd9d5f7b22a2ebe4d850a1de33c282686d4a6e31dfe', '7Zwzw9F017DkGQzKYWlh', '2017-05-17 09:52:37', '2017-05-17 09:52:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:52:37 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 11:52:37 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `users` SET `login_count` = 1, `current_login_at` = '2017-05-17 09:52:37', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-17 09:52:37', `perishable_token` = 'raGRo4ZAAoEOvdT1skt', `updated_at` = '2017-05-17 09:52:37' WHERE `users`.`id` = 15[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 145ms (ActiveRecord: 1.8ms)
  [1m[36m (45.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:52:37', '2017-05-17 09:52:37')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190970, '2017-05-17 09:52:37', '2017-05-17 09:52:37')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 22ms (ActiveRecord: 3.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970
  [1m[36m (41.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:52:38', '2017-05-17 09:52:38')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971 AND `cart_items`.`article_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190971, '2017-05-17 09:52:38', '2017-05-17 09:52:38')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190971[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190969[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190971
  [1m[36m (100.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
--------------------------------
CartControllerTest: test_add_xhr
--------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:52:38', '2017-05-17 09:52:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972 AND `cart_items`.`article_id` = 5[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 1, 500.0, 980190972, '2017-05-17 09:52:38', '2017-05-17 09:52:38')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972
  Rendered cart/_item.html.erb (1.4ms)
  Rendered cart/_cart.html.erb (35.7ms)
  Rendered cart/add_with_ajax.js.erb (38.6ms)
Completed 200 OK in 61ms (Views: 45.2ms | ActiveRecord: 5.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972[0m
  [1m[35m (31.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:52:38', '2017-05-17 09:52:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190973, '2017-05-17 09:52:38', '2017-05-17 09:52:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 3.1ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190973
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190971 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190971
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190973
  [1m[36m (36.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-05-17 09:52:38', '2017-05-17 09:52:38')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-05-17 09:52:38', '2017-05-17 09:52:38')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:52:38 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (40.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-17 09:52:38', '2017-05-17 09:52:38')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190965, '2017-05-17 09:52:38', '2017-05-17 09:52:38')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 09:52:39' WHERE `orders`.`id` = 980190965[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190965 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190965
  [1m[36mOrderItem Load (0.7ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190965[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-17 09:52:39' WHERE `orders`.`id` = 980190965[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (33.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (1.9ms)
  Rendered user/new.html.erb within layouts/application (3.7ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.4ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'a6a898beb90514dab41fb8509b8e2ba528cf769976c006aa94461eb6e3f63724031f6b60d9691f6a3dcb6fdef9e5687e96d1e6cb2da9982e1f8c42031db4425c' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'GnuH2wrGa9RSQPfPrSO', '400$8$26$dd0b1f14a3f09702$386c76ad70a51e0dcf8a53867dc1185ce5ef0949718022d0adb75912d8936b4f', 'a6a898beb90514dab41fb8509b8e2ba528cf769976c006aa94461eb6e3f63724031f6b60d9691f6a3dcb6fdef9e5687e96d1e6cb2da9982e1f8c42031db4425c', 'ZeQf8R4eZahubqiD8MLo', 1, '2017-05-17 09:52:39', '127.0.0.1', '2017-05-17 09:52:39', '2017-05-17 09:52:39', '2017-05-17 09:52:39')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 128ms (ActiveRecord: 2.2ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = 'a6a898beb90514dab41fb8509b8e2ba528cf769976c006aa94461eb6e3f63724031f6b60d9691f6a3dcb6fdef9e5687e96d1e6cb2da9982e1f8c42031db4425c' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:52:39', `perishable_token` = '1A4mF0hIixKXyjqjW5ao', `updated_at` = '2017-05-17 09:52:39' WHERE `users`.`id` = 16[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (2.8ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 19ms (Views: 13.6ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=16" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"16"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:52:39', `perishable_token` = 'YAKbhRRHRbsseT6thXj', `updated_at` = '2017-05-17 09:52:39' WHERE `users`.`id` = 16
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.6ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 3.2ms | ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
Started GET "/user/edit?id=16" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"16"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:52:39', `perishable_token` = 'huRsMiAGjtIRrfpN6kAb', `updated_at` = '2017-05-17 09:52:39' WHERE `users`.`id` = 16
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.6ms)
  Rendered user/edit.html.erb within layouts/application (2.1ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 11ms (Views: 4.8ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:52:39', `perishable_token` = 'fODGHwWqMSCXQPDS1fK', `updated_at` = '2017-05-17 09:52:39' WHERE `users`.`id` = 16[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY '54737df3dc36c7ef60e771752a803e672146a071bed44c4b870b3de8689a33343cfd9a6aecd11d7fd4c8f75c948f9be1921aa992ee28f1f086e7f2979af492da' AND `users`.`id` != 16) LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 16) LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 16) LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 16) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'qxpfyHMkuS7TmGReFbB', `crypted_password` = '400$8$35$a1285fb3b0cd89ef$bd830adf09ed922d22007c681422688e4c5a245e763997186b6a8b0c86536333', `persistence_token` = '54737df3dc36c7ef60e771752a803e672146a071bed44c4b870b3de8689a33343cfd9a6aecd11d7fd4c8f75c948f9be1921aa992ee28f1f086e7f2979af492da', `perishable_token` = 'BSf9z40RoBP8M35bv', `last_request_at` = '2017-05-17 09:52:39', `login_count` = 2, `last_login_at` = '2017-05-17 09:52:39', `current_login_at` = '2017-05-17 09:52:39', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-17 09:52:39' WHERE `users`.`id` = 16
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 150ms (ActiveRecord: 4.5ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.7ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:52:39', `perishable_token` = 'E9wN3pSgDo3smecm0n', `updated_at` = '2017-05-17 09:52:39' WHERE `users`.`id` = 16
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.9ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 4.4ms | ActiveRecord: 1.7ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (32.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:52:39', '2017-05-17 09:52:39')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190974 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.7ms)
  [1m[36m (35.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:52:39', '2017-05-17 09:52:39')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975 AND `cart_items`.`article_id` = 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190975, '2017-05-17 09:52:39', '2017-05-17 09:52:39')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 3.7ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190975 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (35.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[35mCartItem Load (0.4ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.6ms)
  Rendered cart/_cart.html.erb (9.9ms)
Completed 200 OK in 63ms (Views: 55.3ms | ActiveRecord: 2.8ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-17 11:52:39 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190975"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-17 09:52:39', '2017-05-17 09:52:39')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190966, '2017-05-17 09:52:39', '2017-05-17 09:52:39')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 09:52:40' WHERE `orders`.`id` = 980190966
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190972[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 633ms (ActiveRecord: 4.9ms)
  [1m[36m (41.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-17 09:52:40', '2017-05-17 09:52:40')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (36.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-05-17 09:52:40', '2017-05-17 09:52:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (106.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-17 11:52:40 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:52:40', '2017-05-17 09:52:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (18.8ms)
  Rendered catalog/index.html.erb within layouts/application (20.1ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190976[0m
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 32ms (Views: 25.8ms | ActiveRecord: 2.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-17 11:52:40 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190976 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.2ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (11.1ms)
  Rendered catalog/index.html.erb within layouts/application (11.5ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190976[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 2.2ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-17 11:52:40 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (3.0ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 1.0ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-17 11:52:40 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190976 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (7.0ms)
  Rendered catalog/latest.html.erb within layouts/application (7.6ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190976
  Rendered cart/_cart.html.erb (0.9ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 1.7ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-17 11:52:40 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190976 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (7.2ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 1.0ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (36.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
UserControllerTest: test_should_get_new
---------------------------------------
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (0.8ms)
  Rendered user/new.html.erb within layouts/application (1.4ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
UserControllerTest: test_should_get_show
----------------------------------------
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_should_get_update
------------------------------------------
Processing by UserController#update as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
UserControllerTest: test_should_get_create
------------------------------------------
Processing by UserController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
UserControllerTest: test_should_get_edit
----------------------------------------
Processing by UserController#edit as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
UserSessionsControllerTest: test_should_get_destroy
---------------------------------------------------
Processing by UserSessionsController#destroy as HTML
ApplicationController::current_user_session
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserSessionsControllerTest: test_should_get_create
--------------------------------------------------
Processing by UserSessionsController#create as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  Rendered user_sessions/_form.html.erb (0.4ms)
  Rendered user_sessions/new.html.erb within layouts/application (0.9ms)
ApplicationController::current_user
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
UserSessionsControllerTest: test_should_get_new
-----------------------------------------------
Processing by UserSessionsController#new as HTML
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  Rendered user_sessions/_form.html.erb (0.3ms)
  Rendered user_sessions/new.html.erb within layouts/application (0.6ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (68.5ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:54:12', '2017-05-17 09:54:12', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:54:12', '2017-05-17 09:54:12', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:54:12', '2017-05-17 09:54:12', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:54:12', '2017-05-17 09:54:12', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:54:12', '2017-05-17 09:54:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:54:12', '2017-05-17 09:54:12', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 09:54:12', '2017-05-17 09:54:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 09:54:12', '2017-05-17 09:54:12')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 09:54:12', '2017-05-17 09:54:12')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 09:54:12', '2017-05-17 09:54:12')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 09:54:12', '2017-05-17 09:54:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 09:54:12', '2017-05-17 09:54:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 09:54:12', '2017-05-17 09:54:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 09:54:12', '2017-05-17 09:54:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 09:54:12', '2017-05-17 09:54:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 09:54:12', '2017-05-17 09:54:12')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:54:12', '2017-05-17 11:54:12', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:54:12', '2017-05-17 11:54:12', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:54:12', '2017-05-17 11:54:12', 3, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:54:12', '2017-05-17 11:54:12', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:54:12', '2017-05-17 11:54:12', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:54:12', '2017-05-17 09:54:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:54:12', '2017-05-17 09:54:12', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 09:54:12', '2017-05-17 09:54:12')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 09:54:12', '2017-05-17 09:54:12')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 09:54:12', '2017-05-17 09:54:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 09:54:12', '2017-05-17 09:54:12')[0m
  [1m[35m (61.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-17 11:54:12 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:54:13', '2017-05-17 09:54:13')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (44.0ms)
  Rendered catalog/index.html.erb within layouts/application (47.5ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190977[0m
  Rendered cart/_cart.html.erb (3.8ms)
Completed 200 OK in 236ms (Views: 208.0ms | ActiveRecord: 3.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-17 11:54:13 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190977 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (16.6ms)
  Rendered catalog/index.html.erb within layouts/application (17.1ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190977[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 25ms (Views: 18.7ms | ActiveRecord: 2.5ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-17 11:54:13 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (8.4ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 1.2ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-17 11:54:13 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190977 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (8.0ms)
  Rendered catalog/latest.html.erb within layouts/application (8.6ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190977
  Rendered cart/_cart.html.erb (1.1ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 1.6ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-17 11:54:13 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190977 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (8.3ms)
Completed 200 OK in 34ms (Views: 8.3ms | ActiveRecord: 1.1ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.2ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (32.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-05-17 09:54:13', '2017-05-17 09:54:13')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:54:13 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (35.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190978 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190978, '2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 17ms (ActiveRecord: 2.9ms)
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190978 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190978
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190978 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190978 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190973 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190973
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190978 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190978
  [1m[36m (74.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190979 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190979, '2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190979 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190979
  [1m[36m (42.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------
CartControllerTest: test_add_xhr
--------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190980 AND `cart_items`.`article_id` = 5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 1, 500.0, 980190980, '2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[35mCartItem Load (0.5ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190980
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (9.3ms)
  Rendered cart/add_with_ajax.js.erb (12.3ms)
Completed 200 OK in 28ms (Views: 17.5ms | ActiveRecord: 2.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190980 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190980[0m
  [1m[35m (32.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190981 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190981, '2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190981 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190981
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190981 LIMIT 1[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190981
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190976
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190981 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190981[0m
  [1m[35m (72.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.5ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-05-17 09:54:13', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 17, '2017-05-17 09:54:13', '2017-05-17 09:54:13')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 17, '2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 17 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (93.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-05-17 09:54:13', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-05-17 09:54:13', '2017-05-17 09:54:13')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 18, '2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 18, '2017-05-17 09:54:13', '2017-05-17 09:54:13')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (35.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-05-17 09:54:13', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-05-17 09:54:13', '2017-05-17 09:54:13')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 19, '2017-05-17 09:54:13', '2017-05-17 09:54:13')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 19, '2017-05-17 09:54:13', '2017-05-17 09:54:13')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 19 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 19[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (37.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '4d45ea16ee93f1a72dc2e644e4ed7543b6c1156896e6c14d5e16804597952023dc396a9b560c706b7284c27bb3e604e3951b64387313bf6d42faedf37388028e' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', '30hbeWP9GlW49OtCUtCY', '400$8$39$c55ae732767a1f45$f7dfc5285d237c26ea3ae8b265caffa8cc20326de08bc406e8c5ba1c897b1858', '4d45ea16ee93f1a72dc2e644e4ed7543b6c1156896e6c14d5e16804597952023dc396a9b560c706b7284c27bb3e604e3951b64387313bf6d42faedf37388028e', 'Cyzv663KpGZGv0VsiRQc', 1, '2017-05-17 09:54:14', '0.0.0.0', '2017-05-17 09:54:14', '2017-05-17 09:54:14', '2017-05-17 09:54:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:54:14 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 11:54:14 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1
  Rendered user_sessions/_form.html.erb (7.1ms)
  Rendered user_sessions/new.html.erb within layouts/application (9.1ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 20ms (Views: 16.7ms | ActiveRecord: 0.7ms)
  [1m[35m (37.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '04effbe950553bf9dc64cb0cd02fbfd6f6170409aa5f182d6bb7dc2556caa6ef8412101c445ca4f330349898f42b62ef8ef32a3fe358fffd4cc23bf4623a646e' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', '3VZcARcJdl7KkEJ7UJi', '400$8$38$898de6978dc47b85$7efbf6656914946e4c206ae1142f1380b5d403b32705c6fe0c077c20b501843d', '04effbe950553bf9dc64cb0cd02fbfd6f6170409aa5f182d6bb7dc2556caa6ef8412101c445ca4f330349898f42b62ef8ef32a3fe358fffd4cc23bf4623a646e', 'qqoNDJYXeDXewIXD4nr', '2017-05-17 09:54:14', '2017-05-17 09:54:14')[0m
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:54:14 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 11:54:14 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `users` SET `login_count` = 1, `current_login_at` = '2017-05-17 09:54:14', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-17 09:54:14', `perishable_token` = 'VkWbAOKBgwupPG0AE7Kj', `updated_at` = '2017-05-17 09:54:14' WHERE `users`.`id` = 18[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 165ms (ActiveRecord: 1.1ms)
  [1m[36m (35.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-17 11:54:14 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (1.7ms)
  Rendered user/new.html.erb within layouts/application (3.4ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.3ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-17 11:54:14 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '54b0e7a1374a4665ecb9126acbd795d18f3dfb632ee2f4882c911bdc1a1005001a64d5a1c00a9bfa1c26e1f7a7f161a46004f60410f24037f3e24117a841d407' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'PXtdh32U8tBpVUo6IQY', '400$8$39$38560857d0cdf522$5ba529a8fc32c1b477cbe96532828340e9c95da0cfdf821294fdb8bd8409ac13', '54b0e7a1374a4665ecb9126acbd795d18f3dfb632ee2f4882c911bdc1a1005001a64d5a1c00a9bfa1c26e1f7a7f161a46004f60410f24037f3e24117a841d407', 'GtHsDxW8OOjqSKvW0ll1', 1, '2017-05-17 09:54:14', '127.0.0.1', '2017-05-17 09:54:14', '2017-05-17 09:54:14', '2017-05-17 09:54:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 154ms (ActiveRecord: 1.5ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:54:14 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = '54b0e7a1374a4665ecb9126acbd795d18f3dfb632ee2f4882c911bdc1a1005001a64d5a1c00a9bfa1c26e1f7a7f161a46004f60410f24037f3e24117a841d407' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:54:14', `perishable_token` = 'e4YkqsWimnF0FscWnCOW', `updated_at` = '2017-05-17 09:54:14' WHERE `users`.`id` = 19[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 10ms (Views: 3.4ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=19" for 127.0.0.1 at 2017-05-17 11:54:14 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"19"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:54:14', `perishable_token` = '6d0hWwEnrwJS1HVhrh5', `updated_at` = '2017-05-17 09:54:14' WHERE `users`.`id` = 19
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
Started GET "/user/edit?id=19" for 127.0.0.1 at 2017-05-17 11:54:14 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"19"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:54:14', `perishable_token` = '7Y2CsaQ9tbQNzEyfYN', `updated_at` = '2017-05-17 09:54:14' WHERE `users`.`id` = 19
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.4ms)
  Rendered user/edit.html.erb within layouts/application (1.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.8ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-17 11:54:14 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:54:14', `perishable_token` = 'XQ8MIeaOqnBtEguK6904', `updated_at` = '2017-05-17 09:54:14' WHERE `users`.`id` = 19[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd0a9eca86ec143f3b03324a2aa89679dd9320d0680796687fd5c7e3ca09531a252cb1bd6cfc9955a87d49943cde0c8e102149f51aab7877035a03f6bf3e2c1f7' AND `users`.`id` != 19) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 19) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 19) LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 19) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'cXMzGiQZHpV6k5yKBDr9', `crypted_password` = '400$8$2c$e38ed419a7090ad1$dba50048cfed65b81632d0f3e241289f8f52f5a3b8fb2a654114182331b4eada', `persistence_token` = 'd0a9eca86ec143f3b03324a2aa89679dd9320d0680796687fd5c7e3ca09531a252cb1bd6cfc9955a87d49943cde0c8e102149f51aab7877035a03f6bf3e2c1f7', `perishable_token` = 'UxQXvuHfspptJ6j4vwE4', `last_request_at` = '2017-05-17 09:54:15', `login_count` = 2, `last_login_at` = '2017-05-17 09:54:14', `current_login_at` = '2017-05-17 09:54:15', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-17 09:54:15' WHERE `users`.`id` = 19
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 140ms (ActiveRecord: 3.4ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:54:15 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:54:15', `perishable_token` = 'n6wKqdiI0K0sUI5jePBc', `updated_at` = '2017-05-17 09:54:15' WHERE `users`.`id` = 19
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (43.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-05-17 09:54:15', '2017-05-17 09:54:15')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (40.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.4ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-17 09:54:15', '2017-05-17 09:54:15')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190967, '2017-05-17 09:54:15', '2017-05-17 09:54:15')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 09:54:15' WHERE `orders`.`id` = 980190967[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190967 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190967
  [1m[36mOrderItem Load (0.5ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190967[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-17 09:54:15' WHERE `orders`.`id` = 980190967[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (37.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 11:54:15 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:54:15', '2017-05-17 09:54:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.5ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190982 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[36m (38.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-17 11:54:16 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:54:16', '2017-05-17 09:54:16')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190983 AND `cart_items`.`article_id` = 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190983, '2017-05-17 09:54:16', '2017-05-17 09:54:16')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 11:54:16 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190983 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190983 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (22.0ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190983
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.2ms)
  Rendered cart/_cart.html.erb (5.8ms)
Completed 200 OK in 40ms (Views: 35.5ms | ActiveRecord: 2.1ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-17 11:54:16 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190983"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190983 LIMIT 1[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190983
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-17 09:54:16', '2017-05-17 09:54:16')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190968, '2017-05-17 09:54:16', '2017-05-17 09:54:16')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 09:54:17' WHERE `orders`.`id` = 980190968
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190977[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 927ms (ActiveRecord: 2.8ms)
  [1m[36m (66.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-17 09:54:17', '2017-05-17 09:54:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (40.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (73.9ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:55:43', '2017-05-17 09:55:43', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:55:43', '2017-05-17 09:55:43', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:55:43', '2017-05-17 09:55:43', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:55:43', '2017-05-17 09:55:43', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:55:43', '2017-05-17 09:55:43', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:55:43', '2017-05-17 09:55:43', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 09:55:43', '2017-05-17 09:55:43')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 09:55:43', '2017-05-17 09:55:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 09:55:43', '2017-05-17 09:55:43')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 09:55:43', '2017-05-17 09:55:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 09:55:43', '2017-05-17 09:55:43')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 09:55:43', '2017-05-17 09:55:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 09:55:43', '2017-05-17 09:55:43')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 09:55:43', '2017-05-17 09:55:43')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 09:55:43', '2017-05-17 09:55:43')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 09:55:43', '2017-05-17 09:55:43')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:55:43', '2017-05-17 11:55:43', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:55:43', '2017-05-17 11:55:43', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:55:43', '2017-05-17 11:55:43', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:55:43', '2017-05-17 11:55:43', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 11:55:43', '2017-05-17 11:55:43', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:55:44', '2017-05-17 09:55:44', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 09:55:44', '2017-05-17 09:55:44', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 09:55:44', '2017-05-17 09:55:44')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 09:55:44', '2017-05-17 09:55:44')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 09:55:44', '2017-05-17 09:55:44')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 09:55:44', '2017-05-17 09:55:44')[0m
  [1m[35m (75.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_edit
--------------------------------------------------
Processing by Admin::ArticleController#edit as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 30ms (ActiveRecord: 17.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_update
----------------------------------------------------
Processing by Admin::ArticleController#update as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
Admin::ArticleControllerTest: test_should_get_index
---------------------------------------------------
Processing by Admin::ArticleController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
Admin::ArticleControllerTest: test_should_get_new
-------------------------------------------------
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_create
----------------------------------------------------
Processing by Admin::ArticleController#create as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
Admin::ArticleControllerTest: test_should_get_destroy
-----------------------------------------------------
Processing by Admin::ArticleController#destroy as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::ArticleControllerTest: test_should_get_show
--------------------------------------------------
Processing by Admin::ArticleController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------
ArticleTest: test_create
------------------------
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT `suppliers`.* FROM `suppliers`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.5ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-05-17 09:55:44', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-05-17 09:55:44', '2017-05-17 09:55:44')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 20, '2017-05-17 09:55:44', '2017-05-17 09:55:44')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 20, '2017-05-17 09:55:44', '2017-05-17 09:55:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (103.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-05-17 09:55:44', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-05-17 09:55:44', '2017-05-17 09:55:44')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 21, '2017-05-17 09:55:44', '2017-05-17 09:55:44')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 21, '2017-05-17 09:55:44', '2017-05-17 09:55:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 21 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 21
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2
  [1m[36m (34.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-05-17 09:55:44', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-05-17 09:55:44', '2017-05-17 09:55:44')[0m
  [1m[35mSQL (78.5ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 22, '2017-05-17 09:55:44', '2017-05-17 09:55:44')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 22, '2017-05-17 09:55:44', '2017-05-17 09:55:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 22 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (41.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-17 09:55:44', '2017-05-17 09:55:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (36.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-17 11:55:44 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered user/_form.html.erb (2.6ms)
  Rendered user/new.html.erb within layouts/application (6.1ms)
ApplicationController::current_user
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 251ms (Views: 229.9ms | ActiveRecord: 0.6ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-17 11:55:44 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'ab4ef550e3c295ab0a5c48405f17d5113f1ccbe5e4de6f395be465d1bf592718e7e9548bd0e9884d67c93b08ccc19bd2266f98b7cf4d1bd42fc02d335e565a43' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', '5r8SeVGprRZdGEzvHVLq', '400$8$37$838107bc1e8d8731$5ccb3f061c831d7dc386b577246017aeff0ed18a4d97bfa8ba68416a8beff6fa', 'ab4ef550e3c295ab0a5c48405f17d5113f1ccbe5e4de6f395be465d1bf592718e7e9548bd0e9884d67c93b08ccc19bd2266f98b7cf4d1bd42fc02d335e565a43', '2Uiu7sRXU7711CRTgFc', 1, '2017-05-17 09:55:45', '127.0.0.1', '2017-05-17 09:55:45', '2017-05-17 09:55:45', '2017-05-17 09:55:45')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 195ms (ActiveRecord: 2.2ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:55:45 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = 'ab4ef550e3c295ab0a5c48405f17d5113f1ccbe5e4de6f395be465d1bf592718e7e9548bd0e9884d67c93b08ccc19bd2266f98b7cf4d1bd42fc02d335e565a43' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:55:45', `perishable_token` = 'htTUrFOUc2YIb07tQ3Go', `updated_at` = '2017-05-17 09:55:45' WHERE `users`.`id` = 20
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.3ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 4.4ms | ActiveRecord: 1.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
Started GET "/user/show/?id=20" for 127.0.0.1 at 2017-05-17 11:55:45 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"20"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:55:45', `perishable_token` = 'wUpw1x0gaGiBeL3QOKc', `updated_at` = '2017-05-17 09:55:45' WHERE `users`.`id` = 20[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 2.7ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
Started GET "/user/edit?id=20" for 127.0.0.1 at 2017-05-17 11:55:45 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"20"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:55:45', `perishable_token` = 'OYVtSc8egpn8Ax3JonQw', `updated_at` = '2017-05-17 09:55:45' WHERE `users`.`id` = 20[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.8ms)
  Rendered user/edit.html.erb within layouts/application (2.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 40ms (Views: 5.9ms | ActiveRecord: 1.1ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-17 11:55:45 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 09:55:45', `perishable_token` = 'abHjZARaLig2EiUCIerT', `updated_at` = '2017-05-17 09:55:45' WHERE `users`.`id` = 20
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c8ac6d1ab493ff6c9fe54a04e9096877d6e635c0ce97b37df93288e1099f91e62dd363201faddc4e14e1e94d04a3c4088c3cea60b7dc9834f5fe23bfc01987b3' AND `users`.`id` != 20) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 20) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 20) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 20) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'unbxnsOzhHd5VQvvTM5d', `crypted_password` = '400$8$23$e2fad186b105d31c$cc44999a703bba3ab6c311f2a32b8ea1763beeb222079b68ab7b49edc1c97a4b', `persistence_token` = 'c8ac6d1ab493ff6c9fe54a04e9096877d6e635c0ce97b37df93288e1099f91e62dd363201faddc4e14e1e94d04a3c4088c3cea60b7dc9834f5fe23bfc01987b3', `perishable_token` = 'tlPb4KaYpsyVS2y6GZw', `last_request_at` = '2017-05-17 09:55:45', `login_count` = 2, `last_login_at` = '2017-05-17 09:55:45', `current_login_at` = '2017-05-17 09:55:45', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-17 09:55:45' WHERE `users`.`id` = 20[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/user/show
Completed 302 Found in 118ms (ActiveRecord: 4.1ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 11:55:45 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 09:55:45', `perishable_token` = 'p5BRmZHdNGYlFeAuQ1B', `updated_at` = '2017-05-17 09:55:45' WHERE `users`.`id` = 20[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 9ms (Views: 3.3ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35m (43.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2017-05-17 09:55:45', '2017-05-17 09:55:45')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190969, '2017-05-17 09:55:45', '2017-05-17 09:55:45')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 09:55:46' WHERE `orders`.`id` = 980190969[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190969 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190969
  [1m[36mOrderItem Load (0.3ms)[0m  [1mSELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190969[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `status` = 'closed', `updated_at` = '2017-05-17 09:55:46' WHERE `orders`.`id` = 980190969[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (41.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.6ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-05-17 09:55:46', '2017-05-17 09:55:46')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-05-17 09:55:46', '2017-05-17 09:55:46')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.5ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:55:46 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (42.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------
CartControllerTest: test_add_xhr
--------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:55:46', '2017-05-17 09:55:46')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190984 AND `cart_items`.`article_id` = 5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 1, 500.0, 980190984, '2017-05-17 09:55:46', '2017-05-17 09:55:46')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190984[0m
  Rendered cart/_item.html.erb (1.6ms)
  Rendered cart/_cart.html.erb (10.5ms)
  Rendered cart/add_with_ajax.js.erb (13.7ms)
Completed 200 OK in 36ms (Views: 20.3ms | ActiveRecord: 2.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190984 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190984
  [1m[36m (40.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:55:46', '2017-05-17 09:55:46')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190985 AND `cart_items`.`article_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190985, '2017-05-17 09:55:46', '2017-05-17 09:55:46')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190985 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190985[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190985 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190985 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190979 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190979[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190985 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190985[0m
  [1m[35m (377.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:55:46', '2017-05-17 09:55:46')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190986 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190986, '2017-05-17 09:55:46', '2017-05-17 09:55:46')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 2.1ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190986 LIMIT 1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190986
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190986 LIMIT 1[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190986
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190980
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190986 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190986[0m
  [1m[35m (45.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:55:47', '2017-05-17 09:55:47')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190987 AND `cart_items`.`article_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190987, '2017-05-17 09:55:47', '2017-05-17 09:55:47')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 12ms (ActiveRecord: 3.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190987 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190987[0m
  [1m[35m (37.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
AuthenticationTest: test_successful_login
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '0f4aa9b5d294b1e57504cf4f205a523da8542f2239fcea5e46d4d8ff5b25d534f71db920fe9622365c10c778ddfc013d1e3de7fcc16039cb52e30067f563421c' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'Gr5BNDD1R8U7Axfk03Qz', '400$8$37$e3400fd407a9fa21$bfa724baa320dfac4c9c3c021c4fccb0b2bf71de9ffa21464dcf7f89da4755d1', '0f4aa9b5d294b1e57504cf4f205a523da8542f2239fcea5e46d4d8ff5b25d534f71db920fe9622365c10c778ddfc013d1e3de7fcc16039cb52e30067f563421c', 'CywQJFBXkhfiLBecaHgg', 1, '2017-05-17 09:55:47', '0.0.0.0', '2017-05-17 09:55:47', '2017-05-17 09:55:47', '2017-05-17 09:55:47')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:55:47 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 11:55:47 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"george", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george'  ORDER BY `users`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `login_count` = 2, `last_login_at` = '2017-05-17 09:55:47', `current_login_at` = '2017-05-17 09:55:47', `last_login_ip` = '0.0.0.0', `current_login_ip` = '127.0.0.1', `last_request_at` = '2017-05-17 09:55:47', `perishable_token` = 'WnKpjCDvdZ4giAeDU6Y', `updated_at` = '2017-05-17 09:55:47' WHERE `users`.`id` = 21
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/article/new
Completed 302 Found in 151ms (ActiveRecord: 1.1ms)
  [1m[35m (91.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
AuthenticationTest: test_failed_login
-------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY 'ada88ecca3830d6f97c1b369be75d7fb2faf2b39de6b3df05dd302db3882ca5345d589b12585cc1b4735ccaaa1741a6c32c09e5874161ab530cdc639ba53195c' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'DuEEoYtaaYJuOFNHo4z', '400$8$34$af32a0a040d0c5f9$8072015c96ea9168c3f998d378ab5add5231d5f1b5d55c680a81eff24c1a8eea', 'ada88ecca3830d6f97c1b369be75d7fb2faf2b39de6b3df05dd302db3882ca5345d589b12585cc1b4735ccaaa1741a6c32c09e5874161ab530cdc639ba53195c', 's869wkT1jUAVjgjrs63s', '2017-05-17 09:55:47', '2017-05-17 09:55:47')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 11:55:47 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/user_sessions/create" for 127.0.0.1 at 2017-05-17 11:55:47 +0200
Processing by UserSessionsController#create as HTML
  Parameters: {"user_session"=>{"login"=>"harry", "password"=>"[FILTERED]"}}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`login` = 'harry'  ORDER BY `users`.`id` ASC LIMIT 1[0m
  Rendered user_sessions/_form.html.erb (5.4ms)
  Rendered user_sessions/new.html.erb within layouts/application (7.8ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 0.7ms)
  [1m[36m (39.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-05-17 09:55:47', '2017-05-17 09:55:47')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.7ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-17 11:55:47 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:55:47', '2017-05-17 09:55:47')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190988 AND `cart_items`.`article_id` = 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190988, '2017-05-17 09:55:47', '2017-05-17 09:55:47')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 2.7ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 11:55:47 +0200
Processing by CheckoutController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190988 LIMIT 1
  [1m[36mArticle Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190988 LIMIT 1[0m
  Rendered checkout/index.html.erb within layouts/application (21.1ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190988[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  Rendered cart/_item.html.erb (0.9ms)
  Rendered cart/_cart.html.erb (5.0ms)
Completed 200 OK in 38ms (Views: 32.1ms | ActiveRecord: 1.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1[0m
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-17 11:55:47 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190988"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190988 LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190988[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-17 09:55:47', '2017-05-17 09:55:47')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190970, '2017-05-17 09:55:47', '2017-05-17 09:55:47')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 09:55:48' WHERE `orders`.`id` = 980190970[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190982
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 686ms (ActiveRecord: 2.2ms)
  [1m[35m (34.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 11:55:48 +0200
Processing by CheckoutController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:55:48', '2017-05-17 09:55:48')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190989 LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-17 11:55:48 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 09:55:48', '2017-05-17 09:55:48')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Suppliers Load (0.6ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.5ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (26.4ms)
  Rendered catalog/index.html.erb within layouts/application (28.4ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190990
  Rendered cart/_cart.html.erb (2.2ms)
Completed 200 OK in 47ms (Views: 37.1ms | ActiveRecord: 4.2ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-17 11:55:48 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190990 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Suppliers Load (0.4ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `articles`
  Rendered catalog/_articles.html.erb (14.7ms)
  Rendered catalog/index.html.erb within layouts/application (15.4ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190990
  Rendered cart/_cart.html.erb (1.3ms)
Completed 200 OK in 23ms (Views: 17.8ms | ActiveRecord: 2.7ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-17 11:55:48 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1[0m
  [1m[35mSupplier Load (0.4ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (4.5ms)
ApplicationController::current_user
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 1.7ms)
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-17 11:55:48 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190990 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/_articles.html.erb (9.9ms)
  Rendered catalog/latest.html.erb within layouts/application (10.4ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190990[0m
  Rendered cart/_cart.html.erb (1.0ms)
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 1.7ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-17 11:55:48 +0200
Processing by CatalogController#rss as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190990 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/rss.builder (7.8ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 1.1ms)
  [1m[36mArticle Load (0.8ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.3ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  [1m[35m (29.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (67.8ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:02:35', '2017-05-17 10:02:35', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:02:35', '2017-05-17 10:02:35', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:02:35', '2017-05-17 10:02:35', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:02:35', '2017-05-17 10:02:35', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:02:35', '2017-05-17 10:02:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:02:35', '2017-05-17 10:02:35', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:02:35', '2017-05-17 10:02:35')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:02:35', '2017-05-17 10:02:35')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:02:35', '2017-05-17 10:02:35')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:02:35', '2017-05-17 10:02:35')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:02:35', '2017-05-17 10:02:35')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:02:35', '2017-05-17 10:02:35')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:02:35', '2017-05-17 10:02:35')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:02:35', '2017-05-17 10:02:35')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:02:35', '2017-05-17 10:02:35')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:02:35', '2017-05-17 10:02:35')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:02:35', '2017-05-17 12:02:35', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:02:35', '2017-05-17 12:02:35', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:02:35', '2017-05-17 12:02:35', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:02:35', '2017-05-17 12:02:35', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:02:35', '2017-05-17 12:02:35', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:02:35', '2017-05-17 10:02:35', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:02:35', '2017-05-17 10:02:35', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:02:35', '2017-05-17 10:02:35')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:02:35', '2017-05-17 10:02:35')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:02:35', '2017-05-17 10:02:35')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:02:35', '2017-05-17 10:02:35')[0m
  [1m[35m (87.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.6ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 216ms (Views: 214.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (87.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:03:27', '2017-05-17 10:03:27', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:03:27', '2017-05-17 10:03:27', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:03:27', '2017-05-17 10:03:27', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:03:27', '2017-05-17 10:03:27', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:03:27', '2017-05-17 10:03:27', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:03:27', '2017-05-17 10:03:27', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:03:27', '2017-05-17 10:03:27')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:03:27', '2017-05-17 10:03:27')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:03:27', '2017-05-17 10:03:27')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:03:27', '2017-05-17 10:03:27')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:03:27', '2017-05-17 10:03:27')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:03:27', '2017-05-17 10:03:27')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:03:27', '2017-05-17 10:03:27')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:03:27', '2017-05-17 10:03:27')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:03:27', '2017-05-17 10:03:27')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:03:27', '2017-05-17 10:03:27')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:03:27', '2017-05-17 12:03:27', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:03:27', '2017-05-17 12:03:27', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:03:27', '2017-05-17 12:03:27', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:03:27', '2017-05-17 12:03:27', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:03:27', '2017-05-17 12:03:27', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:03:27', '2017-05-17 10:03:27', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:03:27', '2017-05-17 10:03:27', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:03:27', '2017-05-17 10:03:27')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:03:27', '2017-05-17 10:03:27')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:03:28', '2017-05-17 10:03:28')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:03:28', '2017-05-17 10:03:28')[0m
  [1m[35m (82.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-05-17 10:03:28', '2017-05-17 10:03:28')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (149.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.2ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (170.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:02', '2017-05-17 10:04:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:02', '2017-05-17 10:04:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:02', '2017-05-17 10:04:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:02', '2017-05-17 10:04:02', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:02', '2017-05-17 10:04:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:02', '2017-05-17 10:04:02', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:04:02', '2017-05-17 10:04:02')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:04:02', '2017-05-17 10:04:02')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:04:02', '2017-05-17 10:04:02')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:04:02', '2017-05-17 10:04:02')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:04:02', '2017-05-17 10:04:02')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:04:02', '2017-05-17 10:04:02')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:04:02', '2017-05-17 10:04:02')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:04:02', '2017-05-17 10:04:02')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:04:02', '2017-05-17 10:04:02')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:04:02', '2017-05-17 10:04:02')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:02', '2017-05-17 12:04:02', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:02', '2017-05-17 12:04:02', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:02', '2017-05-17 12:04:02', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:02', '2017-05-17 12:04:02', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:02', '2017-05-17 12:04:02', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:02', '2017-05-17 10:04:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:02', '2017-05-17 10:04:02', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:04:02', '2017-05-17 10:04:02')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:04:02', '2017-05-17 10:04:02')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:04:02', '2017-05-17 10:04:02')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:04:02', '2017-05-17 10:04:02')[0m
  [1m[35m (73.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
SupplierTest: test_test_name
----------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Mateo', '2017-05-17 10:04:03', '2017-05-17 10:04:03')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (60.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (105.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:36', '2017-05-17 10:04:36', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:36', '2017-05-17 10:04:36', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:36', '2017-05-17 10:04:36', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:36', '2017-05-17 10:04:36', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:36', '2017-05-17 10:04:36', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:36', '2017-05-17 10:04:36', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:04:36', '2017-05-17 10:04:36')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:04:36', '2017-05-17 10:04:36')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:04:36', '2017-05-17 10:04:36')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:04:36', '2017-05-17 10:04:36')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:04:36', '2017-05-17 10:04:36')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:04:36', '2017-05-17 10:04:36')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:04:36', '2017-05-17 10:04:36')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:04:36', '2017-05-17 10:04:36')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:04:36', '2017-05-17 10:04:36')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:04:36', '2017-05-17 10:04:36')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:36', '2017-05-17 12:04:36', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:36', '2017-05-17 12:04:36', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:36', '2017-05-17 12:04:36', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:36', '2017-05-17 12:04:36', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:36', '2017-05-17 12:04:36', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:36', '2017-05-17 10:04:36', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:36', '2017-05-17 10:04:36', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:04:36', '2017-05-17 10:04:36')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:04:36', '2017-05-17 10:04:36')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:04:37', '2017-05-17 10:04:37')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:04:37', '2017-05-17 10:04:37')[0m
  [1m[35m (83.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_mapping
-------------------------------------------------
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `articles` (`title`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `manufacturer_id`, `created_at`, `updated_at`) VALUES ('Gorra', '2017-05-17 10:04:37', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, 1, '2017-05-17 10:04:37', '2017-05-17 10:04:37')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 23, '2017-05-17 10:04:37', '2017-05-17 10:04:37')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 23, '2017-05-17 10:04:37', '2017-05-17 10:04:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 23 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` WHERE `articles`.`manufacturer_id` = 1[0m
  [1m[35mManufacturer Load (0.4ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36m (129.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------
ArticleTest: test_failing_create
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
ArticleTest: test_has_many_and_belongs_to_many_suppliers_mapping
----------------------------------------------------------------
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36mSupplier Load (0.2ms)[0m  [1mSELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`name` = 'Adidas' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mArticle Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-x' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Gorra', 1, '2017-05-17 10:04:37', '123-123-123-x', 'Una gorra roja y una raya amarilla', 40, 55.5, '2017-05-17 10:04:37', '2017-05-17 10:04:37')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 24, '2017-05-17 10:04:37', '2017-05-17 10:04:37')[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 24, '2017-05-17 10:04:37', '2017-05-17 10:04:37')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 24 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 24[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Pepe' AND `suppliers`.`last_name` = 'Mateo' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 1[0m
  [1m[35mSupplier Load (0.3ms)[0m  SELECT  `suppliers`.* FROM `suppliers` WHERE `suppliers`.`first_name` = 'Toni' AND `suppliers`.`last_name` = 'Gavira' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles` INNER JOIN `articles_suppliers` ON `articles`.`id` = `articles_suppliers`.`article_id` WHERE `articles_suppliers`.`supplier_id` = 2[0m
  [1m[35m (43.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------
ArticleTest: test_create
------------------------
  [1m[35mManufacturer Load (0.6ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1
  [1m[36mSupplier Load (0.5ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 1 LIMIT 1[0m
  [1m[35mArticle Exists (0.2ms)[0m  SELECT  1 AS one FROM `articles` WHERE `articles`.`reference` = BINARY '123-123-123-1' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles` (`title`, `manufacturer_id`, `manufactured_at`, `reference`, `blurb`, `size`, `price`, `created_at`, `updated_at`) VALUES ('Zapatillas Running', 1, '2017-05-17 10:04:37', '123-123-123-1', 'Unas zapatillas rojas', 42, 90.5, '2017-05-17 10:04:37', '2017-05-17 10:04:37')[0m
  [1m[35mSQL (286.4ms)[0m  INSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (1, 25, '2017-05-17 10:04:37', '2017-05-17 10:04:37')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`supplier_id`, `article_id`, `created_at`, `updated_at`) VALUES (2, 25, '2017-05-17 10:04:37', '2017-05-17 10:04:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (40.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (83.5ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:53', '2017-05-17 10:04:53', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:53', '2017-05-17 10:04:53', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:53', '2017-05-17 10:04:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:53', '2017-05-17 10:04:53', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:53', '2017-05-17 10:04:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:53', '2017-05-17 10:04:53', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:04:53', '2017-05-17 10:04:53')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:04:53', '2017-05-17 10:04:53')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:04:53', '2017-05-17 10:04:53')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:04:53', '2017-05-17 10:04:53')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:04:53', '2017-05-17 10:04:53')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:04:53', '2017-05-17 10:04:53')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:04:53', '2017-05-17 10:04:53')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:04:53', '2017-05-17 10:04:53')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:04:53', '2017-05-17 10:04:53')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:04:53', '2017-05-17 10:04:53')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:53', '2017-05-17 12:04:53', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:53', '2017-05-17 12:04:53', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:53', '2017-05-17 12:04:53', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:53', '2017-05-17 12:04:53', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:04:53', '2017-05-17 12:04:53', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:53', '2017-05-17 10:04:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:04:53', '2017-05-17 10:04:53', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:04:53', '2017-05-17 10:04:53')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:04:53', '2017-05-17 10:04:53')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:04:54', '2017-05-17 10:04:54')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:04:54', '2017-05-17 10:04:54')[0m
  [1m[35m (39.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-17 12:04:54 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 10:04:54', '2017-05-17 10:04:54')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.5ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (84.6ms)
  Rendered catalog/index.html.erb within layouts/application (88.3ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190991[0m
  Rendered cart/_cart.html.erb (3.8ms)
Completed 200 OK in 277ms (Views: 209.7ms | ActiveRecord: 43.4ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-17 12:04:54 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190991 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.2ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.3ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (15.7ms)
  Rendered catalog/index.html.erb within layouts/application (16.1ms)
ApplicationController::current_user
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190991[0m
  Rendered cart/_cart.html.erb (0.9ms)
Completed 200 OK in 24ms (Views: 17.7ms | ActiveRecord: 1.9ms)
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-17 12:04:54 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (8.0ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 1.0ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-17 12:04:54 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190991 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.2ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (6.7ms)
  Rendered catalog/latest.html.erb within layouts/application (7.2ms)
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190991
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-17 12:04:54 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190991 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.7ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.5ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (8.9ms)
Completed 200 OK in 34ms (Views: 8.0ms | ActiveRecord: 2.0ms)
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.2ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (39.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:12', '2017-05-17 10:05:12', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:12', '2017-05-17 10:05:12', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:12', '2017-05-17 10:05:12', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:12', '2017-05-17 10:05:12', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:13', '2017-05-17 10:05:13', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:13', '2017-05-17 10:05:13', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:05:13', '2017-05-17 10:05:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:05:13', '2017-05-17 10:05:13')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:05:13', '2017-05-17 10:05:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:05:13', '2017-05-17 10:05:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:05:13', '2017-05-17 10:05:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:12', '2017-05-17 12:05:12', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:12', '2017-05-17 12:05:12', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:12', '2017-05-17 12:05:12', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:12', '2017-05-17 12:05:12', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:12', '2017-05-17 12:05:12', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:13', '2017-05-17 10:05:13', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:13', '2017-05-17 10:05:13', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:05:13', '2017-05-17 10:05:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:05:13', '2017-05-17 10:05:13')[0m
  [1m[35m (86.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190992 AND `cart_items`.`article_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190992, '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 45ms (ActiveRecord: 2.1ms)
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190992 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190992[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190992 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190992 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190983 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190983[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190992 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190992[0m
  [1m[35m (45.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190993 AND `cart_items`.`article_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190993, '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190993 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190993[0m
  [1m[35m (99.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------
CartControllerTest: test_add_xhr
--------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190994 AND `cart_items`.`article_id` = 5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 1, 500.0, 980190994, '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190994[0m
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (8.1ms)
  Rendered cart/add_with_ajax.js.erb (15.9ms)
Completed 200 OK in 31ms (Views: 23.5ms | ActiveRecord: 2.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190994 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190994
  [1m[36m (30.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190995 AND `cart_items`.`article_id` = 4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980190995, '2017-05-17 10:05:13', '2017-05-17 10:05:13')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190995 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190995[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190995 LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190995[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190986[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190995 LIMIT 1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190995
  [1m[36m (34.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (78.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:29', '2017-05-17 10:05:29', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:29', '2017-05-17 10:05:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:29', '2017-05-17 10:05:29', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:29', '2017-05-17 10:05:29', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:29', '2017-05-17 10:05:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:29', '2017-05-17 10:05:29', 298486374)[0m
  [1m[35mFixture Delete (86.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:05:29', '2017-05-17 10:05:29')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:05:29', '2017-05-17 10:05:29')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:05:29', '2017-05-17 10:05:29')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:05:29', '2017-05-17 10:05:29')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:05:29', '2017-05-17 10:05:29')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:05:29', '2017-05-17 10:05:29')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:05:29', '2017-05-17 10:05:29')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:05:29', '2017-05-17 10:05:29')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:05:29', '2017-05-17 10:05:29')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:05:29', '2017-05-17 10:05:29')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:29', '2017-05-17 12:05:29', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:29', '2017-05-17 12:05:29', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:29', '2017-05-17 12:05:29', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:29', '2017-05-17 12:05:29', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:29', '2017-05-17 12:05:29', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:29', '2017-05-17 10:05:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:29', '2017-05-17 10:05:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:05:29', '2017-05-17 10:05:29')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:05:29', '2017-05-17 10:05:29')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:05:29', '2017-05-17 10:05:29')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:05:29', '2017-05-17 10:05:29')[0m
  [1m[35m (85.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 12:05:30 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 10:05:30', '2017-05-17 10:05:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.7ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190996 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 65ms (ActiveRecord: 1.3ms)
  [1m[36m (41.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-17 12:05:30 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 10:05:30', '2017-05-17 10:05:30')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190997 AND `cart_items`.`article_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190997, '2017-05-17 10:05:30', '2017-05-17 10:05:30')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 1.9ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 12:05:30 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190997 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190997 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (14.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190997
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (0.9ms)
  Rendered cart/_cart.html.erb (4.9ms)
Completed 200 OK in 198ms (Views: 193.1ms | ActiveRecord: 2.2ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-17 12:05:30 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190997"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190997 LIMIT 1[0m
  [1m[35mCartItem Load (0.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190997
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-17 10:05:30', '2017-05-17 10:05:30')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190971, '2017-05-17 10:05:30', '2017-05-17 10:05:30')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 10:05:31' WHERE `orders`.`id` = 980190971
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190987[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1103ms (ActiveRecord: 2.5ms)
  [1m[36m (36.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (79.5ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:51', '2017-05-17 10:05:51', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:51', '2017-05-17 10:05:51', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:51', '2017-05-17 10:05:51', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:51', '2017-05-17 10:05:51', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:51', '2017-05-17 10:05:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:51', '2017-05-17 10:05:51', 298486374)[0m
  [1m[35mFixture Delete (65.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:05:51', '2017-05-17 10:05:51')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:05:51', '2017-05-17 10:05:51')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:05:51', '2017-05-17 10:05:51')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:05:51', '2017-05-17 10:05:51')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:05:51', '2017-05-17 10:05:51')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:05:51', '2017-05-17 10:05:51')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:05:51', '2017-05-17 10:05:51')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:05:51', '2017-05-17 10:05:51')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:05:51', '2017-05-17 10:05:51')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:05:51', '2017-05-17 10:05:51')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:51', '2017-05-17 12:05:51', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:51', '2017-05-17 12:05:51', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:51', '2017-05-17 12:05:51', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:51', '2017-05-17 12:05:51', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:05:51', '2017-05-17 12:05:51', 5, 1)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:51', '2017-05-17 10:05:51', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:05:51', '2017-05-17 10:05:51', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:05:51', '2017-05-17 10:05:51')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:05:51', '2017-05-17 10:05:51')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:05:51', '2017-05-17 10:05:51')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:05:51', '2017-05-17 10:05:51')[0m
  [1m[35m (31.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
UserTest: test_user_account
---------------------------
Started GET "/user/new" for 127.0.0.1 at 2017-05-17 12:05:51 +0200
Processing by UserController#new as HTML
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered user/_form.html.erb (2.5ms)
  Rendered user/new.html.erb within layouts/application (6.7ms)
ApplicationController::current_user
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users`
Completed 200 OK in 198ms (Views: 166.6ms | ActiveRecord: 1.2ms)
Started POST "/user/create" for 127.0.0.1 at 2017-05-17 12:05:51 +0200
Processing by UserController#create as HTML
  Parameters: {"user"=>{"name"=>"George Smith", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`email` = 'george@emporium.com' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`login` = 'george' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`persistence_token` = BINARY '4438aa08d0ec0db691225ba006e591757dccea61dfe906474cbc462af1d3e8fa1b3cc3ebce2e6cefcf5675b184963f30745469c47e1ad5f1ecf81a4a0fc310eb' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`name` = BINARY 'George Smith' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE `users`.`login` = BINARY 'george' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE `users`.`email` = BINARY 'george@emporium.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`name`, `login`, `email`, `password_salt`, `crypted_password`, `persistence_token`, `perishable_token`, `login_count`, `current_login_at`, `current_login_ip`, `last_request_at`, `created_at`, `updated_at`) VALUES ('George Smith', 'george', 'george@emporium.com', 'KEDFuSExaAZq2B58hZIf', '400$8$37$4f3f2b41de283ff4$e526aa5e327949f5b642f818551788a1dc0fbbb00994738f76b4e89277433c43', '4438aa08d0ec0db691225ba006e591757dccea61dfe906474cbc462af1d3e8fa1b3cc3ebce2e6cefcf5675b184963f30745469c47e1ad5f1ecf81a4a0fc310eb', 'JrR9mZbVKe2ohVIHoNZ', 1, '2017-05-17 10:05:52', '127.0.0.1', '2017-05-17 10:05:52', '2017-05-17 10:05:52', '2017-05-17 10:05:52')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 189ms (ActiveRecord: 2.5ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 12:05:52 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`persistence_token` = '4438aa08d0ec0db691225ba006e591757dccea61dfe906474cbc462af1d3e8fa1b3cc3ebce2e6cefcf5675b184963f30745469c47e1ad5f1ecf81a4a0fc310eb' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 10:05:52', `perishable_token` = 'cgy25gX1AyGfwQoAxBuA', `updated_at` = '2017-05-17 10:05:52' WHERE `users`.`id` = 23[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (1.0ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 12ms (Views: 3.3ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`login` = 'george' LIMIT 1
Started GET "/user/show/?id=23" for 127.0.0.1 at 2017-05-17 12:05:52 +0200
Processing by UserController#show as HTML
  Parameters: {"id"=>"23"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 10:05:52', `perishable_token` = 'EKIgTacxWr5iGtq5kGRC', `updated_at` = '2017-05-17 10:05:52' WHERE `users`.`id` = 23
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 8ms (Views: 2.5ms | ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
Started GET "/user/edit?id=23" for 127.0.0.1 at 2017-05-17 12:05:52 +0200
Processing by UserController#edit as HTML
  Parameters: {"id"=>"23"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (49.7ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 10:05:52', `perishable_token` = 'ZBVvUYLIIzvcm8FKn', `updated_at` = '2017-05-17 10:05:52' WHERE `users`.`id` = 23
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/_form.html.erb (0.5ms)
  Rendered user/edit.html.erb within layouts/application (2.5ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 59ms (Views: 4.9ms | ActiveRecord: 50.3ms)
Started POST "/user/update" for 127.0.0.1 at 2017-05-17 12:05:52 +0200
Processing by UserController#update as HTML
  Parameters: {"user"=>{"name"=>"George Jackson", "login"=>"george", "email"=>"george@emporium.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.4ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2017-05-17 10:05:52', `perishable_token` = 'MlFqj1s9a0T3Ivs4g3r6', `updated_at` = '2017-05-17 10:05:52' WHERE `users`.`id` = 23[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
ApplicationController::current_user_session
ApplicationController::current_user
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`persistence_token` = BINARY '1a281d7bbb6e923ac73162212d2aa848263cc2a7ce88789d3bb281111d5ccb22c88b149ee8a2a6cf292cf679a49ae6bfd5e52e937e07f0164427785da0f2073c' AND `users`.`id` != 23) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`name` = BINARY 'George Jackson' AND `users`.`id` != 23) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.`id` != 23) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM `users` WHERE (`users`.`email` = BINARY 'george@emporium.com' AND `users`.`id` != 23) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `users` SET `name` = 'George Jackson', `password_salt` = 'c3ag4LmEIBwhCy3ooVP', `crypted_password` = '400$8$35$32ebdb93cda5f38a$0cc27345e5c608d9bb7770cb1508c1133c0ea7cd5b441fd423ce5f691614d949', `persistence_token` = '1a281d7bbb6e923ac73162212d2aa848263cc2a7ce88789d3bb281111d5ccb22c88b149ee8a2a6cf292cf679a49ae6bfd5e52e937e07f0164427785da0f2073c', `perishable_token` = 'JrSsBBIdfRXEnXWN9H86', `last_request_at` = '2017-05-17 10:05:52', `login_count` = 2, `last_login_at` = '2017-05-17 10:05:52', `current_login_at` = '2017-05-17 10:05:52', `last_login_ip` = '127.0.0.1', `updated_at` = '2017-05-17 10:05:52' WHERE `users`.`id` = 23
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/show
Completed 302 Found in 155ms (ActiveRecord: 3.5ms)
Started GET "/user/show" for 127.0.0.1 at 2017-05-17 12:05:52 +0200
Processing by UserController#show as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2017-05-17 10:05:52', `perishable_token` = 'aWZiRsa8KCMXk5qyCA40', `updated_at` = '2017-05-17 10:05:52' WHERE `users`.`id` = 23
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::current_user_session
ApplicationController::current_user
  Rendered user/show.html.erb within layouts/application (0.4ms)
ApplicationController::current_user
ApplicationController::current_user
Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  `users`.* FROM `users`  ORDER BY `users`.`id` DESC LIMIT 1
  [1m[36m (30.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (64.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:11', '2017-05-17 10:06:11', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:11', '2017-05-17 10:06:11', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:12', '2017-05-17 10:06:12', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:12', '2017-05-17 10:06:12', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:12', '2017-05-17 10:06:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:12', '2017-05-17 10:06:12', 298486374)[0m
  [1m[35mFixture Delete (72.8ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:06:12', '2017-05-17 10:06:12')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:06:12', '2017-05-17 10:06:12')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:06:12', '2017-05-17 10:06:12')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:06:12', '2017-05-17 10:06:12')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:06:12', '2017-05-17 10:06:12')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:06:12', '2017-05-17 10:06:12')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:06:12', '2017-05-17 10:06:12')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:06:12', '2017-05-17 10:06:12')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:06:12', '2017-05-17 10:06:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:06:12', '2017-05-17 10:06:12')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:06:11', '2017-05-17 12:06:11', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:06:11', '2017-05-17 12:06:11', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:06:11', '2017-05-17 12:06:11', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:06:11', '2017-05-17 12:06:11', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:06:11', '2017-05-17 12:06:11', 5, 1)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:12', '2017-05-17 10:06:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:12', '2017-05-17 10:06:12', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:06:12', '2017-05-17 10:06:12')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:06:12', '2017-05-17 10:06:12')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:06:12', '2017-05-17 10:06:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:06:12', '2017-05-17 10:06:12')[0m
  [1m[35m (72.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
ManufacturerTest: test_failing_create
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------
ManufacturerTest: test_create
-----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManufacturer Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Joma' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Joma', '2017-05-17 10:06:12', '2017-05-17 10:06:12')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (43.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (67.7ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:37', '2017-05-17 10:06:37', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:37', '2017-05-17 10:06:37', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:37', '2017-05-17 10:06:37', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:37', '2017-05-17 10:06:37', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:37', '2017-05-17 10:06:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:37', '2017-05-17 10:06:37', 298486374)[0m
  [1m[35mFixture Delete (76.0ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:06:37', '2017-05-17 10:06:37')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:06:37', '2017-05-17 10:06:37')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:06:37', '2017-05-17 10:06:37')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:06:37', '2017-05-17 10:06:37')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:06:37', '2017-05-17 10:06:37')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:06:37', '2017-05-17 10:06:37')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:06:37', '2017-05-17 10:06:37')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:06:37', '2017-05-17 10:06:37')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:06:37', '2017-05-17 10:06:37')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:06:37', '2017-05-17 10:06:37')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:06:37', '2017-05-17 12:06:37', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:06:37', '2017-05-17 12:06:37', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:06:37', '2017-05-17 12:06:37', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:06:37', '2017-05-17 12:06:37', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:06:37', '2017-05-17 12:06:37', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:37', '2017-05-17 10:06:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:06:37', '2017-05-17 10:06:37', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:06:37', '2017-05-17 10:06:37')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:06:37', '2017-05-17 10:06:37')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:06:37', '2017-05-17 10:06:37')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:06:37', '2017-05-17 10:06:37')[0m
  [1m[35m (42.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
Admin::ManufacturerControllerTest: test_create
----------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `manufacturers`[0m
Processing by Admin::ManufacturerController#create as HTML
  Parameters: {"manufacturer"=>{"name"=>"New Balance"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 14ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ManufacturerControllerTest: test_new
-------------------------------------------
Processing by Admin::ManufacturerController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
Admin::ManufacturerControllerTest: test_index
---------------------------------------------
Processing by Admin::ManufacturerController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
Admin::ManufacturerControllerTest: test_edit
--------------------------------------------
Processing by Admin::ManufacturerController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
Admin::ManufacturerControllerTest: test_update
----------------------------------------------
Processing by Admin::ManufacturerController#update as HTML
  Parameters: {"id"=>"1", "manufacturer"=>{"name"=>"Adidas.com"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
Admin::ManufacturerControllerTest: test_destroy
-----------------------------------------------
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `manufacturers`
Processing by Admin::ManufacturerController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
Admin::ManufacturerControllerTest: test_show
--------------------------------------------
Processing by Admin::ManufacturerController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (72.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:07', '2017-05-17 10:08:07', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:07', '2017-05-17 10:08:07', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:08', '2017-05-17 10:08:08', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:08', '2017-05-17 10:08:08', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:08', '2017-05-17 10:08:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:08', '2017-05-17 10:08:08', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:08:08', '2017-05-17 10:08:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:08:08', '2017-05-17 10:08:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:08:08', '2017-05-17 10:08:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:08:08', '2017-05-17 10:08:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:08:08', '2017-05-17 10:08:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:08:08', '2017-05-17 10:08:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:08:08', '2017-05-17 10:08:08')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:08:08', '2017-05-17 10:08:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:08:08', '2017-05-17 10:08:08')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:08:08', '2017-05-17 10:08:08')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:08:07', '2017-05-17 12:08:07', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:08:07', '2017-05-17 12:08:07', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:08:07', '2017-05-17 12:08:07', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:08:07', '2017-05-17 12:08:07', 4, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:08:07', '2017-05-17 12:08:07', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:08', '2017-05-17 10:08:08', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:08', '2017-05-17 10:08:08', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:08:08', '2017-05-17 10:08:08')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:08:08', '2017-05-17 10:08:08')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:08:08', '2017-05-17 10:08:08')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:08:08', '2017-05-17 10:08:08')[0m
  [1m[35m (71.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_update
------------------------------------------
Processing by Admin::SupplierController#update as HTML
  Parameters: {"id"=>"1", "supplier"=>{"first_name"=>"Gabriel", "last_name"=>"Mateo"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 25ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::SupplierControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `suppliers`[0m
Processing by Admin::SupplierController#create as HTML
  Parameters: {"supplier"=>{"first_name"=>"Pepe"}}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::SupplierControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `suppliers`
Processing by Admin::SupplierController#destroy as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_edit
----------------------------------------
Processing by Admin::SupplierController#edit as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::SupplierControllerTest: test_create
------------------------------------------
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::SupplierControllerTest: test_index
-----------------------------------------
Processing by Admin::SupplierController#index as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::SupplierControllerTest: test_new
---------------------------------------
Processing by Admin::SupplierController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::SupplierControllerTest: test_show
----------------------------------------
Processing by Admin::SupplierController#show as HTML
  Parameters: {"id"=>"1"}
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://test.host/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:34', '2017-05-17 10:08:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:34', '2017-05-17 10:08:34', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:34', '2017-05-17 10:08:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:34', '2017-05-17 10:08:34', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:34', '2017-05-17 10:08:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:34', '2017-05-17 10:08:34', 298486374)[0m
  [1m[35mFixture Delete (64.9ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:08:34', '2017-05-17 10:08:34')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:08:34', '2017-05-17 10:08:34')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:08:34', '2017-05-17 10:08:34')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:08:34', '2017-05-17 10:08:34')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:08:34', '2017-05-17 10:08:34')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:08:34', '2017-05-17 10:08:34')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:08:34', '2017-05-17 10:08:34')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:08:34', '2017-05-17 10:08:34')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:08:34', '2017-05-17 10:08:34')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:08:34', '2017-05-17 10:08:34')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:08:34', '2017-05-17 12:08:34', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:08:34', '2017-05-17 12:08:34', 2, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:08:34', '2017-05-17 12:08:34', 3, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:08:34', '2017-05-17 12:08:34', 4, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:08:34', '2017-05-17 12:08:34', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:34', '2017-05-17 10:08:34', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:08:34', '2017-05-17 10:08:34', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:08:34', '2017-05-17 10:08:34')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:08:34', '2017-05-17 10:08:34')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:08:34', '2017-05-17 10:08:34')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:08:34', '2017-05-17 10:08:34')[0m
  [1m[35m (74.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
ArticleAdministrationTest: test_article_aministration
-----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManufacturer Exists (0.3ms)[0m  SELECT  1 AS one FROM `manufacturers` WHERE `manufacturers`.`name` = BINARY 'Fabricante de UCASport' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`name`, `created_at`, `updated_at`) VALUES ('Fabricante de UCASport', '2017-05-17 10:08:34', '2017-05-17 10:08:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `suppliers` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Pepe', 'Gonzalez', '2017-05-17 10:08:34', '2017-05-17 10:08:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSupplier Load (0.2ms)[0m  SELECT  `suppliers`.* FROM `suppliers`  ORDER BY `suppliers`.`id` ASC LIMIT 1
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT  `manufacturers`.* FROM `manufacturers`  ORDER BY `manufacturers`.`id` ASC LIMIT 1[0m
Started GET "/admin/article/new" for 127.0.0.1 at 2017-05-17 12:08:34 +0200
Processing by Admin::ArticleController#new as HTML
ApplicationController::require_user
ApplicationController::current_user
ApplicationController::current_user_session
Redirected to http://www.example.com/user_sessions/new
Filter chain halted as :require_user rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 0.8ms)
  [1m[35m (42.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (83.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:12:09', '2017-05-17 10:12:09', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:12:09', '2017-05-17 10:12:09', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:12:09', '2017-05-17 10:12:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:12:09', '2017-05-17 10:12:09', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:12:09', '2017-05-17 10:12:09', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:12:09', '2017-05-17 10:12:09', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 10:12:09', '2017-05-17 10:12:09')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 10:12:09', '2017-05-17 10:12:09')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 10:12:09', '2017-05-17 10:12:09')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 10:12:09', '2017-05-17 10:12:09')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 10:12:09', '2017-05-17 10:12:09')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 10:12:09', '2017-05-17 10:12:09')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 10:12:09', '2017-05-17 10:12:09')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 10:12:09', '2017-05-17 10:12:09')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 10:12:09', '2017-05-17 10:12:09')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 10:12:09', '2017-05-17 10:12:09')
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:12:09', '2017-05-17 12:12:09', 1, 1)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:12:09', '2017-05-17 12:12:09', 2, 1)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:12:09', '2017-05-17 12:12:09', 3, 2)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:12:09', '2017-05-17 12:12:09', 4, 2)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 12:12:09', '2017-05-17 12:12:09', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:12:09', '2017-05-17 10:12:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 10:12:09', '2017-05-17 10:12:09', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 10:12:09', '2017-05-17 10:12:09')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 10:12:09', '2017-05-17 10:12:09')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 10:12:09', '2017-05-17 10:12:09')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 10:12:09', '2017-05-17 10:12:09')[0m
  [1m[35m (72.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-17 12:12:09 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 10:12:09', '2017-05-17 10:12:09')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190998 AND `cart_items`.`article_id` = 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980190998, '2017-05-17 10:12:09', '2017-05-17 10:12:09')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 45ms (ActiveRecord: 1.8ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 12:12:09 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190998 LIMIT 1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190998 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (15.7ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.4ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190998
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (1.0ms)
  Rendered cart/_cart.html.erb (5.4ms)
Completed 200 OK in 222ms (Views: 201.3ms | ActiveRecord: 2.3ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-17 12:12:10 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980190998"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190998 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190998
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-17 10:12:10', '2017-05-17 10:12:10')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190972, '2017-05-17 10:12:10', '2017-05-17 10:12:10')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 10:12:11' WHERE `orders`.`id` = 980190972
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190988[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1015ms (ActiveRecord: 2.2ms)
  [1m[36m (34.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 12:12:11 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 10:12:11', '2017-05-17 10:12:11')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.5ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980190999 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[36m (95.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (85.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 11:44:13', '2017-05-17 11:44:13', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 11:44:13', '2017-05-17 11:44:13', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 11:44:13', '2017-05-17 11:44:13', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 11:44:13', '2017-05-17 11:44:13', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 11:44:13', '2017-05-17 11:44:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 11:44:13', '2017-05-17 11:44:13', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 11:44:13', '2017-05-17 11:44:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 11:44:13', '2017-05-17 11:44:13')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 11:44:13', '2017-05-17 11:44:13')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 11:44:13', '2017-05-17 11:44:13')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 11:44:13', '2017-05-17 11:44:13')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 11:44:13', '2017-05-17 11:44:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 11:44:13', '2017-05-17 11:44:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 11:44:13', '2017-05-17 11:44:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 11:44:13', '2017-05-17 11:44:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 11:44:13', '2017-05-17 11:44:13')
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 13:44:13', '2017-05-17 13:44:13', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 13:44:13', '2017-05-17 13:44:13', 2, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 13:44:13', '2017-05-17 13:44:13', 3, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 13:44:13', '2017-05-17 13:44:13', 4, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 13:44:13', '2017-05-17 13:44:13', 5, 1)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 11:44:13', '2017-05-17 11:44:13', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 11:44:13', '2017-05-17 11:44:13', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 11:44:13', '2017-05-17 11:44:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 11:44:13', '2017-05-17 11:44:13')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 11:44:13', '2017-05-17 11:44:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 11:44:13', '2017-05-17 11:44:13')[0m
  [1m[35m (135.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CheckoutTest: test_empty_cart_shows_error_message
-------------------------------------------------
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 13:44:13 +0200
Processing by CheckoutController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 11:44:13', '2017-05-17 11:44:13')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Exists (0.4ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980191000 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 39ms (ActiveRecord: 1.0ms)
  [1m[36m (46.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------
CheckoutTest: test_submitting_order
-----------------------------------
Started POST "/cart/add" for 127.0.0.1 at 2017-05-17 13:44:14 +0200
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 11:44:14', '2017-05-17 11:44:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191001 AND `cart_items`.`article_id` = 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 100.0, 980191001, '2017-05-17 11:44:14', '2017-05-17 11:44:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 2.7ms)
Started GET "/checkout" for 127.0.0.1 at 2017-05-17 13:44:14 +0200
Processing by CheckoutController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191001 LIMIT 1[0m
  [1m[35mArticle Exists (0.3ms)[0m  SELECT  1 AS one FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980191001 LIMIT 1
  Rendered checkout/index.html.erb within layouts/application (17.8ms)
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  Rendered cart/_cart_notice.html.erb (0.3ms)
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191001
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 1 LIMIT 1[0m
  Rendered cart/_item.html.erb (0.9ms)
  Rendered cart/_cart.html.erb (5.1ms)
Completed 200 OK in 205ms (Views: 199.6ms | ActiveRecord: 2.4ms)
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts`  ORDER BY `carts`.`id` DESC LIMIT 1
Started POST "/checkout/submit_order" for 127.0.0.1 at 2017-05-17 13:44:14 +0200
Processing by CheckoutController#submit_order as HTML
  Parameters: {"cart"=>{"id"=>"980191001"}, "order"=>{"email"=>"email@email.com", "phone_number"=>"666112233", "ship_to_first_name"=>"Firstname", "ship_to_last_name"=>"Lastname", "ship_to_address"=>"Address", "ship_to_city"=>"City", "ship_to_postal_code"=>"00000", "ship_to_country_code"=>"Country", "card_type"=>"Visa", "card_number"=>"4007000000027", "card_expiration_month"=>"3", "card_expiration_year"=>"2018", "card_verification_value"=>"000"}}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191001 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191001
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'COUNTRY', '127.0.0.1', 'open', '2017-05-17 11:44:14', '2017-05-17 11:44:14')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `order_items` (`article_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 100.0, 1, 980190973, '2017-05-17 11:44:14', '2017-05-17 11:44:14')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (124.1ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2017-05-17 11:44:15' WHERE `orders`.`id` = 980190973
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190989[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/checkout/thank_you
Completed 302 Found in 1694ms (ActiveRecord: 127.1ms)
  [1m[36m (89.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (72.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:28', '2017-05-17 13:28:28', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:28', '2017-05-17 13:28:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:28', '2017-05-17 13:28:28', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:28', '2017-05-17 13:28:28', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:28', '2017-05-17 13:28:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:28', '2017-05-17 13:28:28', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 13:28:28', '2017-05-17 13:28:28')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 13:28:28', '2017-05-17 13:28:28')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 13:28:28', '2017-05-17 13:28:28')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 13:28:28', '2017-05-17 13:28:28')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 13:28:28', '2017-05-17 13:28:28')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 13:28:28', '2017-05-17 13:28:28')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 13:28:28', '2017-05-17 13:28:28')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 13:28:28', '2017-05-17 13:28:28')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 13:28:28', '2017-05-17 13:28:28')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 13:28:28', '2017-05-17 13:28:28')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 15:28:28', '2017-05-17 15:28:28', 1, 1)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 15:28:28', '2017-05-17 15:28:28', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 15:28:28', '2017-05-17 15:28:28', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 15:28:28', '2017-05-17 15:28:28', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 15:28:28', '2017-05-17 15:28:28', 5, 1)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:28', '2017-05-17 13:28:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:28', '2017-05-17 13:28:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 13:28:28', '2017-05-17 13:28:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 13:28:28', '2017-05-17 13:28:28')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 13:28:29', '2017-05-17 13:28:29')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 13:28:29', '2017-05-17 13:28:29')[0m
  [1m[35m (68.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2017-05-17 15:28:29 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 13:28:29', '2017-05-17 13:28:29')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (58.6ms)
  Rendered catalog/index.html.erb within layouts/application (64.4ms)
ApplicationController::current_user
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.4ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191002[0m
  Rendered cart/_cart.html.erb (5.1ms)
Completed 200 OK in 650ms (Views: 611.1ms | ActiveRecord: 5.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2017-05-17 15:28:29 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.3ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191002 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (5, 4, 3, 2, 1)
  [1m[36mSupplier Load (0.6ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` WHERE `suppliers`.`id` IN (1, 2)[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2, 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `articles`[0m
  Rendered catalog/_articles.html.erb (19.5ms)
  Rendered catalog/index.html.erb within layouts/application (20.1ms)
ApplicationController::current_user
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users`
  [1m[36mCartItem Load (0.3ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191002[0m
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 30ms (Views: 21.8ms | ActiveRecord: 2.9ms)
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_1' LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`title` = 'Articulo_9'  ORDER BY `articles`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2017-05-17 15:28:29 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.3ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 9 LIMIT 1
  [1m[36mSupplier Load (0.4ms)[0m  [1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9[0m
  [1m[35mManufacturer Load (0.3ms)[0m  SELECT  `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (8.5ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 1.3ms)
  [1m[35mSupplier Load (0.3ms)[0m  SELECT `suppliers`.* FROM `suppliers` INNER JOIN `articles_suppliers` ON `suppliers`.`id` = `articles_suppliers`.`supplier_id` WHERE `articles_suppliers`.`article_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2017-05-17 15:28:29 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191002 LIMIT 1[0m
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[35mArticle Load (0.2ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  Rendered catalog/_articles.html.erb (7.5ms)
  Rendered catalog/latest.html.erb within layouts/application (8.0ms)
ApplicationController::current_user
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191002
  Rendered cart/_cart.html.erb (1.2ms)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 1.5ms)
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.2ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.2ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
Started GET "/catalog/rss" for 127.0.0.1 at 2017-05-17 15:28:29 +0200
Processing by CatalogController#rss as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191002 LIMIT 1
ApplicationController::require_no_user
ApplicationController::current_user
ApplicationController::current_user_session
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5[0m
  [1m[35mHABTM_Suppliers Load (0.3ms)[0m  SELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)
  [1m[36mManufacturer Load (0.4ms)[0m  [1mSELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)[0m
  Rendered catalog/rss.builder (9.2ms)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 1.7ms)
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles`  ORDER BY articles.id desc LIMIT 5
  [1m[36mHABTM_Suppliers Load (0.3ms)[0m  [1mSELECT `articles_suppliers`.* FROM `articles_suppliers` WHERE `articles_suppliers`.`article_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mManufacturer Load (0.2ms)[0m  SELECT `manufacturers`.* FROM `manufacturers` WHERE `manufacturers`.`id` IN (2)
  [1m[36m (67.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:37', '2017-05-17 13:28:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:37', '2017-05-17 13:28:37', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:37', '2017-05-17 13:28:37', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:37', '2017-05-17 13:28:37', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:37', '2017-05-17 13:28:37', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:37', '2017-05-17 13:28:37', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `articles`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (1, 'Articulo_1', 1, '199-199-199-1', '2017-05-17', 100.0, 40, '2017-05-17 13:28:37', '2017-05-17 13:28:37')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (2, 'Articulo_2', 1, '199-199-199-2', '2017-05-17', 200.0, 40, '2017-05-17 13:28:37', '2017-05-17 13:28:37')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (3, 'Articulo_3', 2, '199-199-199-3', '2017-05-17', 300.0, 40, '2017-05-17 13:28:37', '2017-05-17 13:28:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (4, 'Articulo_4', 2, '199-199-199-4', '2017-05-17', 400.0, 40, '2017-05-17 13:28:37', '2017-05-17 13:28:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (5, 'Articulo_5', 2, '199-199-199-5', '2017-05-17', 500.0, 40, '2017-05-17 13:28:37', '2017-05-17 13:28:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (6, 'Articulo_6', 2, '199-199-199-6', '2017-05-17', 600.0, 40, '2017-05-17 13:28:37', '2017-05-17 13:28:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (7, 'Articulo_7', 2, '199-199-199-7', '2017-05-17', 700.0, 40, '2017-05-17 13:28:37', '2017-05-17 13:28:37')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (8, 'Articulo_8', 2, '199-199-199-8', '2017-05-17', 800.0, 40, '2017-05-17 13:28:37', '2017-05-17 13:28:37')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (9, 'Articulo_9', 2, '199-199-199-9', '2017-05-17', 900.0, 40, '2017-05-17 13:28:37', '2017-05-17 13:28:37')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `articles` (`id`, `title`, `manufacturer_id`, `reference`, `manufactured_at`, `price`, `size`, `created_at`, `updated_at`) VALUES (10, 'Articulo_10', 2, '299-199-199-1', '2017-05-17', 1000.0, 40, '2017-05-17 13:28:37', '2017-05-17 13:28:37')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `articles_suppliers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 15:28:37', '2017-05-17 15:28:37', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 15:28:37', '2017-05-17 15:28:37', 2, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 15:28:37', '2017-05-17 15:28:37', 3, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 15:28:37', '2017-05-17 15:28:37', 4, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `articles_suppliers` (`created_at`, `updated_at`, `article_id`, `supplier_id`) VALUES ('2017-05-17 15:28:37', '2017-05-17 15:28:37', 5, 1)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `cart_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:38', '2017-05-17 13:28:38', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2017-05-17 13:28:38', '2017-05-17 13:28:38', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `suppliers`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Pepe', 'Mateo', '2017-05-17 13:28:38', '2017-05-17 13:28:38')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `suppliers` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Toni', 'Gavira', '2017-05-17 13:28:38', '2017-05-17 13:28:38')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `manufacturers`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Adidas', '2017-05-17 13:28:38', '2017-05-17 13:28:38')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `manufacturers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Nike', '2017-05-17 13:28:38', '2017-05-17 13:28:38')[0m
  [1m[35m (82.1ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 13:28:38', '2017-05-17 13:28:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191003 AND `cart_items`.`article_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980191003, '2017-05-17 13:28:38', '2017-05-17 13:28:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 58ms (ActiveRecord: 3.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191003 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191003
  [1m[36m (42.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 13:28:38', '2017-05-17 13:28:38')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191004 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980191004, '2017-05-17 13:28:38', '2017-05-17 13:28:38')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 3.5ms)
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191004 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980191004[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191004 LIMIT 1
  [1m[36mArticle Load (0.2ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.3ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191004 AND `cart_items`.`article_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.2ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190991 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190991[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35mCart Load (0.2ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191004 LIMIT 1
  [1m[36mArticle Load (0.3ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980191004[0m
  [1m[35m (101.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------
CartControllerTest: test_add_xhr
--------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as JS
  Parameters: {"id"=>"5"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 13:28:38', '2017-05-17 13:28:38')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  [1m[36mArticle Load (0.4ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191005 AND `cart_items`.`article_id` = 5
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 1, 500.0, 980191005, '2017-05-17 13:28:38', '2017-05-17 13:28:38')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.4ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 5 LIMIT 1
  Rendered cart/_cart_notice.html.erb (0.5ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191005[0m
  Rendered cart/_item.html.erb (1.4ms)
  Rendered cart/_cart.html.erb (13.3ms)
  Rendered cart/add_with_ajax.js.erb (25.7ms)
Completed 200 OK in 54ms (Views: 39.6ms | ActiveRecord: 4.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191005 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191005
  [1m[36m (37.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2017-05-17 13:28:38', '2017-05-17 13:28:38')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.6ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191006 AND `cart_items`.`article_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `cart_items` (`article_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 400.0, 980191006, '2017-05-17 13:28:38', '2017-05-17 13:28:38')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mArticle Load (0.5ms)[0m  SELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 21ms (ActiveRecord: 4.4ms)
  [1m[36mArticle Load (0.5ms)[0m  [1mSELECT  `articles`.* FROM `articles` WHERE `articles`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191006 LIMIT 1
  [1m[36mArticle Load (0.6ms)[0m  [1mSELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980191006[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191006 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191006[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190993[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 2.8ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191006 LIMIT 1[0m
  [1m[35mArticle Load (0.7ms)[0m  SELECT `articles`.* FROM `articles` INNER JOIN `cart_items` ON `articles`.`id` = `cart_items`.`article_id` WHERE `cart_items`.`cart_id` = 980191006
  [1m[36m (45.0ms)[0m  [1mROLLBACK[0m
